(()=>{var W={7452:W=>{var q=function(W){"use strict";var q,k=Object.prototype,u=k.hasOwnProperty,O="function"==typeof Symbol?Symbol:{},p=O.iterator||"@@iterator",b=O.asyncIterator||"@@asyncIterator",s=O.toStringTag||"@@toStringTag";function y(W,q,k){return Object.defineProperty(W,q,{value:k,enumerable:!0,configurable:!0,writable:!0}),W[q]}try{y({},"")}catch(W){y=function(W,q,k){return W[q]=k}}function E(W,q,k,u){var O=q&&q.prototype instanceof D?q:D,p=Object.create(O.prototype),b=new e(u||[]);return p._invoke=function(W,q,k){var u=i;return function(O,p){if(u===Q)throw new Error("Generator is already running");if(u===X){if("throw"===O)throw p;return J()}for(k.method=O,k.arg=p;;){var b=k.delegate;if(b){var s=o(b,k);if(s){if(s===n)continue;return s}}if("next"===k.method)k.sent=k._sent=k.arg;else if("throw"===k.method){if(u===i)throw u=X,k.arg;k.dispatchException(k.arg)}else"return"===k.method&&k.abrupt("return",k.arg);u=Q;var y=R(W,q,k);if("normal"===y.type){if(u=k.done?X:h,y.arg===n)continue;return{value:y.arg,done:k.done}}"throw"===y.type&&(u=X,k.method="throw",k.arg=y.arg)}}}(W,k,b),p}function R(W,q,k){try{return{type:"normal",arg:W.call(q,k)}}catch(W){return{type:"throw",arg:W}}}W.wrap=E;var i="suspendedStart",h="suspendedYield",Q="executing",X="completed",n={};function D(){}function _(){}function Z(){}var x={};y(x,p,(function(){return this}));var N=Object.getPrototypeOf,g=N&&N(N(w([])));g&&g!==k&&u.call(g,p)&&(x=g);var a=Z.prototype=D.prototype=Object.create(x);function M(W){["next","throw","return"].forEach((function(q){y(W,q,(function(W){return this._invoke(q,W)}))}))}function B(W,q){function k(O,p,b,s){var y=R(W[O],W,p);if("throw"!==y.type){var E=y.arg,i=E.value;return i&&"object"==typeof i&&u.call(i,"__await")?q.resolve(i.__await).then((function(W){k("next",W,b,s)}),(function(W){k("throw",W,b,s)})):q.resolve(i).then((function(W){E.value=W,b(E)}),(function(W){return k("throw",W,b,s)}))}s(y.arg)}var O;this._invoke=function(W,u){function p(){return new q((function(q,O){k(W,u,q,O)}))}return O=O?O.then(p,p):p()}}function o(W,k){var u=W.iterator[k.method];if(u===q){if(k.delegate=null,"throw"===k.method){if(W.iterator.return&&(k.method="return",k.arg=q,o(W,k),"throw"===k.method))return n;k.method="throw",k.arg=new TypeError("The iterator does not provide a 'throw' method")}return n}var O=R(u,W.iterator,k.arg);if("throw"===O.type)return k.method="throw",k.arg=O.arg,k.delegate=null,n;var p=O.arg;return p?p.done?(k[W.resultName]=p.value,k.next=W.nextLoc,"return"!==k.method&&(k.method="next",k.arg=q),k.delegate=null,n):p:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,n)}function t(W){var q={tryLoc:W[0]};1 in W&&(q.catchLoc=W[1]),2 in W&&(q.finallyLoc=W[2],q.afterLoc=W[3]),this.tryEntries.push(q)}function c(W){var q=W.completion||{};q.type="normal",delete q.arg,W.completion=q}function e(W){this.tryEntries=[{tryLoc:"root"}],W.forEach(t,this),this.reset(!0)}function w(W){if(W){var k=W[p];if(k)return k.call(W);if("function"==typeof W.next)return W;if(!isNaN(W.length)){var O=-1,b=function k(){for(;++O<W.length;)if(u.call(W,O))return k.value=W[O],k.done=!1,k;return k.value=q,k.done=!0,k};return b.next=b}}return{next:J}}function J(){return{value:q,done:!0}}return _.prototype=Z,y(a,"constructor",Z),y(Z,"constructor",_),_.displayName=y(Z,s,"GeneratorFunction"),W.isGeneratorFunction=function(W){var q="function"==typeof W&&W.constructor;return!!q&&(q===_||"GeneratorFunction"===(q.displayName||q.name))},W.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,Z):(W.__proto__=Z,y(W,s,"GeneratorFunction")),W.prototype=Object.create(a),W},W.awrap=function(W){return{__await:W}},M(B.prototype),y(B.prototype,b,(function(){return this})),W.AsyncIterator=B,W.async=function(q,k,u,O,p){void 0===p&&(p=Promise);var b=new B(E(q,k,u,O),p);return W.isGeneratorFunction(k)?b:b.next().then((function(W){return W.done?W.value:b.next()}))},M(a),y(a,s,"Generator"),y(a,p,(function(){return this})),y(a,"toString",(function(){return"[object Generator]"})),W.keys=function(W){var q=[];for(var k in W)q.push(k);return q.reverse(),function k(){for(;q.length;){var u=q.pop();if(u in W)return k.value=u,k.done=!1,k}return k.done=!0,k}},W.values=w,e.prototype={constructor:e,reset:function(W){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(c),!W)for(var k in this)"t"===k.charAt(0)&&u.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=q)},stop:function(){this.done=!0;var W=this.tryEntries[0].completion;if("throw"===W.type)throw W.arg;return this.rval},dispatchException:function(W){if(this.done)throw W;var k=this;function O(u,O){return s.type="throw",s.arg=W,k.next=u,O&&(k.method="next",k.arg=q),!!O}for(var p=this.tryEntries.length-1;p>=0;--p){var b=this.tryEntries[p],s=b.completion;if("root"===b.tryLoc)return O("end");if(b.tryLoc<=this.prev){var y=u.call(b,"catchLoc"),E=u.call(b,"finallyLoc");if(y&&E){if(this.prev<b.catchLoc)return O(b.catchLoc,!0);if(this.prev<b.finallyLoc)return O(b.finallyLoc)}else if(y){if(this.prev<b.catchLoc)return O(b.catchLoc,!0)}else{if(!E)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return O(b.finallyLoc)}}}},abrupt:function(W,q){for(var k=this.tryEntries.length-1;k>=0;--k){var O=this.tryEntries[k];if(O.tryLoc<=this.prev&&u.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var p=O;break}}p&&("break"===W||"continue"===W)&&p.tryLoc<=q&&q<=p.finallyLoc&&(p=null);var b=p?p.completion:{};return b.type=W,b.arg=q,p?(this.method="next",this.next=p.finallyLoc,n):this.complete(b)},complete:function(W,q){if("throw"===W.type)throw W.arg;return"break"===W.type||"continue"===W.type?this.next=W.arg:"return"===W.type?(this.rval=this.arg=W.arg,this.method="return",this.next="end"):"normal"===W.type&&q&&(this.next=q),n},finish:function(W){for(var q=this.tryEntries.length-1;q>=0;--q){var k=this.tryEntries[q];if(k.finallyLoc===W)return this.complete(k.completion,k.afterLoc),c(k),n}},catch:function(W){for(var q=this.tryEntries.length-1;q>=0;--q){var k=this.tryEntries[q];if(k.tryLoc===W){var u=k.completion;if("throw"===u.type){var O=u.arg;c(k)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(W,k,u){return this.delegate={iterator:w(W),resultName:k,nextLoc:u},"next"===this.method&&(this.arg=q),n}},W}(W.exports);try{regeneratorRuntime=q}catch(W){"object"==typeof globalThis?globalThis.regeneratorRuntime=q:Function("r","regeneratorRuntime = r")(q)}},8384:W=>{W.exports=class{static get AW(){return"2.0.33"}static get nW(){return 1}static get DW(){return 5}static get _W(){return 5}static get HW(){return"https://authentication.urban-vpn.com"}static get QW(){return"https://analytics-toolbar.urban-vpn.com"}static get ZW(){return"/tickets"}static get XW(){return"/install"}static get aW(){return`/configuration?pv=${this.AW}`}static get NW(){return!1}static get xW(){return!0}static get GW(){return!1}static get vW(){return!1}static get iW(){return!0}static get dW(){return!0}static get hW(){return!0}static get gW(){return!0}static get rW(){return!1}static get $W(){return!1}}},3326:(W,q,k)=>{const u=k(5364),O=k(1568);W.exports=class{constructor(W){this.id=W,this.init=!1,this.InspectorConfig=null,this.hasActiveAdblock=!1}Init(W){return this.InspectorConfig=W,!this.init&&this.InspectorConfig&&this.InspectorConfig.active&&(this.init=!0,setTimeout(this.CheckForActiveAdblocker.bind(this),1e3*this.GetAgentActivationTimeout())),this.init}CheckForActiveAdblocker(){document.readyState===O.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.CheckAdblockerActivityStatus.bind(this)):document.readyState!==O.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==O.DOCUMENT_READYSTATE_COMPLETE||this.CheckAdblockerActivityStatus()}CheckAdblockerActivityStatus(){let W=this.CreateDumpAdElements(),q=W.length,k=0;for(;0!==q||this.hasActiveAdblock;){q-=1;let u=setTimeout((()=>{this.CheckAndRemoveTestAd(W[k]),k+=1,u&&clearTimeout(u)}),1e3*this.GetAdblockerAdRemovingTimeout())}}IsElementHidden(W){return!!W&&0===W.offsetHeight}CreateDumpAdElements(){let W=this.GetAdblockerDetectingSrcPatterns();return W&&W.length||(W=[""]),W.map((W=>{let q=document.createElement("iframe");return q.innerHTML="&nbsp;",q.className=this.GetAdblockerDetectionClassName(),q.style.position="absolute",q.style.visibility="hidden",q.style.zIndex="-9999",W&&(q.src=W),document.body.appendChild(q),q}))}CheckAndRemoveTestAd(W){let q={};q.hasActiveAdblock=this.IsElementHidden(W),W.remove(),u.SendAdBlockInspectorAgentReport(this.id,q,null)}GetAdblockerDetectionClassName(){return this.init&&this.InspectorConfig&&this.InspectorConfig.detectionClassName}GetAdblockerDetectingSrcPatterns(){return this.init&&this.InspectorConfig&&this.InspectorConfig.detectionSrcPatterns}GetAgentActivationTimeout(){return this.init&&this.InspectorConfig&&this.InspectorConfig.agentActivationTimeoutSec}GetAdblockerAdRemovingTimeout(){return this.init&&this.InspectorConfig&&this.InspectorConfig.adRemovingTimeoutSec}}},3522:(W,q,k)=>{const u=k(8384),O=k(1568),p=k(2880),b=k(5364);W.exports=class{constructor(W,q){this.id=W,this.IOManager=q,this.init=!1,this.tabId=null,this.status=p.GetDefaultAdblockerStatus(),this.excludeList={domains:[],pages:[]},this.IOManager&&(this.IOManager.onAdBlockerStatusChanged=this.onAdBlockerStatusChanged.bind(this),this.IOManager.onAdBlockerSetHiddenAmount=this.SetHiddenAmount.bind(this))}GetStatus(){return this.status}Init(W,q,k){return!this.init&&u.iW&&(this.tabId=k,this.status=W,this.excludeList=q,this.init=!0),this.init}onAdBlockerStatusChanged(W){this.status=W}SetHiddenAmount(W){W>0&&b.SendHiddenAdCandidatesAmount(this.id,W)}IsEnabled(){return this.init&&u.iW&&this.status[O.ADBLOCKER_FOR_DISPLAY]===O.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForFacebook(){return this.init&&u.iW&&this.status[O.ADBLOCKER_FOR_FACEBOOK]===O.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForTwitter(){return this.init&&u.iW&&this.status[O.ADBLOCKER_FOR_TWITTER]===O.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForReddit(){return this.init&&u.iW&&this.status[O.ADBLOCKER_FOR_REDDIT]===O.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForPinterest(){return this.init&&u.iW&&this.status[O.ADBLOCKER_FOR_PINTEREST]===O.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForInstagram(){return this.init&&u.iW&&this.status[O.ADBLOCKER_FOR_INSTAGRAM]===O.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForTiktok(){return this.init&&u.iW&&this.status[O.ADBLOCKER_FOR_TIKTOK]===O.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForLinkedin(){return this.init&&u.iW&&this.status[O.ADBLOCKER_FOR_LINKEDIN]===O.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsConfigUseLocal(){return this.init&&this.status[O.USE_LOCAL_CONFIG]===O.ADBLOCKER_STATUS_ENABLED}GetCurrentDomain(){return window.location.origin}GetCurrentPageUrl(){return window.location.href}IsExcluded(){return this.IsExcludedByDomainRule()||this.IsExcludedByPageRule()}IsNotExcluded(){return!this.IsExcluded()}IsExcludedByDomainRule(){return-1!==this.excludeList.domains.indexOf(this.GetCurrentDomain())}IsExcludedByPageRule(){return-1!==this.excludeList.pages.indexOf(this.GetCurrentPageUrl())}IsElementHidden(W){return"hidden"===W.getAttribute(O.ATTRIBUTE_BIS_HIDE_STATUS)}}},9346:(W,q,k)=>{const u=k(9358),O=k(533),p=k(2880),b=k(1568),s=k(8384);W.exports=class extends O{constructor(W){super(),this.id=W,this.active=!1,this.candidates=[],this.hiddenAmount=0,this.pageUrl="",this.ticketId="",this.onPageRefreshed=null,this.isActive=!1,this.available=!1,this.elementId=0}getGlobalContainer(){}sendAdCandidatesToBackground(){}getUniqueContentId(){}get CandidatesCount(){return this.candidates.length}get Candidates(){return this.candidates}get HiddenAmount(){return this.hiddenAmount}get PageUrl(){return this.pageUrl}get TicketId(){return this.ticketId}get IsActive(){return this.active}Activated(){this.active=!0}CandidateHidden(){this.hiddenAmount=this.hiddenAmount+1}ClearHiddenCounter(){this.hiddenAmount=0}ClearCandidates(){this.candidates=[]}AddCandidate(W){this.candidates.push(W)}PageRefreshed(W,q){this.pageUrl=W,this.ticketId=q,this.onPageRefreshed&&this.onPageRefreshed(W,q)}getSponsorTwitterScreenName(W){let q=this.getSponsorPageRelativeUrl(W),k=q.lastIndexOf("/")+1;return q.substring(k)}getSponsorRedditScreenName(W){let q=this.getSponsorScreenNameReddit(W);return q?q.replace(/^.*\/user\//gi,"").replace(/\/.*/gi,""):""}getSponsorPageRelativeUrl(W){let q="",k=W.querySelectorAll("a");if(k.length){q=k[0].getAttribute("href");let W=k[0].getBoundingClientRect().x;k.forEach((k=>{k.getBoundingClientRect().x<W&&(q=k.getAttribute("href"),W=k.getBoundingClientRect().x)}))}return q}getSponsorScreenNameReddit(W){let q,k=Array.from(W.querySelectorAll("a[href]"));for(let W of k){const k=new RegExp(/^\/user\/.*/),u=W.getAttribute("href");if(u&&k.test(u)){q=u.replace(/\/user\//,"").replace(/\/.*/,"");break}}return q}get Context(){return this}getAdTwitterObject(W,q,k,O){let b=p.SetFullSizeToElement(q),s=p.GetCookie("ct0");return{content:u.encode(W.outerHTML),screenName:this.getSponsorTwitterScreenName(W),stylesByElementBisId:O?{}:this.getStylesByElementsBisId(W),adPlacementType:k,size:b,userDataByScreenName:"",token:s}}getAdRedditObject(W,q,k,O){let b=p.SetFullSizeToElement(W);return{content:u.encode(q.outerHTML),screenName:this.getSponsorRedditScreenName(q),adPlacementType:O,targetUrl:k,size:b}}getAdLinkedinObject(W,q,k,O,b,s,y=null){let E=p.SetFullSizeToElement(W);return{content:u.encode(q.outerHTML),socialAdvertiserUrl:b,advertiserName:s,advertiserUrl:"",adPlacementType:k,targetUrl:O,size:E,cookie:p.GetAllCookies(),uniqueDataId:y}}getAdPinterestObject(W,q,k,O,b,s,y){let E=p.SetFullSizeToElement(W),R=this.getUniqueContentId(q);return{content:u.encode(q.outerHTML),screenName:k,adPlacementType:y,targetUrl:O,size:E,adText:b,advertiserUrl:s,uniqueContentId:R}}getAdInstagramObject(W,q,k,O,b,s){let y=p.SetFullSizeToElement(W);return{content:u.encode(q.outerHTML),screenName:k,adPlacementType:s,targetUrl:O,size:y,aboutPageUrl:b}}setSizesAndIdForAllElements(W){if(W&&W.setAttribute){let q=this.getElementId();W.setAttribute(b.ATTRIBUTE_BIS_ELEMENT_ID,q),W.querySelectorAll("*").forEach((W=>{let q=this.getElementId();W.setAttribute&&(W.setAttribute(b.ATTRIBUTE_BIS_ELEMENT_ID,q),p.SetFullSizeToElement(W))}))}}isEmpty(W){return void 0===W||0===W.length}getElementId(){return this.elementId++}set setActive(W){"boolean"==typeof W&&(this.isActive=W)}set setAvailable(W){"boolean"==typeof W&&(this.available=W)}HideElement(W){W&&W.style&&(W.style.cssText+=b.STYLES_HIDE_ELEMENT,W.setAttribute(b.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"),this.CandidateHidden())}HideElementForInstagramFeedOnly(W){W&&W.style&&(W.firstElementChild.style.cssText+=b.STYLES_HIDE_INSTAGRAM_FEED_AD[0],W.style.cssText+=b.STYLES_HIDE_INSTAGRAM_FEED_AD[1],W.setAttribute(b.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"),this.CandidateHidden())}UnhideElement(W){if(W&&W.style){let q=W.style.cssText;q.includes(b.STYLES_HIDE_ELEMENT)&&(q=q.replace(b.STYLES_HIDE_ELEMENT,""),W.style.cssText=q)}}removeCloneElement(W){W.remove()}isCarousel(W){let q=W.querySelector("ul");return!!q&&q.offsetHeight>40}isVideo(W,q){return!(!W||!W.querySelectorAll(q).length)}doesElementExists(W){if(!W)return!1;let q=W.outerHTML;return document.querySelector("html").outerHTML.includes(q)}addRedBorderForCandidates(W){s.GW&&(W.style.cssText+="border: 6px solid red !important;")}}},1153:(W,q,k)=>{const u=k(1568),O=k(2880),p=k(7235),b=k(3210),s=k(4430),y=k(855),E=k(97),R=k(4919),i=k(5465),h=k(2075),Q=k(3375),X=k(9181),n=k(5849),D=k(9203),_=k(1368);W.exports=class{constructor(W,q,k,u){if(this.id=W,this.Config=q,this.AdBlockerAgent=u,this.IOManager=k,this.PageUrl=document.location.href,this.FacebookAds=null,this.TwitterAds=null,this.RedditAds=null,this.SkinAds=null,this.HTML5Ads=null,this.VideoAds=null,this.PinterestAds=null,this.InstagramAds=null,this.LinkedinAds=null,this.TwitchAds=null,this.TiktokAds=null,this.IsBlacklistedPublisher=O.IsPublisherInBlacklist(this.PageUrl,this.Config.BlacklistPublishers),!this.IsBlacklistedPublisher)switch(!0){case O.IsFacebookUrl(this.PageUrl):this.FacebookAds=new E(this.id,this.Config,this.AdBlockerAgent);break;case O.IsTwitterUrl(this.PageUrl):this.TwitterAds=new R(this.id,this.Config,this.AdBlockerAgent);break;case O.IsRedditUrl(this.PageUrl):this.RedditAds=new i(this.id,this.Config,this.AdBlockerAgent);break;case O.IsTiktokUrl(this.PageUrl):this.TiktokAds=new n(this.id,this.Config,this.AdBlockerAgent);break;case O.IsPinterestUrl(this.PageUrl):this.PinterestAds=new h(this.id,this.Config,this.AdBlockerAgent);break;case O.IsInstagramUrl(this.PageUrl):this.InstagramAds=new Q(this.id,this.Config,this.AdBlockerAgent);break;case O.IsLinkedinUrl(this.PageUrl):this.LinkedinAds=new X(this.id,this.Config,this.AdBlockerAgent);break;case O.IsTwitchUrl(this.PageUrl)&&this.Config.twitchConfig.COLLECT_INSTREAM_ADS:this.TwitchAds=new D(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.BannerAds=new b(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.HTML5Ads=new s(this.id,this.Config,this.IOManager,this.AdBlockerAgent);break;case O.isAI(this.PageUrl,this.Config):this.AIManager=new _(this.id,this.Config,this.PageUrl);break;default:this.SkinAds=new p(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.BannerAds=new b(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.HTML5Ads=new s(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.VideoAds=new y(this.id,this.Config,this.IOManager)}}ActivateAdsdetectors(){this.IsBlacklistedPublisher||(document.readyState===u.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.StartAdsdetectors.bind(this)):document.readyState!==u.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==u.DOCUMENT_READYSTATE_COMPLETE||this.StartAdsdetectors())}StartAdsdetectors(){this.SkinAds&&this.SkinAds.ActivateDetector(u.ACTIVATION_BY_ADS_MANAGER),this.BannerAds&&this.BannerAds.ActivateDetector(u.ACTIVATION_BY_ADS_MANAGER),this.HTML5Ads&&this.HTML5Ads.ActivateDetector(u.ACTIVATION_BY_ADS_MANAGER),this.VideoAds&&this.VideoAds.ActivateDetector(u.ACTIVATION_BY_ADS_MANAGER),this.FacebookAds&&this.FacebookAds.ActivateDetector(u.ACTIVATION_BY_ADS_MANAGER),this.TwitterAds&&this.TwitterAds.ActivateDetector(u.ACTIVATION_BY_ADS_MANAGER),this.RedditAds&&this.RedditAds.ActivateDetector(u.ACTIVATION_BY_ADS_MANAGER),this.PinterestAds&&this.PinterestAds.ActivateDetector(u.ACTIVATION_BY_ADS_MANAGER),this.InstagramAds&&this.InstagramAds.ActivateDetector(u.ACTIVATION_BY_ADS_MANAGER),this.LinkedinAds&&this.LinkedinAds.ActivateDetector(u.ACTIVATION_BY_ADS_MANAGER),this.TwitchAds&&this.TwitchAds.ActivateDetector(u.ACTIVATION_BY_ADS_MANAGER)}PageRefreshed(W,q){this.SkinAds&&this.SkinAds.PageRefreshed(W,q),this.BannerAds&&this.BannerAds.PageRefreshed(W,q),this.HTML5Ads&&this.HTML5Ads.PageRefreshed(W,q),this.VideoAds&&this.VideoAds.PageRefreshed(W,q),this.FacebookAds&&this.FacebookAds.PageRefreshed(W,q),this.TwitterAds&&this.TwitterAds.PageRefreshed(W,q),this.RedditAds&&this.RedditAds.PageRefreshed(W,q),this.PinterestAds&&this.PinterestAds.PageRefreshed(W,q),this.InstagramAds&&this.InstagramAds.PageRefreshed(W,q),this.LinkedinAds&&this.LinkedinAds.PageRefreshed(W,q),this.TiktokAds&&this.TiktokAds.PageRefreshed(W,q),this.TwitchAds&&this.TwitchAds.pageRefreshed(W,q),this.AIManager&&this.AIManager.pageRefreshed(W,q)}GetHtml5CandidatesPrebuildInfo(){return this.HTML5Ads&&this.HTML5Ads.IsActive?this.HTML5Ads.GetPrebuildInfo():[]}}},1104:(W,q,k)=>{const u=k(6882);W.exports=class{constructor(W,q){this.id=W,this.onGotWindowMessageCallback=q,this.mesToFrameDeactivationIntervalId=null}SetId(W){this.id=W}ActivateMesToFrameContentListener(W){this.mesToFrameDeactivationIntervalId||(this.mesToFrameDeactivationIntervalId=setInterval(this.CheckMesToFrameContent.bind(this),300),setTimeout(this.DeactivateMesToFrameContentListener.bind(this),3e3))}CheckMesToFrameContent(){try{let W=document.body.getAttribute("bis_mes_to_fr");if(W&&W){let q=JSON.parse(W);document.body.setAttribute("bis_mes_to_fr",""),u.IsValid(q)&&this.onGotWindowMessageCallback&&this.onGotWindowMessageCallback(q),this.DeactivateMesToFrameContentListener()}}catch(W){}}DeactivateMesToFrameContentListener(){this.mesToFrameDeactivationIntervalId&&(clearInterval(this.mesToFrameDeactivationIntervalId),this.mesToFrameDeactivationIntervalId=null)}}},3210:(W,q,k)=>{const u=k(8384),O=k(2880),p=k(9358),b=k(9346),s=k(5364),y=k(1568);W.exports=class extends b{constructor(W,q,k,u){super(W),this.Config=q,this.bannerAdsConfig=this.Config.BannerAdsConfig,this.IOManager=k,this.IOManager.onGotBannerCandidatesExtractionStatusesCallback=this.onGoBannerCandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=u}ActivateDetector(){this.DetectCandidates(),setTimeout((()=>{this.DetectCandidates()}),350),setInterval((()=>{this.DetectCandidates()}),700)}PushCandidate(W,q){let k={bisId:q,content:p.encode(W)};this.AddCandidate(k)}IsValidCandidateSize(W){return W&&W.width>70&&W.height>40&&W.height<1100}SetBorderToCandidate(W){W&&u.GW&&(u.vW?W.style.cssText+=y.STYLES_BORDER_BANNER_URL_EXTRACTED:W.style.cssText+="border: 6px solid red !important;")}SendCandidatesToBackground(){this.Candidates.length&&s.SendAdCandidates(this.id,this.Candidates,y.MESSAGE_TYPE_CANDIDATES_DATA_BANNERS,null)}DetectCandidates(){this.ClearCandidates();let W=O.QuerySelectorAll(document,this.bannerAdsConfig.QUERIES.FULL_IMG_COLLECTION);for(let q=0;q<W.length;q++){let k=W[q];if(!k)continue;let u=k.src.toLowerCase(),p=this.getTagWithHref(k);if(!p)continue;let b=p.href.toLowerCase(),s=!1;if((!this.filterNonAdBanner(k)||this.isRedirectInHref(p))&&(O.IsInFilterList(this.Config.BlacklistBannerHref,b)||O.IsInFilterList(this.Config.BlacklistBannerImgSrc,u)||k.hasAttribute("bis_skin_element")||(O.isValidUrl(u)&&O.isValidUrl(b)||O.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,u)||O.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,b))&&(s=!0),s)){let W=k.getBoundingClientRect();if(this.IsValidCandidateSize(W)){this.SetBorderToCandidate(k),O.SetFullSizeToElement(k),O.SetFullSizeToElement(p);let W=O.GenerateAndSetBisIdToBanner(k);this.PushCandidate(p.outerHTML,W)}}}let q=O.QuerySelectorAll(document,this.bannerAdsConfig.QUERIES.ON_EVENT_IMG_COLLECTION);for(let W=0;W<q.length;W++){let k=q[W],u=k.src.toLowerCase();if(!O.IsInFilterList(this.Config.BlacklistBannerImgSrc,u)&&(O.isValidUrl(u)&&!O.IsUrlFromHost(document.location.host,u)||O.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,u))){let W=k.getBoundingClientRect();if(this.IsValidCandidateSize(W)){this.SetBorderToCandidate(k),O.SetFullSizeToElement(k);let W=O.GenerateAndSetBisIdToBanner(k);this.PushCandidate(k.outerHTML,W)}}}this.SendCandidatesToBackground()}filterNonAdBanner(W){let q=window.location.host||"__NULL__",k=W.src.toLowerCase(),u=k.match(/\/\/(www\.)?[A-Za-z0-9.]+/),p=this.getTagWithHref(W),b=p?p.href.match(/\/\/(www\.)?[A-Za-z0-9.]+/):"",s=document.querySelector("head").outerHTML,y=O.IsUrlFromHost(q,p.href);return b=b?b[0].replace("//",""):"",u=u?u[0].replace("//",""):"__NULL__",q=0===q.indexOf("www")?q.replace("www.",""):q,y||s.includes(b)||k.includes(q)&&y||-1!==k.search(/^data/)}isRedirectInHref(W){let q=W.href;return!!q&&q.search(/=https?/)>0}onGoBannerCandidatesExtractionStatuses(W){if(u.GW&&u.vW&&W&&W.length)for(let q=0;q<W.length;q++){let k=O.QuerySelector(document,`*[bis_id="${W[q].bannerId}"]`);k&&O.UpdateCandidateStatusBorderColor(k,W[q].extractionStatus)}}getTagWithHref(W){let q=W.parentElement;for(let W=0;W<5&&"A"!==q.tagName;W++)q=q.parentElement;return"A"!==q.tagName&&(q=null),q}}},1245:(W,q,k)=>{k(1568);const u=k(9358);W.exports=class{constructor(W,q){this.id=W,this.configEncoded=q,this.config=JSON.parse(u.decode(q)),this.counterTriesToSave=0,this.SaveToStorageConfig()}GetConfigEncoded(){return this.configEncoded}get BlacklistPublishers(){return this.config.filterLists.blacklistPublishers}get BlacklistBannerImgSrc(){return this.config.filterLists.blacklistBannerImgSrc}get BlacklistBannerHref(){return this.config.filterLists.blacklistBannerHref}get BlacklistIframeSrc(){return this.config.filterLists.blacklistIframeSrc}get BlacklistIframeId(){return this.config.filterLists.blacklistIframeId}get WhitelistCandidatesUrlKeyWords(){return this.config.filterLists.whitelistCandidatesUrlKeyWords}get WhitelistRedirectionCode(){return this.config.filterLists.whitelistRedirectionCode}GetVideoValidatorsForHTML(){return this.config.videoValidatorsForHTML}GetVideoValidatorsForJS(){return this.config.videoValidatorsForJS}GetVideoValidatorsForXHR(){return this.config.videoValidatorsForXHR}get FacebookConfig(){return this.config.facebookConfig}get TwitterConfig(){return this.config.twitterConfig}get RedditConfig(){return this.config.redditConfig}get PinterestConfig(){return this.config.pinterestConfig}get LinkedinConfig(){return this.config.linkedinConfig}get TiktokConfig(){return this.config.tiktokConfig}get GetInstagramConfig(){return this.config.instagramConfig}GetAdBlockInspectorConfig(){return this.config.adBlockInspectorConfig}get BannerAdsConfig(){return this.config.bannerAdsConfig}get Html5AdsConfig(){return this.config.HTML5AdsConfig}get MW(){return this.config.aiMessagesConfig||{}}get BW(){return this.MW.CLAUDE}get oW(){return this.MW.GROK}get tW(){return this.MW.CHATGPT}get cW(){return this.MW.COPILOT}get eW(){return this.MW.PERPLEXITY}get wW(){return this.MW.META_AI}get JW(){return this.MW.DEEPSEEK}get mW(){return this.MW.GEMINI}get BlacklistTargetUrl(){return this.config.filterLists.blacklistTargetUrl}get BlacklistKeyWordsInContent(){return this.config.filterLists.blacklistKeyWordsInContent}GetHtml5TargetUrlDetectionConfig(){return this.config.html5TargetUrlDetectionConfig}get twitchConfig(){return this.config.twitchConfig}static get CheckBisDataExist(){try{return!!sessionStorage.getItem("bis_data")}catch(W){return null}}SaveToStorageConfig(){const W=JSON.stringify({id:this.id,config:this.config});sessionStorage.setItem("bis_data",W),this.counterTriesToSave++}get amountTriesSaveConfig(){return this.counterTriesToSave}}},5364:(W,q,k)=>{const u=k(1568),O=k(6882),p=k(2880);class b{constructor(W,q){this.id=W,this.init=!1,this.onGotHTML5CandidatesExtractionStatusesCallback=null,this.onGotSkinAdCandidatesExtractionStatusesCallback=null,this.onGotBannerCandidatesExtractionStatusesCallback=null,this.manualSendTicket=null,this.onGotVideoXHRTrafficCallback=null,this.onGotTwitchVideoInstreamDataCallback=null,this.onAdBlockerStatusChanged=null,this.onAdBlockerSetHiddenAmount=null,this.onTabUrlChanged=null,this.twitterVideoInfoCandidates=[],this.twitterAdCandidate=[],this.ConfigAgent=q}IsInit(){return this.init}Init(){this.init||(this.init=!0,window.addEventListener("message",(W=>{try{let q=W.data;if(O.IsValid(q)){const W=q.type;switch(W){case u.MESSAGE_TYPE_VIDEO_XHR_CANDIDATE:this.onGotVideoXHRTrafficCallback&&this.onGotVideoXHRTrafficCallback(q.content);break;case u.MESSAGE_TYPE_VIDEO_TWITCH_INSTREAM_DATA:this.onGotTwitchVideoInstreamDataCallback&&this.onGotTwitchVideoInstreamDataCallback(q.content);break;case u.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA:b.SendFBInStreamData(this.id,q.content);break;case u.MESSAGE_TYPE_FACEBOOK_VIDEO_DATA:p.IsFBVideoDataValid(q.content)&&b.SendFBVideoData(this.id,q.content);break;case u.MESSAGE_TYPE_PINTEREST_VIDEO_DATA:b.SendPinterestVideoData(this.id,q.content);break;case u.MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA:case u.MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES:case u.MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA:case u.MESSAGE_TYPE_INSTAGRAM_STORY_DATA:b.SendInstagramDataToBgStorage(this.id,q.content,W);break;case u.MESSAGE_TYPE_LINKEDIN_VIDEO_DATA:case u.MESSAGE_TYPE_LINKEDIN_SLIDES_DATA:b.SendLinkedinDataToBgStorage(this.id,q.content,W);break;case u.MESSAGE_TYPE_TWITTER_VIDEO_DATA:b.SendTWVideoData(this.id,q.content);break;case u.MESSAGE_TYPE_TWITTER_CAROUSEL_DATA:b.SendTWCarouselData(this.id,q.content);break;case u.MESSAGE_TYPE_TIKTOK_VIDEO_CANDIDATES:b.SendTiktokDataToBgStorage(this.id,q.content,W),this.SetAdBlockerHiddenAmount(1);break;case u.MESSAGE_TYPE_REDDIT_VIDEO_DATA:b.SendRedditVideoData(this.id,q.content);break;case u.MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA:b.SendRedditRightColumnData(this.id,q.content);break;case u.MESSAGE_TYPE_CLAUDE_DATA:b.sendAIMessageCandidates(this.id,q.content,u.MESSAGE_TYPE_CLAUDE_DATA);break;case u.MESSAGE_TYPE_CHATGPT_DATA:b.sendAIMessageCandidates(this.id,q.content,u.MESSAGE_TYPE_CHATGPT_DATA),this.manualSendTicket&&this.manualSendTicket();break;case u.MESSAGE_TYPE_CHATGPT_PROTECTION_STATUS:chrome.storage.local.get("panelAIFeatures").then((W=>{window.postMessage({type:u.MESSAGE_TYPE_CHATGPT_PROTECTION_STATUS_RESPONSE,content:"on"===W.panelAIFeatures},"*")}));break;case u.MESSAGE_TYPE_DEEPSEEK_DATA:b.sendAIMessageCandidates(this.id,q.content,u.MESSAGE_TYPE_DEEPSEEK_DATA);break;case u.MESSAGE_TYPE_COPILOT_DATA:b.sendAIMessageCandidates(this.id,q.content,u.MESSAGE_TYPE_COPILOT_DATA);break;case u.MESSAGE_TYPE_PERPLEXITY_DATA:b.sendAIMessageCandidates(this.id,q.content,u.MESSAGE_TYPE_PERPLEXITY_DATA);break;case u.MESSAGE_TYPE_META_AI_DATA:b.sendAIMessageCandidates(this.id,q.content,u.MESSAGE_TYPE_META_AI_DATA);break;case u.MESSAGE_TYPE_GEMINI_DATA:b.sendAIMessageCandidates(this.id,q.content,u.MESSAGE_TYPE_GEMINI_DATA);break;case u.MESSAGE_TYPE_GROK_DATA:b.sendAIMessageCandidates(this.id,q.content,u.MESSAGE_TYPE_GROK_DATA);break;case u.MESSAGE_TYPE_CONFIG_NOT_FOUND:this.ConfigAgent.SaveToStorageConfig(),this.sendResponseConfigSaved()}}}catch(W){}}),!1),p.IsOnChromeRuntime()&&chrome.runtime.onMessage.addListener((W=>{let q=W;if(O.IsValid(q))if(q.to===this.id)q.type===u.MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES?this.onGotHTML5CandidatesExtractionStatusesCallback&&this.onGotHTML5CandidatesExtractionStatusesCallback(q.content):q.type===u.MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES?this.onGotBannerCandidatesExtractionStatusesCallback&&this.onGotBannerCandidatesExtractionStatusesCallback(q.content):q.type===u.MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES?this.onGotSkinAdCandidatesExtractionStatusesCallback&&this.onGotSkinAdCandidatesExtractionStatusesCallback(q.content):q.type===u.MESSAGE_TYPE_TAB_URL_CHANGED?this.onTabUrlChanged&&this.onTabUrlChanged(q.content):q.type===u.MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED&&this.onAdBlockerStatusChanged&&this.onAdBlockerStatusChanged(q.content);else if(q.type===u.MESSAGE_TYPE_CHATGPT_PROTECTION_CLEAR_TIMEOUT){const W={type:u.MESSAGE_TYPE_CHATGPT_PROTECTION_CLEAR_TIMEOUT,result:q.content};window.postMessage(W,"*")}else if(q.type===u.MESSAGE_TYPE_CHATGPT_PROTECTION_NO_WARNINGS){const W={type:u.MESSAGE_TYPE_CHATGPT_PROTECTION_NO_WARNINGS,result:q.content};window.postMessage(W,"*")}})))}SetAdBlockerHiddenAmount(W){this.onAdBlockerSetHiddenAmount&&this.onAdBlockerSetHiddenAmount(W)}SendTicket(W){let q=O.EmptyMessage;q.type=u.MESSAGE_TYPE_OUT_TICKET,q.from=this.id,q.to="bg",q.content=W,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(q).then(this.onTicketSend.bind(this)).catch((()=>{}))}onTicketSend(W){W&&W.status}static SendHiddenAdCandidatesAmount(W,q){let k=O.EmptyMessage;k.type=u.MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT,k.from=W,k.to="bg",k.content=q,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(k).catch((()=>{}))}static SendInitMes(W,q){let k=O.EmptyMessage;k.type=u.MESSAGE_TYPE_TAB_INITIALIZATION,k.to="bg",k.content=W,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(k).then((W=>{W&&W.config&&q&&q(W.config)})).catch((()=>{}))}static SendSinglePageReinitMes(W){let q=O.EmptyMessage;q.type=u.MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION,q.to="bg",q.content=W,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(q).catch((()=>{}))}static SendNewPageCreatedTicket(W){let q=O.EmptyMessage;q.type=u.MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET,q.to="bg",q.content=W,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(q).catch((()=>{}))}static SendPanelRegulatorResult(W){let q=O.EmptyMessage;q.type=u.MESSAGE_TYPE_PANEL_REGULATOR_RESULT,q.to="bg",q.content=W,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(q).catch((()=>{}))}static SendMesToBackground(W,q,k,u){let b=O.EmptyMessage;b.type=q,b.from=W,b.to="bg",b.content=k,p.IsOnChromeRuntime()&&(u?chrome.runtime.sendMessage(b).then(u).catch((()=>{})):chrome.runtime.sendMessage(b).catch((()=>{})))}static SendAdCandidates(W,q,k,u){b.SendMesToBackground(W,k,q,u)}static sendAIMessageCandidates(W,q,k){b.SendMesToBackground(W,k,q)}static SendCandidatePlacementsCount(W,q,k,u){b.SendMesToBackground(W,k,q,u)}static SendHtml5CandidatePlacements(W,q,k){b.SendMesToBackground(W,u.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5,q,k)}static SendAdBlockInspectorAgentReport(W,q){b.SendMesToBackground(W,u.MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT,q,null)}static SendTWVideoData(W,q){b.SendMesToBackground(W,u.MESSAGE_TYPE_TWITTER_VIDEO_DATA,q,null)}static SendTWCarouselData(W,q){b.SendMesToBackground(W,u.MESSAGE_TYPE_TWITTER_CAROUSEL_DATA,q,null)}static SendRedditVideoData(W,q){b.SendMesToBackground(W,u.MESSAGE_TYPE_REDDIT_VIDEO_DATA,q,null)}static SendRedditRightColumnData(W,q){b.SendMesToBackground(W,u.MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA,q,null)}static SendVideoHar(W,q){let k=O.EmptyMessage;k.type=u.MESSAGE_TYPE_VIDEO_HAR,k.from=W,k.to="bg",k.content=q,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(k).catch((()=>{}))}SendTwitchInstreamData(W,q){let k=O.EmptyMessage;k.type=u.MESSAGE_TYPE_CANDIDATES_VIDEO_DATA_TWITCH,k.from=W,k.to="bg",k.content=q,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(k).catch((()=>{}))}static SendFBVideoData(W,q){let k=O.EmptyMessage;k.type=u.MESSAGE_TYPE_FACEBOOK_VIDEO_DATA,k.from=W,k.to="bg",k.content=q,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(k).catch((()=>{}))}static SendPinterestVideoData(W,q){let k=O.EmptyMessage;k.type=u.MESSAGE_TYPE_PINTEREST_VIDEO_DATA,k.from=W,k.to="bg",k.content=q,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(k).catch((()=>{}))}static SendInstagramDataToBgStorage(W,q,k){let u=O.EmptyMessage;u.type=k,u.from=W,u.to="bg",u.content=q,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(u).catch((()=>{}))}static SendTiktokDataToBgStorage(W,q,k){let u=O.EmptyMessage;u.type=k,u.from=W,u.to="bg",u.content=q,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(u).catch((()=>{}))}static SendLinkedinDataToBgStorage(W,q,k){let u=O.EmptyMessage;u.type=k,u.from=W,u.to="bg",u.content=q,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(u).catch((()=>{}))}static SendInstagramFullTextData(W,q,k){let u=O.EmptyMessage;u.type=k,u.from=W,u.to="bg",u.content=q,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(u).catch((()=>{}))}static SendFBInStreamData(W,q){let k=O.EmptyMessage;q.encodedText=q.content,q.alias=u.VIDEO_TRAFFIC_FACEBOOK_MEDIA_ALIAS_JSON,q.mediaType=u.VIDEO_TRAFFIC_FACEBOOK_MEDIA_TYPE_JSON,q.frameId=0,q.framesChain=[],q.contentType="json",delete q.content,k.type=u.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA,k.from=W,k.to="bg",k.content=q,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(k).catch((()=>{}))}static SendInitRequestListener(W,q){let k=O.EmptyMessage;k.type=u.MESSAGE_TYPE_INIT_REQUEST_LISTENER,k.from=W,k.to="bg",k.content=q,p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(k).catch((()=>{}))}sendResponseConfigSaved(){if(this.ConfigAgent.amountTriesSaveConfig>4)return;let W=O.EmptyMessage;W.type=u.MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE,window.postMessage(W,"*")}}W.exports=b},8229:(W,q,k)=>{const u=k(2880);W.exports=class{constructor(W,q,k,u){this.init=!1,this.Config=u,this.chainId=W,this.frameId=q,this.bisId=k,this.documentObj=null,this.onInputsDetectedCallback=null,this.onRedirectsDetectedCallback=null,this.detectedValidationInfo={inputs:!1,redirect:!1}}Init(W,q,k){return!this.init&&W&&(this.init=!0,this.fullIdStr=u.GetFullIdStr(this.chainId,this.frameId,this.bisId),this.documentObj=W,this.onInputsDetectedCallback=q,this.onRedirectsDetectedCallback=k,this.ValidateContent()),this.init}ValidateContent(){if(!this.detectedValidationInfo.inputs){this.GetInputsAmount()>0&&!this.IsIFrameWithInputsException()&&(this.detectedValidationInfo.inputs=!0,this.onInputsDetectedCallback&&this.onInputsDetectedCallback())}this.detectedValidationInfo.redirect||this.HasRedirect()&&(this.detectedValidationInfo.redirect=!0,this.onRedirectsDetectedCallback&&this.onRedirectsDetectedCallback())}GetInputsAmount(){let W=0;try{let q=u.QuerySelectorAll(this.documentObj,"input");q&&q.length&&q.forEach((q=>{let k=q.getBoundingClientRect();k.width>0&&k.height>0&&(W+=1)}))}catch(W){}return W}IsIFrameWithInputsException(){let W=!1,q=u.QuerySelector(this.documentObj,"html");return q&&-1!==q.innerHTML.search(/var clicktag/i)&&(W=!0),W}IsWhiteListedRedirectionCode(W){let q=!1;try{if(W&&W.length&&this.Config){let k=this.Config.WhitelistRedirectionCode;for(let u=0;u<k.length&&!q;u++)W.includes(k[u])&&(q=!0)}}catch(W){}return q}HasRedirect(){let W=!1,q=u.QuerySelectorAll(this.documentObj,"script");for(let k=0;k<q.length&&!W;k++){let u=q[k].innerHTML;u.length&&u.includes("location.replace")&&(W=!this.IsWhiteListedRedirectionCode(u))}return W}}},3870:(W,q,k)=>{const u=k(9358),O=k(2880),p=k(6882),b=k(1568),s=k(4503),y=k(8229),E=k(9877),R=k(855),i=k(1245);class h{constructor(){this.id=null,this.frameId=null,this.chainId=null,this.fullIdStr="",this.init=!1,this.chainActivated=!1,this.finalFrame=!1,this.activated=!1,this.contentSenderTimer=null,this.activationInfo=null,this.IframesIO=null,this.TargetUrlDetector=null,this.ContentValidator=null,this.VideoAds=null,this.Config=null,this.recheckerInterval=null,this.PageUrl=document.location.href,this.counter=10,this.timeoutHandlerForBlockedFrame=null,this.isBlockedFrameInfoGot=!1}Init(){this.init||(this.init=!0,setTimeout(this.SendInitMessage.bind(this),700))}SetBisStatus(){document&&document.body&&document.body.setAttribute&&document.body.setAttribute("bis_status","ok")}RecheckBisStatus(){document&&document.body&&document.body.getAttribute&&"ok"!==document.body.getAttribute("bis_status")&&this.SetBisStatus()}StopRechecker(){this.recheckerInterval&&(clearInterval(this.recheckerInterval),this.recheckerInterval=null)}SendInitMessage(){let W=document.querySelector("html"),q=W?W.innerHTML:"",k=p.EmptyMessage;k.type=b.MESSAGE_TYPE_IFRAME_INITIALIZATION,k.from=this.id,k.to="bg",k.content={location:document.location.href,contentForSave:{depth:this.findDepthForClosedFrame(window,0),src:document.location.href,content:u.encode(q)}},O.IsOnChromeRuntime()&&chrome.runtime.sendMessage(k).then(this.onGotInitMesResponse.bind(this)).catch((()=>{}))}findDepthForClosedFrame(W,q=0){const k=W.parent;return k&&k!==top?(q++,this.findDepthForClosedFrame(k,q)):q}onGotInitMesResponse(W){const q=W.mes.content.location;this.Config=new i(this.id,W.mes.content.configuration);const k=this.Config?.LinkedinConfig?.FEED.REGEXP_IFRAME_SRC;if(!k)throw new Error("Not found this.Config.LinkedinConfig.FEED.REGEXP_IFRAME_SRC in PosdFrameContent.onGotInitMesResponse");if(!0===new RegExp(k).test(q))this.linkedinScenario(W);else this.commonScenario(W)}commonScenario(W){if(W&&W.status&&"ok"===W.status&&p.IsValid(W.mes)&&W.mes.content.activeStatus&&(this.frameId=W.mes.content.frameId,this.fullIdStr=O.GetFullIdStr(this.chainId,this.frameId,this.id),W.mes.content.isMaster)){this.Config=new i(this.id,W.mes.content.configuration);const q=O.IsPublisherInBlacklist(this.PageUrl,this.Config.BlacklistPublishers),k=O.IsInFilterList(this.Config.BlacklistIframeSrc,this.PageUrl),u=O.IsInFilterList(this.Config.BlacklistKeyWordsInContent,document.querySelector("html").innerHTML);if(q||k||u)return;this.SetBisStatus(),setTimeout(this.StopRechecker.bind(this),1e4),this.recheckerInterval=setInterval(this.RecheckBisStatus.bind(this),300),this.IframesIO=new s(this.id),this.IframesIO.Init(),this.IframesIO.onGotChainActivationCallback=this.onGotChainActivation.bind(this),this.IframesIO.onGotContentMesCallback=this.onGotContentMes.bind(this),this.VideoAds=new R(this.id,this.Config,this.IframesIO,!q),document&&document.body&&document.body.setAttribute&&document.body.setAttribute("bis_frame_id",this.frameId),"null"===self.origin&&(this.timeoutHandlerForBlockedFrame=setInterval((()=>{this.counter--,this.isBlockedFrameInfoGot||this.counter<=0?clearInterval(this.timeoutHandlerForBlockedFrame):this.requestHeaderInfoFromBG()}),1e3))}}linkedinScenario(W){if(!(W&&W.status&&"ok"===W.status&&p.IsValid(W.mes)))return;let q=document?.documentElement;if(!q)return;let k=q.querySelector("body");if(k){let W=1e3;k.setAttribute(b.ATTRIBUTE_BIS_ELEMENT_ID,W),k.querySelectorAll("*").forEach((q=>{W++,q.setAttribute&&(q.setAttribute(b.ATTRIBUTE_BIS_ELEMENT_ID,W),O.SetFullSizeToElement(q))}))}let u=setTimeout((()=>{let W=q.outerHTML,k=document.querySelector('span[class="ssplayer-topbar-title-text ssplayer-topbar-ellipsis"]')?.textContent;this.storeLinkedinFrameContent(W,k),clearTimeout(u)}),100)}storeLinkedinFrameContent(W,q){let k=p.EmptyMessage;k.type=b.MESSAGE_TYPE_LINKEDIN_FRAME_CONTENT_TO_STORAGE,k.from=this.id,k.to="bg",k.content={content:u.encode(W),title:q},O.IsOnChromeRuntime()&&chrome.runtime.sendMessage(k).catch((()=>{}))}requestHeaderInfoFromBG(){let W=p.EmptyMessage;W.type=b.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME,W.from=this.id,W.to="bg",W.content={src:document.location.href},O.IsOnChromeRuntime()&&(this.setMessageListenerForThisIFrame(),chrome.runtime.sendMessage(W).catch((()=>{})))}setMessageListenerForThisIFrame(){chrome.runtime.onMessage.addListener(this.callbackForHeaderInfoRequest.bind(this))}callbackForHeaderInfoRequest(W){let q=arguments.callee;if(W&&W.type&&W.type===b.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE){let k=W.parentInfo;if(chrome.runtime.onMessage.removeListener(q),k){this.isBlockedFrameInfoGot=!0;let W=E.DetectTargetUrlFromWindowObj(this.id,self,this.Config),q={depth:k.depth,headerInfo:k.headerInfo,chainId:k.chainId,configEncoded:this.Config.configEncoded,targetUrlCandidates:W.length?W:[]};this.onGotChainActivation(q)}}}onGotChainActivation(W){if(this.chainActivated)return null;if(this.chainActivated=!0,!(W&&W.headerInfo&&W.headerInfo.bisId))return null;this.id=W.headerInfo.bisId,this.IframesIO.SetId(this.id),this.chainId=W.chainId,this.fullIdStr=O.GetFullIdStr(this.chainId,this.frameId,this.id),this.StopRechecker(),this.activationInfo=W,this.Config||W.configEncoded&&W.configEncoded.length&&(this.Config=new i(this.id,W.configEncoded)),this.ContentValidator=new y(this.chainId,this.frameId,this.id,this.Config),this.ContentValidator.Init(document,this.onContentInputsDetected.bind(this),this.onContentRedirectsDetected.bind(this)),this.TargetUrlDetector=new E(this.chainId,this.frameId,this.id,this.activationInfo.targetUrlCandidates,this.Config),this.TargetUrlDetector.Init(this.IframesIO),h.SetBisId(document,window,this.id),O.SetBisDepth(document.body,W.depth),O.SetBisChainId(document.body,W.chainId),this.InjectJs();let q=setTimeout((()=>{this.onGotActivationMes(),clearTimeout(q)}),50)}onGotActivationMes(){if(!this.activated){this.activated=!0;var W=O.QuerySelectorAll(document,"iframe, frame");if(W.length)for(let q=0;q<W.length;q++){const k=W[q];if(O.SetFullSizeToElement(k,h.GetAbsoluteCoordinates(this.activationInfo)),O.GenerateAndSetBisIdToFrame(k),O.SetBisDepth(k,this.activationInfo.depth+1),O.SetBisChainId(k,this.activationInfo.chainId),O.IsIframeHasContentScript(W[q]))h.SendActivationMesToFrame(this.id,this.activationInfo.chainId,k,this.activationInfo.depth+1,this.Config);else{let W=h.GetInvalidChainSegmentContent(this.id,this.activationInfo.chainId,k,this.activationInfo.depth+1,this.Config);h.SendInvalidChainSegmentContent(this.id,W)}}this.TargetUrlDetector.DetectTargetUrl(1e3,this.onTargerUrlDetected.bind(this))}}onTargerUrlDetected(){if(!this.contentSenderTimer){let W=O.GetRandomIntInRange(0,200);this.contentSenderTimer=setTimeout(this.SendContent.bind(this),W)}}SendContent(){h.PrepareContent(this.fullIdStr,document,h.GetAbsoluteCoordinates(this.activationInfo)),h.RemoveInjectedJs(this.fullIdStr,document);let W=document.querySelector("html");if(!W)return;let q=W.outerHTML;if(q.length){let W=p.EmptyMessage;W.type=b.MESSAGE_TYPE_IFRAME_CONTENT,W.from=this.id,W.to="bg",W.content={isValid:!0,headerInfo:this.activationInfo.headerInfo,contentFinal:u.encode(q),targetUrl:this.TargetUrlDetector.FrameTargetUrl},O.IsOnChromeRuntime()&&chrome.runtime.sendMessage(W).catch((()=>{}))}}onGotChainActivationResponse(){}onGotContentMes(){}onContentInputsDetected(){this.IframesIO.SendInputsDetected()}onContentRedirectsDetected(){this.IframesIO.SendRedirectDetected()}static SetBisId(W,q,k){q&&(q.bis_id=k),W&&(W.bis_id=k),W.body&&W.body.setAttribute&&W.body.setAttribute("bis_body_id",k)}static RemoveInjectedJs(W,q){try{let W=q.head.querySelectorAll("script[bis_script]");if(W&&W.length)for(let q=0;q<W.length;q++)W[q].remove()}catch(W){}}static GetAbsoluteCoordinates(W){return{x:W.headerInfo.size.abs_x,y:W.headerInfo.size.abs_y}}static PrepareContent(W,q,k){for(var u=O.QuerySelectorAll(q,"*:not(html):not(script):not(head):not(meta):not(link):not(title):not(style):not(param)"),p=0;p<u.length;p++){var b=u[p];if(b)try{var s=!1,y=window.getComputedStyle(b).backgroundImage;if(y&&y.length&&"none"!=y&&y.includes("url")&&(y=y.replace(/"/g,"'"),s=!0),b.hasAttribute("style")){var E=b.getAttribute("style");E&&b.setAttribute&&(E=E.replace(/"/g,"'"),b.setAttribute("style",E),s&&(b.style.cssText+="background-image: "+y+";",b.setAttribute("bis_label","style")))}else s&&b.setAttribute&&(b.setAttribute("style","background-image: "+y+";"),b.setAttribute("bis_label","style"));try{if(b.attributes&&b.attributes.length)for(var R=0;R<b.attributes.length;R++)b.attributes[R]&&b.attributes[R].value&&b.attributes[R].value.length&&"src"!==b.attributes[R].name&&b.attributes[R].value.includes('"')&&(b.attributes[R].value=b.attributes[R].value.replace(/"/g,"'"))}catch(W){}O.SetFullSizeToElement(b,k)}catch(W){}}}static ExtractContent(W,q){return q.document.querySelector("html").outerHTML}static GetFrameHeaderInfo(W,q,k){let O={depth:k,chainId:W,frameId:q.id,src:q.src,size:JSON.parse(q.getAttribute("bis_size")),bisId:q.getAttribute("bis_id")};return 0===k&&(O.topHeaderContent=u.encode(q.outerHTML)),O}static SendActivationMesToFrame(W,q,k,s,y){let R=!1;try{const i=document.querySelector("body"),Q=self===top?0:i?+i.getAttribute("bis_frame_id"):null;let X="";if(y&&y.GetConfigEncoded&&(X=y.GetConfigEncoded()),k){let i,n=p.EmptyMessage;try{i=k.contentWindow&&Object.keys(k.contentWindow).includes("origin")?k.contentWindow.origin:k.src}catch(W){i=k.src}n.type=b.MESSAGE_TYPE_CHAIN_ACTIVATION,n.from=W,n.to="fr",n.content={chainId:q,depth:s,headerInfo:h.GetFrameHeaderInfo(q,k,s),configEncoded:X,targetUrlCandidates:[]};let D=p.EmptyMessage;if(D.type=b.MESSAGE_TYPE_HEADER_INFO_TO_STORAGE,D.from=W,D.to="bg",D.content={chainId:q,depth:s,frameId:Q,headerInfo:h.GetFrameHeaderInfo(q,k,s)},O.IsOnChromeRuntime()&&chrome.runtime.sendMessage(D).catch((()=>{})),O.IsIframeSecure(k)){if(k.contentWindow&&k.contentWindow.postMessage)try{k.contentWindow.postMessage(n,i)}catch(W){}}else{try{let q=E.DetectTargetUrlFromWindowObj(W,k.contentWindow,y);q.length&&(n.content.targetUrlCandidates=q)}catch(W){}k.contentWindow.document.body.setAttribute&&k.contentWindow.document.body.setAttribute("bis_activation",u.encode(JSON.stringify(n)))}R=!0}}catch(W){}return R}static GetInvalidChainSegmentContent(W,q,k,p,b){let s={},y=!1,R=h.GetFrameHeaderInfo(q,k,p),i={x:R.size.x,y:R.size.y};try{let Q=O.QuerySelectorAll(k.contentWindow.document,"iframe, frame");if(0===Q.length)y=!0;else{y=!1;for(let k=0;k<Q.length;k++)O.SetFullSizeToElement(Q[k],i),O.GenerateAndSetBisIdToFrame(Q[k]),O.SetBisDepth(Q[k],p+1),h.SendActivationMesToFrame(W,q,Q[k],p+1,b)}h.PrepareContent(W,k.contentWindow.document,i),s.isValid=!1,s.isChainCompleted=y,s.headerInfo=R,s.contentFinal=u.encode(h.ExtractContent(W,k.contentWindow)),s.targetUrl=E.DetectTargetUrlFromWindowObj(W,k.contentWindow,b)}catch(W){}return s}static SendInvalidChainSegmentContent(W,q){if(q){let k=p.EmptyMessage;k.type=b.MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT,k.from=W,k.to="bg",k.content=q,O.IsOnChromeRuntime()&&chrome.runtime.sendMessage(k).catch((()=>{}))}}InjectJs(){if(document.querySelector('script[bis_script="display"]'))return;let W=document.createElement("script"),q=document.querySelector("head");this.setAttributes(W),q&&q.appendChild(W)}setAttributes(W){const q=O.getURL("../executors/frame.js");W.setAttribute("bis_use","true"),W.setAttribute("bis_script","display"),W.type="text/javascript",W.setAttribute("charset","utf-8"),W.setAttribute("bis_id",this.id),W.src=q}}W.exports=h},4430:(W,q,k)=>{const u=k(8384),O=k(2880),p=k(1568),b=k(9346),s=k(3870),y=k(5364);W.exports=class extends b{constructor(W,q,k,u){super(W),this.Config=q,this.HTML5AdsConfig=this.Config.Html5AdsConfig,this.IOManager=k,this.IOManager.onGotHTML5CandidatesExtractionStatusesCallback=this.onGotHTML5CandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=u,this.topFramesCandidates=[],this.onDetectedCallback=null,this.chainIdCounter=0,this.maxTriesForPreciseAds=this.HTML5AdsConfig.PRECISE_ADVERTISING_IDENTIFIERS.MAX_TRIES_FIND_ADS}ActivateDetector(){this.Activated(),this.sequentialDetection().catch((()=>{}))}async sequentialDetection(){let W=await this.asyncStartDetectPreciseAds();this.startDetectCandidates(W)}startDetectCandidates(W){W?setInterval(this.startDetectPreciseAds.bind(this),600):setTimeout(this.sequentialDetection.bind(this),500)}startDetectPreciseAds(){this.AdBlockerAgent.IsEnabled()&&this.ClearHiddenCounter();let W=this.detectByQuerySelectors();if(!W.length)return void this.startDetectHTML5AdsCandidates();let q=0;for(let k=0;k<W.length;k++){const u=W[k];u.setAttribute&&(u.setAttribute(p.ATTRIBUTE_BIS_PRECISE_AD,1),this.buildCandidateObject(u,!0),this.addRedBorderForCandidates(u),q++,this.AdBlockerAgent.IsEnabled()&&this.HideElement(u))}this.AdBlockerAgent.IsEnabled()&&this.AdBlockerAgent.SetHiddenAmount(this.HiddenAmount),this.startToProcessCandidates(q),this.startDetectHTML5AdsCandidates()}asyncStartDetectPreciseAds(){return new Promise((W=>{this.AdBlockerAgent.IsEnabled()&&this.ClearHiddenCounter(),this.maxTriesForPreciseAds<=0&&(this.maxTriesForPreciseAds--,W(!0));let q=this.detectByQuerySelectors();if(!q.length)return W(!1),void this.maxTriesForPreciseAds--;let k=0;for(let W=0;W<q.length;W++){const u=q[W];u.setAttribute&&(u.setAttribute(p.ATTRIBUTE_BIS_PRECISE_AD,1),this.buildCandidateObject(u,!0),this.addRedBorderForCandidates(u),k++,this.AdBlockerAgent.IsEnabled()&&this.HideElement(u))}this.AdBlockerAgent.IsEnabled()&&this.AdBlockerAgent.SetHiddenAmount(this.HiddenAmount),this.maxTriesForPreciseAds--,this.startToProcessCandidates(k),W(q.length>0)}))}detectByQuerySelectors(){const W=this.HTML5AdsConfig.PRECISE_ADVERTISING_IDENTIFIERS.QUERY_SELECTORS;let q=[];for(let k of W){let W=Array.from(O.QuerySelectorAll(document,`${k}:not([${p.ATTRIBUTE_BIS_PRECISE_AD}]):not([${p.ATTRIBUTE_BIS_SIZE}])`));W.length&&(q=q.concat(...W))}return q}startDetectHTML5AdsCandidates(){let W=O.QuerySelectorAll(document,this.HTML5AdsConfig.QUERIES.IFRAMES_COLLECTION),q=0;if(W.length){for(let k=0;k<W.length;k++){const u=W[k];if(u.getAttribute(p.ATTRIBUTE_BIS_PRECISE_AD))continue;let b=u.src?u.src.toLowerCase():u.src;this.preCheckFrameContent(u)&&(O.IsInFilterList(this.Config.BlacklistIframeSrc,b)||O.IsInFilterList(this.Config.BlacklistIframeId,u.id)?O.SetFullSizeToElement(u):!this.IsFrameFromSite(b)||O.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,b)?(this.buildCandidateObject(u,!1),q+=1,this.addRedBorderForCandidates(u)):O.SetFullSizeToElement(u))}q>0&&this.startToProcessCandidates(q)}}startToProcessCandidates(W){y.SendHtml5CandidatePlacements(this.id,W,null);for(let W=0;W<this.topFramesCandidates.length;W++)this.topFramesCandidates[W].status===p.CANDIDATE_PROCESS_STATUS_DETECTED&&(this.topFramesCandidates[W].status=p.CANDIDATE_PROCESS_STATUS_START_PROCESSING,setTimeout((()=>{this.ActivateCandidateProcessing(this.topFramesCandidates[W])}),3e3+O.GetRandomIntInRange(0,500)))}buildCandidateObject(W,q){let k=W.getBoundingClientRect();if(!q&&k.width<=70&&k.height<=40&&k.height>=1100)return;O.SetFullSizeToElement(W);let u=O.GenerateAndSetBisIdToFrame(W);this.chainIdCounter=this.chainIdCounter+1;let b={ticketId:this.TicketId,pageUrl:this.PageUrl,bisId:u,chainId:this.chainIdCounter,detectionTime:(new Date).getTime(),processingStartTime:null,frame:W,isSecure:O.IsIframeSecure(W),hasContentScript:O.IsIframeHasContentScript(W),status:p.CANDIDATE_PROCESS_STATUS_DETECTED};this.topFramesCandidates.push(b),O.SetBisDepth(W,0),O.SetBisChainId(W,this.chainIdCounter)}preCheckFrameContent(W){if(!W.contentDocument)return!0;const q=W.contentDocument.querySelectorAll(this.HTML5AdsConfig.QUERIES.ACCEPTABLE_NODES_IN_IFRAME),k=W.contentDocument.querySelectorAll(this.HTML5AdsConfig.QUERIES.UNACCEPTABLE_NODES_IN_IFRAME);let u=!1;return q.length&&!k.length&&(u=!0),u}onGotHTML5CandidatesExtractionStatuses(W){if(W&&W.length)for(let q=0;q<W.length;q++)if(this.AdBlockerAgent.IsEnabled()&&W[q].extractionStatus.filteredOut)this.UnhideElement(O.QuerySelector(document,`iframe[bis_chainid="${W[q].chainId}"]`));else if(u.GW&&u.vW){let k=O.QuerySelector(document,`iframe[bis_chainid="${W[q].chainId}"]`);k&&O.UpdateCandidateStatusBorderColor(k,W[q].extractionStatus)}}ActivateCandidateProcessing(W){if(W&&W.status&&W.status===p.CANDIDATE_PROCESS_STATUS_START_PROCESSING){W.processingStartTime=(new Date).getTime(),W.status=p.CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED;let q=O.IsIframeSecure(W.frame);W.isSecure!==q&&(W.isSecure=q);let k=O.IsIframeHasContentScript(W.frame);if(W.hasContentScript!==k&&(W.hasContentScript=k),W.hasContentScript)s.SendActivationMesToFrame(this.id,W.chainId,W.frame,0,this.Config);else{let q=s.GetInvalidChainSegmentContent(this.id,W.chainId,W.frame,0,this.Config);if(u.GW&&u.vW&&q.isChainCompleted){let k={fullContentExtracted:!1,targetUrlExtracted:!1,sentToBackend:!1};q.contentFinal&&q.contentFinal.length&&(k.fullContentExtracted=!0),q.targetUrl&&q.targetUrl.length&&(k.targetUrlExtracted=!0),O.UpdateCandidateStatusBorderColor(W.frame,k)}s.SendInvalidChainSegmentContent(this.id,q)}}}GetPrebuildInfo(){let W=[],q=(new Date).getTime();for(let k=0;k<this.topFramesCandidates.length;k++)this.topFramesCandidates[k].status===p.CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED&&(this.topFramesCandidates[k].status=p.CANDIDATE_PROCESS_STATUS_PREBUILD_INFO_SENT,W.push({ticketId:this.topFramesCandidates[k].ticketId,pageUrl:this.topFramesCandidates[k].pageUrl,bisId:this.topFramesCandidates[k].bisId,chainId:this.topFramesCandidates[k].chainId,timeAfterDetection:q-this.topFramesCandidates[k].detectionTime,timeAfterProcessingStart:q-this.topFramesCandidates[k].processingStartTime}));return W}IsFrameFromSite(W){let q=!1,k=W;if(k.length){let u=k.indexOf("?");u>0?k=W.substring(0,u):(u=k.indexOf("#"),u>0&&(k=W.substring(0,u))),-1!==k.indexOf(window.location.host)?q=!0:O.isValidUrl(k)||"about:blank"===k||(q=!0)}return q}}},4503:(W,q,k)=>{const u=k(6882),O=k(1568),p=k(2880),b=k(9358),s=k(1104);W.exports=class{constructor(W){this.id=W,this.init=!1,this.AtrMessageListeners=[],this.webNavigationIframes=[],this.chainActivationListernerIntervalId=null,this.onWindowEmbeddedTargetUrlDetectionCallback=null,this.onGotContentMesCallback=null,this.onGotChainActivationCallback=null,this.onGotVideoXHRTrafficCallback=null,this.chainActivationEventProcessed=!1,this.processedMessages=[]}IsInit(){return this.init}get Context(){return this}SetId(W){this.id=W,this.AtrMessageListener&&this.AtrMessageListener.SetId(W)}Init(){this.init||(this.init=!0,window.addEventListener("message",(W=>{try{var q=W.data;this.ProcessWindowMessage(q)}catch(W){}}),!1),p.IsOnChromeRuntime()&&chrome.runtime.onMessage.addListener((W=>{var q=W;u.IsValid(q)&&(q.type===O.MESSAGE_TYPE_GET_FRAME_CONTENT?q.multiTo.includes(this.id)&&(this.webNavigationIframes=q.content,this.onGotContentMesCallback&&this.onGotContentMesCallback()):q.type===O.MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK&&q.multiTo.includes(this.id)&&this.ActivateWindowClickTargetUrlDetection(q.content))})),this.chainActivationListernerIntervalId=setInterval((()=>{try{if(!this.chainActivationEventProcessed&&document&&document.body){let W=document.body.getAttribute("bis_activation");if(W&&W.length){let q=b.decode(W);if("{"===q[0]&&"}"===q[q.length-1]){let W=JSON.parse(q);u.IsValid(W)&&W.type===O.MESSAGE_TYPE_CHAIN_ACTIVATION&&(this.chainActivationEventProcessed=!0,clearInterval(this.chainActivationListernerIntervalId),this.chainActivationListernerIntervalId=null,document.body.setAttribute("bis_activation","done"),this.onGotChainActivationCallback&&this.onGotChainActivationCallback(W.content))}}document.body.removeAttribute("bis_activation")}}catch(W){}}),500))}ProcessWindowMessage(W){u.IsValid(W)&&W.posdHash&&!this.processedMessages.includes(W.posdHash)&&(W.posdHash&&W.posdHash.length&&this.processedMessages.push(W.posdHash),W.type===O.MESSAGE_TYPE_CHAIN_ACTIVATION?(this.chainActivationListernerIntervalId&&(clearInterval(this.chainActivationListernerIntervalId),this.chainActivationListernerIntervalId=null),this.onGotChainActivationCallback&&this.onGotChainActivationCallback(W.content)):W.type===O.MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND?this.onWindowEmbeddedTargetUrlDetectionCallback&&this.onWindowEmbeddedTargetUrlDetectionCallback(W.content.targetUrlList):W.type===O.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND?(W.to="bg",p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(W).catch((()=>{}))):W.type===O.MESSAGE_TYPE_VIDEO_XHR_CANDIDATE&&this.onGotVideoXHRTrafficCallback&&this.onGotVideoXHRTrafficCallback(W.content))}ActivateWindowEmbeddedTargetUrlDetection(W){try{this.onWindowEmbeddedTargetUrlDetectionCallback=W;let k=u.EmptyMessage;k.type=O.MESSAGE_TYPE_GET_WINDOW_TARGET_URL,k.from=this.id,k.to=this.id+"_w",window.postMessage&&window.postMessage(k,"*");var q=new s(this.id,this.ProcessWindowMessage.bind(this));q.ActivateMesToFrameContentListener(O.MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND),this.AtrMessageListeners.push(q)}catch(W){}}ActivateWindowClickTargetUrlDetection(W){try{let k=u.EmptyMessage;k.type=O.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL,k.from=this.id,k.to=this.id+"_w",k.content=W,window.postMessage&&window.postMessage(k,"*");var q=new s(this.id,this.ProcessWindowMessage.bind(this));q.ActivateMesToFrameContentListener(O.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL),this.AtrMessageListeners.push(q)}catch(W){}}SendInputsDetected(){let W=u.EmptyMessage;W.type=O.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS,W.from=this.id,W.to="bg",p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(W).catch((()=>{}))}SendRedirectDetected(){let W=u.EmptyMessage;W.type=O.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS,W.from=this.id,W.to="bg",p.IsOnChromeRuntime()&&chrome.runtime.sendMessage(W).catch((()=>{}))}}},9700:(W,q,k)=>{k(1568);const u=k(2880);W.exports=class{#W;#q;#k;constructor(W){this.#W=W}injectDetector(W){if(this.#q=W.className,this.#k=W.fileName,document.head){let q=document.createElement("script");this.#u(q),W.injectBeforeFirstChild?document.head.insertBefore(q,document.head.firstChild):document.head.appendChild(q)}}#u(W){const q=u.getURL(`../executors/${this.#k}.js`);W.setAttribute("bis_use","true"),W.type="text/javascript",W.setAttribute("charset","utf-8"),W.setAttribute("nonce",""),W.src=q}}},3129:(W,q,k)=>{const u=k(2880),O=k(1568),p=k(7584),b=k(1153),s=k(5364),y=k(3522),E=k(3326),R=k(1245),i=k(7376);W.exports=class{constructor(){this.id=null,this.tabId=null,this.init=!1,this.panalyticsId="",this.adsCandidatesDetectionInterval=null,this.ticket=null,this.cycleNumber=0,this.RefreshTicket(),s.SendNewPageCreatedTicket(u.ToJSON(this.ticket))}RefreshTicket(){this.pageUrl=document.location.href,this.ticketId=u.GenerateUUID(),this.cycleNumber=0,this.ticket=p.GetSingleOutTicket(this.panalyticsId,this.ticketId,this.tabId),this.init&&this.AdsManager&&this.AdsManager.PageRefreshed(this.pageUrl,this.ticketId)}Init(){this.init||s.SendInitMes({ticketId:this.ticketId,url:this.pageUrl},this.onGetInitConfig.bind(this))}onGetInitConfig(W){return W.activeStatus?this.init?null:(this.init=!0,this.tabId=W.tabId,this.id="mp_"+W.tabId,this.panalyticsId=W.panalyticsId,this.ticket.tabId=this.tabId,this.ticket[O.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId,this.Config=new R(this.id,W.configuration),this.IOManager=new s(this.id,this.Config),this.IOManager.onTabUrlChanged=this.onTabUrlChanged.bind(this),this.IOManager.manualSendTicket=this.prepareAndSendTicket.bind(this),this.IOManager.Init(),this.AdBlockerAgent=new y(this.id,this.IOManager),this.AdBlockerAgent.Init(W.adBlockerStatus,W.excludeList,W.tabId),this.AdsManager=new b(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.PanelsRegulator=new i(this.id),this.PanelsRegulator.Init(this.AdBlockerAgent,this.onGotRegulatorRespond.bind(this)),void(W.activeAdBlockInspectorAgent&&(this.AdBlockInspectorAgent=new E(this.id),this.AdBlockInspectorAgent.Init(this.Config.GetAdBlockInspectorConfig())))):null}onGotRegulatorRespond(W){return!!this.init&&(!!W&&(this.adsCandidatesDetectionInterval=setInterval(this.onAdsCandidatesDetected.bind(this),1e4),this.AdsManager.ActivateAdsdetectors(),s.SendNewPageCreatedTicket(u.ToJSON(this.ticket)),void s.SendPanelRegulatorResult(W)))}onTabUrlChanged(W){return!(!W?.newUrl||!W?.initedTicketId)&&((W.newUrl!==this.pageUrl||W.initedTicketId===this.ticketId)&&(this.RefreshTicket(),s.SendSinglePageReinitMes({ticketId:this.ticketId,url:this.pageUrl}),void s.SendNewPageCreatedTicket(u.ToJSON(this.ticket))))}onAdsCandidatesDetected(){return!!this.init&&(u.IsOnChromeRuntime()?!!this.panalyticsId.length&&void this.prepareAndSendTicket():(this.adsCandidatesDetectionInterval&&clearInterval(this.adsCandidatesDetectionInterval),!1))}prepareAndSendTicket(){this.cycleNumber=this.cycleNumber+1,this.ticket[O.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId,this.ticket.windowSize=u.GetWindowSize(),this.ticket.firstVisit=this.cycleNumber<=1,this.ticket.adCandidatesHtml5=this.AdsManager.GetHtml5CandidatesPrebuildInfo(),this.IOManager.SendTicket(u.ToJSON(this.ticket))}}},7376:(W,q,k)=>{const u=k(8384),O=k(1568),p=k(2880),b=k(9358);W.exports=class{constructor(W){this.id=W,this.init=!1,this.extensionId=""+chrome.runtime.id,this.AdBlockerAgent=null,this.onInitCallback=null}Init(W,q){!this.init&&W&&(this.onInitCallback=q,this.init=!0,this.AdBlockerAgent=W,document.readyState===O.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.ActivateRegulator.bind(this)):document.readyState!==O.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==O.DOCUMENT_READYSTATE_COMPLETE||this.ActivateRegulator())}ActivateRegulator(){this.RegisterPanel(),setTimeout(this.Regulate.bind(this),500)}Regulate(){let W=!0,q="",k=[];try{let u=document.body.getAttribute("bis_register");if(u&&u.length){k=JSON.parse(b.decode(u));for(let W=0;W<k.length&&0===q.length;W++)k[W].master&&(q=k[W].extensionId);q.length&&this.extensionId!==q&&(W=!1)}}catch(W){}this.onInitCallback&&this.onInitCallback(W)}GetPanelScore(){let W=u.AW.split("."),q=1e4*parseInt(W[0])+100*parseInt(W[1])+parseInt(W[2]),k=this.AdBlockerAgent.GetStatus();return p.IsFacebookUrl(document.location.href)?k[O.ADBLOCKER_FOR_FACEBOOK]===O.ADBLOCKER_STATUS_ENABLED&&(q*=10):p.IsTwitterUrl(document.location.href)?k[O.ADBLOCKER_FOR_TWITTER]===O.ADBLOCKER_STATUS_ENABLED&&(q*=10):p.IsRedditUrl(document.location.href)?k[O.ADBLOCKER_FOR_REDDIT]===O.ADBLOCKER_STATUS_ENABLED&&(q*=10):k[O.ADBLOCKER_FOR_DISPLAY]===O.ADBLOCKER_STATUS_ENABLED&&(q*=10),q}UpdateRegister(W){let q={master:!0,extensionId:this.extensionId,adblockerStatus:this.AdBlockerAgent.GetStatus(),version:u.AW,score:this.GetPanelScore()},k=!0;for(let u=0;u<W.length&&k;u++)W[u].extensionId===this.extensionId&&(k=!1,W[u]=q);k&&W.push(q)}ChooseWinner(W){if(W&&W.length)if(1===W.length);else{let q=0,k=W[q].score;for(let u=0;u<W.length;u++)W[u].master=!1,W[u].score>k&&(k=W[u].score,q=u);W[q].master=!0}}RegisterPanel(){try{let W=[],q=document.body.getAttribute("bis_register");q&&q.length&&(W=JSON.parse(b.decode(q))),this.UpdateRegister(W),this.ChooseWinner(W),document.body.setAttribute("bis_register",b.encode(JSON.stringify(W)))}catch(W){}}}},7235:(W,q,k)=>{const u=k(2880),O=k(8384),p=k(9346),b=k(5364),s=k(1568);W.exports=class extends p{constructor(W,q,k,u){super(W),this.Config=q,this.skinAdsConfig=q.config.skinAdsConfig,this.IOManager=k,this.IOManager.onGotSkinAdCandidatesExtractionStatusesCallback=this.onGotSkinAdCandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=u}ActivateDetector(){this.DetectCandidates(),setTimeout((()=>{this.DetectCandidates()}),500),setInterval((()=>{this.DetectCandidates()}),1e3)}SendCandidatesToBackground(){this.Candidates.length&&b.SendAdCandidates(this.id,this.Candidates,s.MESSAGE_TYPE_CANDIDATES_DATA_SKINADS,null)}DetectCandidates(){this.ClearCandidates(),this.GetSkinAdFromBodyBackground(),0==this.CandidatesCount&&this.GetSkinAdFromDivBackground(),this.SendCandidatesToBackground()}GetSkinAdFromBodyBackground(){var W,q={source:[],targetUrl:[]},k=document.body;if(k&&!k.hasAttribute("bis_skin_checked")&&(W=u.GetUrlFromStyleStr(window.getComputedStyle(k).backgroundImage)),W&&u.isValidUrl(W)){k.setAttribute("bis_skin_checked","1");var O={type:"single",src:W,size:u.GetFullElementSize(k)};q.source.push(O);for(var p=u.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_HREF_COLLECTION),b=0;b<p.length;b++){var s=p[b];s.setAttribute&&s.setAttribute("bis_skin_checked","1");var y=s.getBoundingClientRect(),E=s.firstElementChild?s.firstElementChild.getBoundingClientRect():null;s.href&&(y.width>50&&y.height>=100&&0==y.left||E&&E.width>50&&E.height>=100&&0==E.left)&&u.isValidUrl(s.href)&&!q.targetUrl.includes(s.href)&&q.targetUrl.push(s.href),this.findElementsByHref(q.targetUrl,s)}}q.source.length&&q.targetUrl.length&&this.AddCandidate(q)}GetSkinAdFromDivBackground(){let W={source:[],targetUrl:[]},q=!1,k=u.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_DIV_COLLECTION);for(let O=0;O<k.length&&!q;O++){let p=k[O];p.setAttribute&&p.setAttribute("bis_skin_checked","1");let b=p.getBoundingClientRect();if(b.width>50&&b.height>500&&0==b.left){let k=u.GetUrlFromStyleStr(window.getComputedStyle(p).backgroundImage);if(k&&u.isValidUrl(k)){let O={type:"single",src:k,size:u.GetFullElementSize(p)};W.source.push(O),q=!0}}}if(q){let q=u.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_HREF_COLLECTION);for(let k=0;k<q.length;k++){let O=q[k];O.setAttribute&&O.setAttribute("bis_skin_checked","1");let p=O.getBoundingClientRect();O.href&&0==p.left&&(p.width>50&&p.height>500||p.width>500&&p.height>50)&&u.isValidUrl(O.href)&&!W.targetUrl.includes(O.href)&&W.targetUrl.push(O.href)}}W.source.length&&W.targetUrl.length&&this.AddCandidate(W)}findElementsByHref(W,q){const k=q.href;W.includes(k)&&(this.SetBorderToCandidate(q),q.setAttribute("bis_skin_element","1"))}SetBorderToCandidate(W){const q=W.getBoundingClientRect();W&&(q.width>1&&q.height>1?W.style.cssText+="border: 6px solid red !important; display: block;":W.firstElementChild.style.cssText+="border: 6px solid red !important; display: block;")}onGotSkinAdCandidatesExtractionStatuses(W){if(O.GW&&O.vW&&W&&W.length)for(let q=0;q<W.length;q++){let k=u.QuerySelectorAll(document,W[q].query);k&&k.forEach((k=>{k&&u.UpdateCandidateStatusBorderColor(k,W[q].extractionStatus)}))}}}},7584:(W,q,k)=>{const u=k(8384),O=k(2880),p=k(1568);W.exports=class{static GetSingleOutTicket(W,q,k){let b={tabId:k,ticketFormatVersion:3,partnerId:u.DW,distributorId:u._W,ticketId:q,firstVisit:!1,url:document.location.href,userAgent:navigator.userAgent,creationTime:O.GetCurrentDataTimeStr(),windowSize:O.GetWindowSize(),timeOnPage:0,adCandidatesSkinAd:[],adCandidatesBanner:[],adCandidatesHtml5:[],adsFacebook:[],adsTwitter:[],adsReddit:[],adsPinterest:[],adsInstagram:[],adsLinkedin:[],adsTiktok:[],aiSessions:[],adCandidatePlacements:{skinAd:0,banner:0,html5:0,facebook:0,twitter:0,reddit:0,pinterest:0,tiktok:0,instagram:0,linkedin:0},videoTraffics:[],activeAdBlocker:!1};b[p.TICKET_ALIAS_PANALYTICSID]=W,b[p.TICKET_ALIAS_PINSTANCEID]=u.nW;let s=O.GetBaseHref();""!==s&&(b.base=s);let y=chrome.runtime.getManifest();return b.extensionVersion=y.version,b.panelosVersion=u.AW,b}}},855:(W,q,k)=>{const u=k(1568),O=k(9358),p=k(2880),b=k(1936),s=k(2938),y=k(8940),E=k(5364);W.exports=class{constructor(W,q,k){this.id=W,this.Config=q,this.IOManager=k,this.onDetectVideoHarCallback=null,this.VideoTrafficValidator=new y(this.id,this.Config),this.VideoTrafficDetector=new s(this.id),this.VideoTrafficDetector.InjectXhrDetector(this.Config),this.IOManager.onGotVideoXHRTrafficCallback=this.ProcessVideoXHRTraffic.bind(this)}ActivateDetector(){this.CheckVideoTrafficInHTML(),this.CheckVideoTrafficInJS()}PageRefreshed(W,q){p.IsYouTubeUrl(W)||(this.CheckVideoTrafficInHTML(),this.CheckVideoTrafficInJS())}CheckVideoTrafficInHTML(){let W=new b(u.VIDEO_TRAFFIC_SOURCE_HTML,"GET",window.location.href,"text/html",document.documentElement.outerHTML),q=this.VideoTrafficValidator.Validate(W);q&&this.SendVideoTraffic(W,q)}CheckVideoTrafficInJS(){let W=p.QuerySelectorAll(document,"script");for(let q=0;q<W.length;q++){let k=new b(u.VIDEO_TRAFFIC_SOURCE_JS,"GET",W[q].src,"text/javascript",W[q].innerHTML),O=this.VideoTrafficValidator.Validate(k);O&&this.SendVideoTraffic(k,O)}}ProcessVideoXHRTraffic(W){if(b.IsXHRvalid(W)){let q=new b(u.VIDEO_TRAFFIC_SOURCE_XHR,W.requestMethod,W.url,W.type,W.content,W.encodedPostBody),k=this.VideoTrafficValidator.Validate(q);k&&this.SendVideoTraffic(q,k)}}SendVideoTraffic(W,q){if(W&&q){let k={requestMethod:W.GetRequestMethod(),url:W.GetUrl(),contentType:W.GetType(),mediaType:q.name,alias:q.alias};if(W.IsEncodedPostBodyExist()&&(k.encodedPostBody=W.GetEncodedPostBody()),q.reduceSizeFilter&&q.reduceSizeFilter.active){let u;if(null!==(u=y.CreateRegExp(q.reduceSizeFilter.reducePattern).exec(W.GetContent()))&&u.length>0&&Math.max(...q.reduceSizeFilter.regResIndexes)<u.length){let W=u.filter(((W,k)=>q.reduceSizeFilter.regResIndexes.includes(k)));k.encodedText=O.encode(W.join(" "))}}else k.encodedText=O.encode(W.GetContent());E.SendVideoHar(this.id,k)}}}},1936:(W,q,k)=>{const u=k(9358);W.exports=class{constructor(W,q,k,u,O,p=null){this.trafficSource=W,this.requestMethod=q,this.url=k,this.type=u,this.content=O,this.SetEncodedPostBody(p)}static IsXHRvalid(W){return W&&W.hasOwnProperty("requestMethod")&&W.hasOwnProperty("url")&&""!==W.url}SetEncodedPostBody(W){W&&"string"==typeof W&&W.length>0&&(this.encodedPostBody=u.encode(W))}GetEncodedPostBody(){return this.encodedPostBody?this.encodedPostBody:null}IsEncodedPostBodyExist(){return!!this.encodedPostBody}GetTrafficSource(){return this.trafficSource}GetRequestMethod(){return this.requestMethod}GetUrl(){return this.url}GetType(){return this.type}GetContent(){return this.content}SetContent(W){this.content=W}SetUrl(W){this.url=W}}},2938:(W,q,k)=>{const u=k(2880);W.exports=class{constructor(W){this.id=W}InjectXhrDetector(W){if(document.head){let q=document.createElement("script");this.setAttributes(q,W),document.head.appendChild(q)}}setAttributes(W,q){const k=u.getURL("../executors/traffic.js");W.setAttribute("bis_use","true"),W.type="text/javascript",W.setAttribute("charset","utf-8"),W.setAttribute("data-bis-config",JSON.stringify(q.config.filterLists.blacklistIframeSrc)),W.src=k}}},8940:(W,q,k)=>{const u=k(1568);class O{constructor(W,q){this.id=W,this.Config=q}Validate(W){let q=[],k=!1;if(W&&(W.GetTrafficSource()===u.VIDEO_TRAFFIC_SOURCE_HTML?(q=this.Config.GetVideoValidatorsForHTML(),k=!0):W.GetTrafficSource()===u.VIDEO_TRAFFIC_SOURCE_XHR?(q=this.Config.GetVideoValidatorsForXHR(),k=!0):W.GetTrafficSource()===u.VIDEO_TRAFFIC_SOURCE_JS&&(q=this.Config.GetVideoValidatorsForJS(),k=!0),k))for(let k of q){if(this.ValidateUseConfiguration(W,k))return this.specificFilterCandidate(W,k)}return!1}ValidateUseConfiguration(W,q){const k=Object.keys(q);let u=[];for(let W of k)-1!==W.indexOf("Pattern")&&u.push(W);let p=0,b={domainPattern:"GetUrl",mimePattern:"GetType",contentPattern:"GetContent"};for(let k of u)try{let u=O.CreateRegExp(q[k]),s=b[k];p+=u.test(W[s]())?1:0}catch(W){}return p===u.length}static CreateRegExp(W){let q=W.replace(/.*\/([gimy]*)$/,"$1"),k=W.replace(new RegExp("^/(.*?)/"+q+"$"),"$1");return new RegExp(k,q)}specificFilterCandidate(W,q){return!(!W.IsEncodedPostBodyExist()&&"YT_FORCING_KEY"===q.alias)&&q}}W.exports=O},1368:(W,q,k)=>{const u=k(1568),O=k(2880),p=k(100),b=k(9587),s=k(778),y=k(6912),E=k(8065),R=k(8476),i=k(8375),h=k(6311);W.exports=class{#W;#O;#p;#b=null;constructor(W,q,k){switch(this.#W=W,this.#O=q,this.#p=k,!0){case O.isClaudeUrl(this.#p,q):this.#b=new p(this.#W,this.#O);break;case O.isChatgptUrl(this.#p,q):this.#b=new b(this.#W,this.#O);break;case O.isCopilotUrl(this.#p,q):this.#b=new s(this.#W,this.#O);break;case O.isPerplexityUrl(this.#p,q):this.#b=new y(this.#W,this.#O);break;case O.isMetaUrl(this.#p,q):this.#b=new E(this.#W,this.#O);break;case O.isDeepseekUrl(this.#p,q):this.#b=new R(this.#W,this.#O);break;case O.isGeminiUrl(this.#p,q):this.#b=new i(this.#W,this.#O);break;case O.isGrokUrl(this.#p,q):this.#b=new h(this.#W,this.#O)}this.#s()}#s(){document.readyState===u.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.#y.bind(this)):document.readyState!==u.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==u.DOCUMENT_READYSTATE_COMPLETE||this.#y.apply(this)}#y(){this.#b&&this.#b.activateDetector()}pageRefreshed(W,q){}}},9587:(W,q,k)=>{const u=k(1568),O=k(9700);W.exports=class extends O{#W;#O={};#E={fileName:"chatgpt",className:"PosdChatgptMessagesCollector:Injector"};#R=!1;constructor(W,q){super(W),this.#W=W,this.#O=q.tW||{},this.init=!1}activateDetector(){this.init||(this.init=!0,this.injectDetector(this.#E),this.#i())}#i(){this.#R||(this.#R=!0,chrome.storage.onChanged.addListener((W=>{for(let[q,{oldValue:k,newValue:O}]of Object.entries(W))if("panelAIFeatures"===q){window.postMessage({type:u.MESSAGE_TYPE_CHATGPT_PROTECTION_STATUS_RESPONSE,content:"on"===O},"*");break}})))}}},100:(W,q,k)=>{const u=k(9700);k(1568);W.exports=class extends u{#W;#O={};#E={fileName:"claude",className:"PosdClaudeMessagesCollector:Injector",injectBeforeFirstChild:!0};#h=!1;constructor(W,q){super(W),this.#W=W,this.#O=q.BW||{}}activateDetector(){this.#h||(this.#h=!0,this.injectDetector(this.#E))}}},778:(W,q,k)=>{const u=k(9700);k(1568);W.exports=class extends u{#W;#O={};#E={fileName:"copilot",className:"PosdCopilotMessagesCollector:Injector",injectBeforeFirstChild:!0};#h=!1;constructor(W,q){super(W),this.#W=W,this.#O=q.cW||{}}activateDetector(){this.#h||(this.#h=!0,this.injectDetector(this.#E))}}},8476:(W,q,k)=>{k(1568);const u=k(9700);W.exports=class extends u{#W;#O={};#E={fileName:"deepseek",className:"PosdDeepseekMessagesCollector:Injector"};constructor(W,q){super(W),this.#W=W,this.#O=q.JW||{},this.init=!1}activateDetector(){this.init||(this.init=!0,this.injectDetector(this.#E))}}},8375:(W,q,k)=>{k(1568);const u=k(9700);W.exports=class extends u{#W;#O={};#E={fileName:"gemini",className:"PosdGeminiMessagesCollector:Injector"};constructor(W,q){super(W),this.#W=W,this.#O=q.JW||{},this.init=!1}activateDetector(){this.init||(this.init=!0,this.injectDetector(this.#E))}}},6311:(W,q,k)=>{const u=k(9700);k(1568);W.exports=class extends u{#W;#O={};#E={fileName:"grok",className:"PosdGrokMessagesCollector:Injector",injectBeforeFirstChild:!0};#h=!1;constructor(W,q){super(W),this.#W=W,this.#O=q.oW||{}}activateDetector(){this.#h||(this.#h=!0,this.injectDetector(this.#E))}}},8065:(W,q,k)=>{const u=k(9700);k(1568);W.exports=class extends u{#W;#O={};#E={fileName:"meta",className:"PosdMetaMessagesCollector:Injector"};#h=!1;constructor(W,q){super(W),this.#W=W,this.#O=q.wW||{}}activateDetector(){this.#h||(this.#h=!0,this.injectDetector(this.#E))}}},6912:(W,q,k)=>{const u=k(9700);k(1568);W.exports=class extends u{#W;#O={};#E={fileName:"perplexity",className:"PosdPerplexityMessagesCollector:Injector",injectBeforeFirstChild:!0};#h=!1;constructor(W,q){super(W),this.#W=W,this.#O=q.eW||{}}activateDetector(){this.#h||(this.#h=!0,this.injectDetector(this.#E))}}},655:(W,q,k)=>{const u=k(2880),O=k(1568);W.exports=class{constructor(W,q,k){this.id=W,this.options=q,this.AdBlockerAgent=k,this.active=!1,this.lastDetectTime=u.GetCurrentTimestampMs()-1e3,this.activateDetectorTime=u.GetCurrentTimestampMs(),this.detectorInterval=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.isObserverAlreadySet=!1,this.onScrollListenerHandler=null,this.onScrollListenerIsOn=!1,this.onScrollCallback=null}ActualizeDetector(){}ActivateMutationObserver(){}DeactivateMutationObserver(){}Detector(){}HideAd(W,q,k){}CheckIfAd(W){}CheckIfAdRendered(W){}ExtractAd(W){}ActivateDetector(){this.active||(this.activateDetectorTime=u.GetCurrentTimestampMs(),this.active=!0,this.options.firstDetectionAfterActivationTimeoutMs&&this.options.firstDetectionAfterActivationTimeoutMs>0&&setTimeout((()=>{this.DetectCandidates(O.AD_DETECTOR_INITIATOR_ACTIVATION)}),this.options.firstDetectionAfterActivationTimeoutMs),this.startIntervalDetectCandidates(O.AD_DETECTOR_INITIATOR_TIMER),this.options.useObserver&&this.IsActualByKeyWordInUrl&&(this.observerNodesListenerInterval=setInterval((()=>{this.observerNodesChecksAmount=this.observerNodesChecksAmount+1,this.ActivateMutationObserver(),(this.isObserverAlreadySet||this.observerNodesChecksAmount>this.options.observerNodesChecksMaxAmount)&&(clearInterval(this.observerNodesListenerInterval),this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.activateOnScrollEvent())}),this.options.observerNodesCheckIntervalMs)))}DeactivateDetector(W){W===O.AD_DETECTOR_INITIATOR_URL&&(this.DeactivateMutationObserver(),(this.onScrollCallback||this.onScrollListenerIsOn)&&(window.removeEventListener("scroll",this.onScrollCallback),this.onScrollCallback=null,this.onScrollListenerIsOn=!1,this.onScrollListenerHandler&&(clearTimeout(this.onScrollListenerHandler),this.onScrollListenerHandler=null))),this.detectorInterval&&(clearInterval(this.detectorInterval),this.detectorInterval=null),this.observerNodesListenerInterval&&(clearInterval(this.observerNodesListenerInterval),this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0),this.activateDetectorTime=u.GetCurrentTimestampMs(),this.lastDetectTime=u.GetCurrentTimestampMs()-1e3,this.active=!1}DetectCandidates(W,q){if(!this.ActualizeDetector()||!this.IsActualByKeyWordInUrl)return void this.checkLimits(W);let k=u.GetCurrentTimestampMs();u.GetCurrentTimestampMs()-this.activateDetectorTime>this.options.maxActualizeDetectorWaitTimeMs?(this.checkLimits(W),q&&this.startIntervalDetectCandidates()):k-this.lastDetectTime>this.options.minTimeAfterLastDetectionMs&&(this.lastDetectTime=k,this.Detector())}get IsActualByKeyWordInUrl(){const W=this.options.urlInvalidKeyWord,q=this.options.urlValidationByKeyWord;if(!W&&!q)return!0;const k=window.location.href;let u=!!W&&W.some((W=>k.includes(W))),O=!q||k.includes(q);return!u&&O}checkLimits(W){return!this.options.maxActualizeDetectorWaitTimeMs||(!(u.GetCurrentTimestampMs()-this.activateDetectorTime>this.options.maxActualizeDetectorWaitTimeMs)||(this.DeactivateDetector(W),!1))}activateOnScrollEvent(){this.options.useOnScroll&&!this.onScrollListenerIsOn&&this.IsActualByKeyWordInUrl&&this.ActualizeDetector()&&(this.onScrollCallback=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!0)}onScroll(W){this.DetectCandidates(O.AD_DETECTOR_INITIATOR_SCROLL_EVENT),this.startIntervalDetectCandidates(O.AD_DETECTOR_INITIATOR_SCROLL_EVENT),window.removeEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!1,this.onScrollListenerHandler=setTimeout((()=>{window.addEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!0,clearTimeout(this.onScrollListenerHandler),this.onScrollListenerHandler=null}),this.options.onScrollTimeout)}startIntervalDetectCandidates(W){this.detectorInterval||(this.detectorInterval=setInterval((()=>{this.DetectCandidates(W)}),this.options.detectionIntervalMs))}}},97:(W,q,k)=>{const u=k(8384),O=k(2880),p=k(9358),b=k(1568),s=k(9346),y=k(5364),E=k(7678),R=k(6335),i=k(7948),h=k(1899),Q=k(2300),X=k(1454);W.exports=class extends s{constructor(W,q,k){super(W),this.available=!1,this.onPageRefreshed=this.onPageUrlChanged,this.fbConfig=q.FacebookConfig,this.AdBlockerAgent=k,this.VideoTrafficDetector=new X(this.id),this.VideoTrafficDetector.InjectDetector()}onPageUrlChanged(W,q){this.available&&setTimeout((()=>{this.DeactivateDetectors(b.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetector(W){W===b.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.fbContent=document.querySelector(this.fbConfig.FB_CONTENT),this.fbContent&&(this.DetectorFeed=new R(this.id,this.fbConfig.FEED_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorFeed.HideAd=this.HideAd.bind(this),this.DetectorFeed.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorFeed.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorRightColumn=new h(this.id,this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorRightColumn.HideAd=this.HideAd.bind(this),this.DetectorRightColumn.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorRightColumn.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorWatch=new i(this.id,this.fbConfig.FEED_WATCH_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorWatch.HideAd=this.HideAd.bind(this),this.DetectorWatch.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorWatch.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorMarketplace=new Q(this.id,this.fbConfig.MARKETPLACE_ADS_CONFIG.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorMarketplace.HideAd=this.HideAd.bind(this),this.DetectorMarketplace.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorMarketplace.ExtractAd=this.ProcessFbCreative.bind(this),this.ActivateDetectors())}ActivateDetectors(){this.DetectorRightColumn.ActivateDetector(),this.DetectorFeed.ActivateDetector(),this.DetectorWatch.ActivateDetector(),this.DetectorMarketplace.ActivateDetector()}DeactivateDetectors(W){this.DetectorRightColumn.DeactivateDetector(W),this.DetectorFeed.DeactivateDetector(W),this.DetectorWatch.DeactivateDetector(W),this.DetectorMarketplace.DeactivateDetector(W)}ProcessFbCreative(W,q,k){try{let p=!1,s=!1,R=!1;if(W){let i=document.querySelector(`[${b.ATTRIBUTE_BIS_ID}=${W}]`);if(i)if(p=!0,s=this.IsAdContentRendered(i,E.GetMinImgsSpacePercentag(this.fbConfig,k)),s){R=this.IsVideoCreative(i),y.SendCandidatePlacementsCount(this.id,1,b.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK,null);let W={x:0,y:0};if(E.IsPostHidden(i)){i.setAttribute(b.ATTRIBUTE_BIS_SIZE,O.ToJSON(E.GetPostContainerSize(i)));let q=i.getAttribute(b.ATTRIBUTE_BIS_HIDE_LEFT_OFFSET);q&&(W.x=parseInt(q))}else O.SetFullSizeToElement(i);let p=i.querySelectorAll("*");for(let q=0;q<p.length;q++)O.SetFullSizeToElement(p[q],null,W);let s=[];s.push(this.BuildCreative(i,R,q,k)),this.SendFacebookCandidates(s),u.GW&&u.vW&&(this.IsVideoCreative(i)?i.style.cssText+=b.STYLES_OUTLINE_VIDEO_AD:i.style.cssText+=b.STYLES_OUTLINE_SUCCESS_DETECT)}else i.removeAttribute&&i.removeAttribute(b.ATTRIBUTE_BIS_ID)}}catch(W){}}BuildCreative(W,q,k,u){let O=E.GetPostContainerSize(W),s=Array.from(document.querySelectorAll("link")),y=Array.from(document.querySelector("head").querySelectorAll("style[nonce]")),R=s.concat(y),i='<html><head><meta charset="utf-8">';for(let W of R)i+=W.outerHTML;if(i+=`</head><body style='position:absolute; top:0px; left:0px; width:${O.w}px; height:${O.h}px;'>${W.outerHTML}</body></html>`,this.AdBlockerAgent.IsEnabledForFacebook()&&k?.length&&i.includes(k)){let W="";i=i.replace(k,W)}let h="",Q=!1;this.fbConfig.ABOUT_SECTION_CONFIG&&this.fbConfig.ABOUT_SECTION_CONFIG.LOAD_ABOUT_PAGE&&(Q=!0),this.fbConfig&&Q&&(this.DetectorFeed&&u===b.FACEBOOK_AD_PLACEMENT_TYPE_FEED?h=this.DetectorFeed.GetAboutPageLink(W):this.DetectorMarketplace&&u===b.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE?h=this.DetectorMarketplace.GetAboutPageLink(W):this.DetectorWatch&&u===b.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH&&(h=this.DetectorWatch.GetAboutPageLink(W)));let X={content:p.encode(i),adPlacementType:u,designVersion:b.FACEBOOK_DESIGN_VERSION_NEW,aboutPageLink:h,aboutSectionContent:"",size:O};return q&&(X.videoData={videoId:"",videoUrl:"",audioUrl:""}),W.setAttribute(b.ATTRIBUTE_BIS_STATUS,"extracted"),X}HideAd(W,q,k){let u="";return W&&q&&W&&W.style&&(u=`position: absolute !important; width: ${q.w}px; overflow: hidden; height: 0px;`,E.IsPostHidden(W)||(W.style.cssText+=u,W.setAttribute(b.ATTRIBUTE_BIS_HIDE_HEIGHT,q.h),W.setAttribute(b.ATTRIBUTE_BIS_HIDE_WIDTH,q.w),W.setAttribute(b.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"))),W.style.cssText}IsAdContentRendered(W,q){let k=E.GetPostContainerSize(W);if(O.GetImagesSpacePercentage(this.fbConfig.TAGS_FOR_LOADING_CHECK,W,k).some((W=>W>=q)))return!0;let u=W.querySelector(`a[${b.ATTRIBUTE_BIS_LABEL}]`);return u&&u.removeAttribute(b.ATTRIBUTE_BIS_LABEL),!1}IsVideoCreative(W){return 0!==W.querySelectorAll("video").length}AddNeededStylesForElement(W,q){try{if(q.w<=3&&q.h<=3&&("SPAN"===W.nodeName||"DIV"===W.nodeName)){let q=W.getAttribute("class");if(q&&q.includes("accessible_elem")){let q=getComputedStyle(W);W.setAttribute(b.ATTRIBUTE_BIS_STYLE,`clip:${q.getPropertyValue("clip")}; height:${q.getPropertyValue("height")}; overflow:${q.getPropertyValue("overflow")}; position:${q.getPropertyValue("position")}; white-space:${q.getPropertyValue("white-space")}; width:${q.getPropertyValue("width")};`)}}}catch(W){}}LoadAboutPageAndSendCandidates(W){if(W&&W.length){let q=W[0].aboutPageLink;q&&q.length?fetch(q,{headers:this.fbConfig.ABOUT_SECTION_CONFIG.HEADERS,method:"GET"}).then((q=>{try{if(200===q.status)return q.text();this.SendFacebookCandidates(W)}catch(W){}})).then((q=>{let k="",u=q.split(/\r?\n/);if(u.length)for(let W=0;W<u.length;W++){!new RegExp(this.fbConfig.ABOUT_SECTION_CONFIG.CONTENT_CHECK_STRING).test(u[W])||k.includes("delegate_page_id")&&k.includes("about_app_sections")||(k+=u[W])}W[0].aboutSectionContent=p.encode(k),this.SendFacebookCandidates(W)})).catch((()=>{this.SendFacebookCandidates(W)})):this.SendFacebookCandidates(W)}}SendFacebookCandidates(W){y.SendAdCandidates(this.id,W,b.MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK,null),this.AdBlockerAgent.IsEnabledForFacebook()&&this.AdBlockerAgent.SetHiddenAmount(W.length)}}},7678:(W,q,k)=>{const u=k(1568),O=k(2880);class p{static GetVisibleText(W){let q=W.querySelectorAll(":scope > *");if(0!==q.length)return Array.prototype.slice.call(q).map(p.GetVisibleText).flat();if("none"!==getComputedStyle(W).display){let q=W.innerText;try{if(0===q.length&&W.getAttribute){let k=W.getAttribute("data-content");k&&k.length&&(q=k)}}catch(W){}return q}return""}static GetVisibleSpansText(W,q,k=[]){if(W.hasAttribute&&W.hasAttribute("bis_sponsor_checked")&&3==W.getAttribute("bis_sponsor_checked"))return"";let u=W.querySelectorAll(q),O="",p=parseInt(W.getAttribute("bis_sponsor_checked"))||0;return u.forEach((W=>{const q=getComputedStyle(W);if("none"!==q.display&&"absolute"!==q.position)try{let q=Array.from(W.childNodes).filter((W=>3===W.nodeType)).map((W=>W.nodeValue.trim())).reduce(((W,q)=>W+q),"");if(0===q.length&&W.getAttribute){let k=W.getAttribute("data-content");k&&k.length&&(q=k)}O+=q}catch(W){}})),W.setAttribute("bis_sponsor_checked",parseInt(p)+1),O&&k.length&&!k.includes(O)&&(O=this.checkLettersOfAlly(O,k)),O}static checkLettersOfAlly(W,q){const k=W.split(""),u=k.length-1,O=q.length;let p=1,b=!1,s=0,y="";for(;!b&&p<=O;){const O=q[p-1],E=k[s];-1!==O.indexOf(E)&&O.length===k.length?u!==s?s+=1:u===s&&W.length===O.length?(b=!0,y=O):(p+=1,s=0):(p+=1,s=0)}return y}static HideSateliteSponsoredString(W,q){try{q&&q.forEach((q=>{if(q.innerText){let k=q.innerText;W.SPONSORED_TEXTS.some((W=>-1!==k.indexOf(W)))&&(q.style="display:none")}}))}catch(W){}}static GetMinImgsSpacePercentag(W,q){return q===u.FACEBOOK_AD_PLACEMENT_TYPE_FEED?W.FEED_PAGE.MIN_IMGS_SPACE_PERCENTAGE:q===u.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE?W.MARKETPLACE_ADS_CONFIG.MIN_IMGS_SPACE_PERCENTAGE:q===u.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN?W.RIGHT_COLUMN_ADS_CONFIG.MIN_IMGS_SPACE_PERCENTAGE:q===u.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH?W.FEED_WATCH_PAGE.MIN_IMGS_SPACE_PERCENTAGE:0}static IsInitiallyRendered(W,q){return!!p.IsPostHidden(W)||q.w>0&&q.h>10}static IsPostHidden(W){return"hidden"===W.getAttribute(u.ATTRIBUTE_BIS_HIDE_STATUS)}static GetPostContainerSize(W){let q=O.GetFullElementSize(W);if(p.IsPostHidden(W)){let k=W.getAttribute(u.ATTRIBUTE_BIS_HIDE_HEIGHT);k&&(q.h=parseInt(k));let O=W.getAttribute(u.ATTRIBUTE_BIS_HIDE_WIDTH);O&&(q.w=parseInt(O));let p=W.getAttribute(u.ATTRIBUTE_BIS_HIDE_LEFT_OFFSET);p&&(q.x=q.x+parseInt(p),q.abs_x=q.abs_x+parseInt(p))}return q}}W.exports=p},6335:(W,q,k)=>{const u=k(655),O=k(7678),p=k(2880),b=k(1568),s=k(6882);W.exports=class extends u{constructor(W,q,k,u){super(W,q,k),this.fbConfig=u,this.fbFeed=null,this.fbFeedObserver=null}ActualizeDetector(){return!!this.isValidUrl&&(this.fbFeed=this.FeedContainer,!!this.fbFeed)}ActivateMutationObserver(){this.fbFeed?(this.fbFeedObserver||(this.fbFeedObserver=new MutationObserver(this.DetectCandidates.bind(this,b.AD_DETECTOR_INITIATOR_MUTATION)),this.fbFeedObserver.observe(this.fbFeed,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbFeedObserver&&(this.fbFeedObserver.disconnect(),this.fbFeedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}get FeedContainer(){const W=this.fbConfig.FEED_PAGE.MIN_HEIGHT,q=this.fbConfig.FEED_PAGE.FEED_QUERIES,k=q.length;let u=!1,O=null;for(let p=0;p<k&&!u;p++){let k=q[p],b=document.querySelector(k);if(b){const q=b.offsetHeight;if(b.children.length>2&&q>W)O=b,u=!0;else if(b.nodeName.search(/span/i)>-1){let q=b.nextElementSibling;if(q&&q.children){const k=q.offsetHeight;1===q.children.length&&q.querySelector("h3")?(O=q.querySelector("h3").parentElement,u=!0):2===q.children.length?(b=q.querySelector("div:not([class])"),b&&b.offsetHeight>W&&(O=b,u=!0)):q.children.length>1&&k>W&&(O=q,u=!0)}}}}return O}DeactivateMutationObserver(){this.fbFeedObserver&&(this.fbFeedObserver.disconnect(),this.fbFeedObserver=null,this.isObserverAlreadySet=!1)}Detector(){let W=this.FeedContainer;if(W){let q=Array.from(W.children);if(q.length&&1!==q.length||(q=document.querySelectorAll(this.fbConfig.FEED_PAGE.POSTS_QUERY)),!q)return;for(let W=0;W<q.length;W++){let k=q[W],u=p.GetElementSize(k);if(!k.hasAttribute(b.ATTRIBUTE_BIS_ID)&&O.IsInitiallyRendered(k,u)&&this.CheckIfAdRendered(k,O.GetMinImgsSpacePercentag(this.fbConfig,b.FACEBOOK_AD_PLACEMENT_TYPE_FEED))&&this.CheckIfAd(k)){let O="";this.AdBlockerAgent.IsEnabledForFacebook()&&(O=this.HideAd(q[W],u,b.FACEBOOK_AD_PLACEMENT_TYPE_FEED)),this.addCoverImageSrcAttribute(k);let s=p.GenerateAndSetBisIdToFBAds(k),y=this.options.extractAdStaticPartTimeoutMs+p.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.AddHiddenTextTags(k),setTimeout(this.ReadyToExtractAd.bind(this,s,O),y)}}}}ReadyToExtractAd(W,q){try{if(W){let k=document.querySelector(`[${b.ATTRIBUTE_BIS_ID}=${W}]`);if(!k)return;let u=k.querySelector(`[${b.ATTRIBUTE_BIS_LABEL}="fb_feed_ad"]`);u?this.ExtractAd(W,q,b.FACEBOOK_AD_PLACEMENT_TYPE_FEED):null!==u&&(u.removeAttribute(b.ATTRIBUTE_BIS_ID),k.removeAttribute(b.ATTRIBUTE_BIS_ID))}}catch(W){}}CheckIfAd(W){const q=this.fbConfig.POSSIBLE_SPONSORED_TEXT_QUERIES;let k=!1;for(let u=0;u<q.length&&!k;u++){const O=q[u];let p=W.querySelectorAll(O);if(k=this.GetTextCustom(p),k||(k=this.GetTextFromXlink(p)),k||(k=this.GetTextIfUseCanvas(p)),k){W.firstElementChild.setAttribute(b.ATTRIBUTE_BIS_LABEL,"fb_feed_ad");break}}return!!k}GetTextCustom(W){for(let q=0;q<W.length;q++){const k=W[q];let u=k.innerText,p=k.getAttribute(this.options.attributeWithSponsorAlly),s=p?[u,p]:u;if("string"==typeof u&&u.length&&this.isTagSponsored(s))return!0;if(u&&u.length>=2&&!k.hasAttribute(b.ATTRIBUTE_BIS_LABEL)){let W=O.GetVisibleSpansText(k,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(W!==u&&W!==p&&"string"==typeof W&&W.length&&this.isTagSponsored(W))return!0}}return!1}GetTextFromXlink(W){let q="";for(let k of W){if(!k.hasAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG))continue;const W=k.parentElement;let u="";if(W?.hasAttribute("bis_processed")&&W?.hasAttribute(b.ATTRIBUTE_BIS_LABEL))continue;const O=Array.from(W.children);if(O&&O.forEach((W=>{let q=W.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);const k=document.querySelector(q);k&&("text"===k.nodeName.toLowerCase()?u+=k.textContent:"svg"===k.nodeName.toLowerCase()&&(u=this.GetTextFromXlink([k.firstElementChild])))})),W.setAttribute("bis_processed",""),this.isTagSponsored(u))return q=u,W.removeAttribute("bis_processed"),q;q=""}return q}GetTextIfUseCanvas(W){let q="";for(let k of W){if("canvas"!==k.nodeName.toLowerCase()||k.hasAttribute(b.ATTRIBUTE_BIS_LABEL))continue;let W=this.CheckAndGetFieldName(k);if("string"==typeof W&&this.isTagSponsored(W)){q=W;break}}return q}CheckAndGetFieldName(W){if(W.hasAttribute("bis-text"))return W.getAttribute("bis-text");let q=s.EmptyMessage;q.type=b.MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE,q.content={attribute:"bis-text"},window.postMessage({attribute:"bis-text"},window.location.origin)}AddHiddenTextTags(W){const q=W.querySelectorAll("svg>use");if(q)for(let W=0;W<q.length;W++){const k=q[W],u=k.parentElement;let O=k.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);let p=document.querySelector(O).cloneNode(!0);p.style.display="none",p.id=p.id+"_bis",u&&u.appendChild(p)}}isTagSponsored(W){let q=!1;if(!W)return q;if("string"==typeof W)q=this.fbConfig.SPONSORED_TEXTS.some((q=>q===W));else for(let k of W)if(q=this.fbConfig.SPONSORED_TEXTS.some((W=>W===k)),q)break;return q}GetAboutPageLink(W){let q="",k=this.fbConfig.ABOUT_SECTION_CONFIG,u=W.querySelectorAll(k.QUERY_ABOUT_PAGE_HREF);if(!u?.length)return q;let O="";for(let q=0;q<u.length;q++){let p=u[q];if(!p.href)continue;if(!k.ABOUT_PAGE_BAD_WORDS_MATCHES.every((W=>-1===p.href.indexOf(W))))continue;let b=W.getBoundingClientRect().top,s=p.getBoundingClientRect();s.top>b&&s.top-b<=k.MAX_DISTANCE_FROM_POST_TOP&&(O=p.href)}if(!O.length)return q;let p=O.substring(k.HREF_PREFIX.length,O.length),b=p.substring(0,p.search(/(\/|\?)/));if("profile.php"===b&&p.includes("id=")){const W=new RegExp(k.QUERY_GET_USER_ID_FROM_HREF);b=p.match(W),b&&b.length&&b[1]&&(b=b[1])}return q=k.ABOUT_PAGE_TEMPLATE.replace("%1",b),q}get isValidUrl(){return!this.fbConfig.FEED_PAGE.INVALID_URL_PATHS.some((W=>window.location.href.includes(W)))}addCoverImageSrcAttribute(W){let q=W.querySelector(this.fbConfig.FEED_PAGE.COVER_IMAGE_QUERY);if(q&&q.hasAttribute("src")){let k=q.getAttribute("src");W.setAttribute("data-cover-image-src",k)}}}},2300:(W,q,k)=>{const u=k(655),O=k(2880),p=k(7678),b=k(1568);W.exports=class extends u{constructor(W,q,k,u){super(W,q,k),this.fbConfig=u,this.fbMarketplace=null,this.fbMarketplaceObserver=null}ActualizeDetector(){return this.fbMarketplace=this.MainContainer,!!this.fbMarketplace}get MainContainer(){return document.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.CONTAINER)}ActivateMutationObserver(){this.fbMarketplace?(this.fbMarketplaceObserver||(this.fbMarketplaceObserver=new MutationObserver(this.DetectCandidates.bind(this,b.AD_DETECTOR_INITIATOR_MUTATION)),this.fbMarketplaceObserver.observe(this.fbMarketplace,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbMarketplaceObserver&&(this.fbMarketplaceObserver.disconnect(),this.fbMarketplaceObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.fbMarketplaceObserver&&(this.fbMarketplaceObserver.disconnect(),this.fbMarketplaceObserver=null,this.isObserverAlreadySet=!1)}Detector(){let W=this.MainContainer.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.CARDS);if(W?.length)for(let q=0;q<W.length;q++){const k=W[q];let u=O.GetElementSize(k);if(this.addCoverImageSrcAttribute(k),!k.hasAttribute(b.ATTRIBUTE_BIS_ID)&&p.IsInitiallyRendered(k,u)&&(this.addCoverImageSrcAttribute(k),this.CheckIfAd(k))){let W;if(this.AdBlockerAgent.IsEnabledForFacebook()&&(p.HideSateliteSponsoredString(this.fbConfig,document.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.SATELITE_SPONSORED_STRING)),W=this.HideAd(k,u,b.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE)),this.CheckIfAdRendered(k,p.GetMinImgsSpacePercentag(this.fbConfig,b.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE))){let q=O.GenerateAndSetBisIdToFBAds(k),u=this.options.extractAdStaticPartTimeoutMs+O.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.addCoverImageSrcAttribute(k),setTimeout(this.ExtractAd.bind(this,q,W,b.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE),u)}}}}addCoverImageSrcAttribute(W){let q=W.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.COVER_IMAGE_QUERY);if(q&&q.hasAttribute("src")&&!W.hasAttribute("data-cover-image-src")){let k=q.getAttribute("src");W.setAttribute("data-cover-image-src",k)}}CheckIfAd(W){let q=!1;if(!W||!this.MainContainer)return q;const k=W.getBoundingClientRect();let u=Array.from(this.MainContainer.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.SPONSOR_BLOCKS));if(!u?.length)return q;for(let O of u){const u=O.getBoundingClientRect();if(u.x-k.x<=5&&u.x-k.x>=-5){let k=p.GetVisibleSpansText(O,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(this.fbConfig.SPONSORED_TEXTS.some((W=>-1!==k.indexOf(W)))){W.setAttribute(b.ATTRIBUTE_BIS_LABEL,"fb_marketplace_ad"),q=!0;break}}else if(this.fbConfig.MARKETPLACE_ADS_CONFIG.PREV_SIBLING_SPONSOR_BLOCK_QUERY_PATH){let k=W;for(let W of this.fbConfig.MARKETPLACE_ADS_CONFIG.PREV_SIBLING_SPONSOR_BLOCK_QUERY_PATH)if(k[W])k=k[W];else if(W.includes(",")){const q=W.split(",");k=k[q[0]](q[1])}if(k){let u=p.GetVisibleSpansText(k,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(this.fbConfig.SPONSORED_TEXTS.some((W=>-1!==u.indexOf(W)))){W.setAttribute(b.ATTRIBUTE_BIS_LABEL,"fb_marketplace_ad"),q=!0;break}}}}return q||(q=this.checkAHref(W)),q}checkAHref(W){return!!W.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.SPONSORED_HREF_CHECK)}GetAboutPageLink(W){let q="",k=this.fbConfig.ABOUT_SECTION_CONFIG,u=W.querySelector(`*[${b.ATTRIBUTE_BIS_LABEL}='fb_marketplace_ad']`),O=W.querySelectorAll(`a[href^='${k.HREF_PREFIX}'`);if(u&&O&&O.length){let p="",b=u.getBoundingClientRect().top,s=b-W.getBoundingClientRect().top;for(let W=0;W<O.length;W++){let q=O[W].getBoundingClientRect();O[W].href&&q.top<b&&b-q.top<s&&(s=b-q.top,p=O[W].href)}if(p.length){let W=p.substring(k.HREF_PREFIX.length,p.length),u=W.substring(0,W.search(/(\/|\?)/));if("profile.php"===u&&W.includes("id=")){const q=new RegExp(k.QUERY_GET_USER_ID_FROM_HREF);u=W.match(q),u&&u.length&&u[1]&&(u=u[1])}q=k.ABOUT_PAGE_TEMPLATE.replace("%1",u)}}return q}}},1899:(W,q,k)=>{const u=k(655),O=k(2880),p=k(7678),b=k(1568),s=k(8384);k(1568);W.exports=class extends u{constructor(W,q,k,u){super(W,q,k),this.fbConfig=u,this.fbRightColumn=null,this.fbRightColumnObserver=null,this.options=q}ActualizeDetector(){return this.fbRightColumn=this.getRightColumnContainer(),!!this.fbRightColumn}ActivateMutationObserver(){this.fbRightColumn?(this.fbRightColumnObserver||(this.fbRightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,b.AD_DETECTOR_INITIATOR_MUTATION)),this.fbRightColumnObserver.observe(this.fbRightColumn,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbRightColumnObserver&&(this.fbRightColumnObserver.disconnect(),this.fbRightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.fbRightColumnObserver&&(this.fbRightColumnObserver.disconnect(),this.fbRightColumnObserver=null,this.isObserverAlreadySet=!1)}Detector(){let W=this.fbRightColumn.querySelectorAll(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.CARDS);if(W?.length)for(let q=0;q<W.length;q++){let k=W[q],u=null,y=Array.from(this.fbRightColumn.querySelectorAll(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.SATELITE_SPONSORED_STRING)),E=O.GetElementSize(k);if(p.IsInitiallyRendered(k,E))if(k.hasAttribute(b.ATTRIBUTE_BIS_ID))this.CheckIfAdRotated(k)&&k.removeAttribute&&(k.removeAttribute(b.ATTRIBUTE_BIS_ID),k.removeAttribute(b.ATTRIBUTE_BIS_SIZE),k.removeAttribute(b.ATTRIBUTE_BIS_STATUS),s.GW&&s.vW&&"border: 6px solid green !important;"===k.style.cssText&&(k.style.cssText=""));else if(this.CheckIfAd(k,y)&&(this.AdBlockerAgent.IsEnabledForFacebook()&&(p.HideSateliteSponsoredString(this.fbConfig,y),u=this.HideAd(k,E,b.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN)),this.CheckIfAdRendered(k,p.GetMinImgsSpacePercentag(this.fbConfig,b.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN)))){let W=O.GenerateAndSetBisIdToFBAds(k),q=this.options.extractAdStaticPartTimeoutMs+O.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);setTimeout(this.ExtractAd.bind(this,W,u,b.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN),q)}}}CheckIfAd(W,q){const k=this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.IMPOSSIBLE_HREF_REG_FOR_AD,u=this.fbConfig.SPONSORED_TEXTS;if(q?.length)for(let W of q){let q=W.innerText;if(u.some((W=>W===q)))return!0}const O=Array.from(W.querySelectorAll(`${this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.IF_AD}, [${this.options.attributeWithSponsorAlly}]`));return!!O.length&&O.some((W=>{const q=W.href;if(-1===q?.indexOf(k))return!0;const O=W.getAttribute(this.options.attributeWithSponsorAlly);return!!O&&u.some((W=>O===W))}))}CheckIfAdRotated(W){let q=!1;if(W&&"extracted"===W.getAttribute(b.ATTRIBUTE_BIS_STATUS)){let k=0,u=0,O=0,p=W.querySelectorAll("*");p&&p.length&&(p.forEach((W=>{W.getAttribute(b.ATTRIBUTE_BIS_SIZE)?k+=1:u+=1})),0===k&&u>0?q=!0:k>0&&u>0&&(O=u/p.length*100|0,O>50&&(q=!0)))}return q}getRightColumnContainer(){return document.querySelector(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.CONTAINER)}}},1454:(W,q,k)=>{const u=k(2880);W.exports=class{constructor(W){this.id=W}InjectDetector(){if(document.head){let W=document.createElement("script");this.setAttributes(W),document.head.appendChild(W)}}setAttributes(W){const q=u.getURL("../executors/facebook.js");W.setAttribute("bis_use","true"),W.type="text/javascript",W.setAttribute("charset","utf-8"),W.setAttribute("nonce",""),W.src=q}}},7948:(W,q,k)=>{const u=k(655),O=k(7678),p=k(2880),b=k(1568);W.exports=class extends u{constructor(W,q,k,u){super(W,q,k),this.fbConfig=u,this.fbWatch=null,this.fbWatchObserver=null}ActualizeDetector(){return this.fbWatch=this.FeedWatchContainer,!!this.fbWatch}ActivateMutationObserver(){this.fbWatch?(this.fbWatchObserver||(this.fbWatchObserver=new MutationObserver(this.DetectCandidates.bind(this,b.AD_DETECTOR_INITIATOR_MUTATION)),this.fbWatchObserver.observe(this.fbWatch,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbWatchObserver&&(this.fbWatchObserver.disconnect(),this.fbWatchObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}get FeedWatchContainer(){const W=this.fbConfig.FEED_WATCH_PAGE.FEED_WATCH_QUERIES,q=W.length;let k=!1,u=null;for(let O=0;O<q&&!k;O++){let q=W[O],p=Array.from(document.querySelectorAll(q));if(!p.length)continue;let b=p.filter((W=>W.children&&W.children.length>2));b.length&&1===b.length&&(u=b[0],k=!0)}return u}DeactivateMutationObserver(){this.fbWatchObserver&&(this.fbWatchObserver.disconnect(),this.fbWatchObserver=null,this.isObserverAlreadySet=!1)}Detector(){let W=this.fbWatch;if(W){let q=Array.from(W.children);for(let W=0;W<q.length;W++){const k=q[W];let u=p.GetElementSize(k);if(!k.hasAttribute(b.ATTRIBUTE_BIS_ID)&&O.IsInitiallyRendered(k,u)&&this.CheckIfAd(k)){let W="";if(this.AdBlockerAgent.IsEnabledForFacebook()&&(W=this.HideAd(k,u,b.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH)),this.CheckIfAdRendered(k,O.GetMinImgsSpacePercentag(this.fbConfig,b.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH))){this.addCoverImageSrcAttribute(k);let q=p.GenerateAndSetBisIdToFBAds(k),u=this.options.extractAdStaticPartTimeoutMs+p.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.AddHiddenTextTags(k),setTimeout(this.ReadyToExtractAd.bind(this,q,W),u)}}}}}ReadyToExtractAd(W,q){try{if(W){let k=document.querySelector(`[${b.ATTRIBUTE_BIS_ID}=${W}]`),u=k.querySelector(`[${b.ATTRIBUTE_BIS_LABEL}="fb_watch_ad"]`);k&&u?this.ExtractAd(W,q,b.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH):(u.removeAttribute(b.ATTRIBUTE_BIS_ID),k.removeAttribute(b.ATTRIBUTE_BIS_ID))}}catch(W){}}CheckIfAd(W){const q=this.fbConfig.POSSIBLE_SPONSORED_TEXT_QUERIES;let k=!1;for(let u=0;u<q.length&&!k;u++){const O=q[u];let p=W.querySelectorAll(O);if(k=this.GetTextCustom(p),k||(k=this.GetTextFromXlink(p)),k||(k=this.GetTextIfUseCanvas(p)),k){W.firstElementChild.setAttribute(b.ATTRIBUTE_BIS_LABEL,"fb_watch_ad");break}}return!!k}GetTextCustom(W){for(let q=0;q<W.length;q++){const k=W[q];let u=k.innerText,p=k.getAttribute(this.options.attributeWithSponsorAlly),s=p?[u,p]:u;if("string"==typeof u&&u.length&&this.isTagSponsored(s))return!0;if(u&&u.length>=2&&!k.hasAttribute(b.ATTRIBUTE_BIS_LABEL)){let W=O.GetVisibleSpansText(k,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(W!==u&&W!==p&&"string"==typeof W&&W.length&&this.isTagSponsored(W))return!0}}return!1}GetTextFromXlink(W){let q="";for(let k of W){if(!k.hasAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG))continue;const W=k.parentElement;let u="";if(W?.hasAttribute("bis_processed")&&W?.hasAttribute(b.ATTRIBUTE_BIS_LABEL))continue;const O=Array.from(W.children);if(O&&O.forEach((W=>{let q=W.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);const k=document.querySelector(q);k&&("text"===k.nodeName.toLowerCase()?u+=k.textContent:"svg"===k.nodeName.toLowerCase()&&(u=this.GetTextFromXlink([k.firstElementChild])))})),W.setAttribute("bis_processed",""),this.isTagSponsored(u))return q=u,W.removeAttribute("bis_processed"),q;q=""}return q}GetTextIfUseCanvas(W){let q="";for(let k of W){if("canvas"!==k.nodeName.toLowerCase()||k.hasAttribute(b.ATTRIBUTE_BIS_LABEL))continue;let W=this.CheckAndGetFieldName(k);if("string"==typeof W&&this.isTagSponsored(W)){q=W;break}}return q}AddHiddenTextTags(W){const q=W.querySelectorAll("svg>use");if(q)for(let W=0;W<q.length;W++){const k=q[W],u=k.parentElement;let O=k.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);let p=document.querySelector(O).cloneNode(!0);p.style.display="none",u&&u.appendChild(p)}}isTagSponsored(W){let q=!1;if(!W)return q;if("string"==typeof W)q=this.fbConfig.SPONSORED_TEXTS.some((q=>q===W));else for(let k of W)if(q=this.fbConfig.SPONSORED_TEXTS.some((W=>W===k)),q)break;return q}GetAboutPageLink(W){let q="",k=this.fbConfig.ABOUT_SECTION_CONFIG,u=W.querySelectorAll(k.HREF_PREFIX_WATCH);if(!u?.length)return q;let O="";for(let q=0;q<u.length;q++){let p=u[q];if(!p.href)continue;if(!k.ABOUT_PAGE_BAD_WORDS_MATCHES.every((W=>-1===p.href.indexOf(W))))continue;let b=W.getBoundingClientRect().top,s=p.getBoundingClientRect();s.top>b&&s.top-b<=k.MAX_DISTANCE_FROM_POST_TOP&&(O=p.href)}if(!O.length)return q;let p=O.substring(k.HREF_TEMPLATE_WATCH.length,O.length),b=p.substring(0,p.search(/(\/|\?)/));if("profile.php"===b&&p.includes("id=")){const W=new RegExp(k.QUERY_GET_USER_ID_FROM_HREF);b=p.match(W),b&&b.length&&b[1]&&(b=b[1])}return q=k.ABOUT_PAGE_TEMPLATE.replace("%1",b),q}addCoverImageSrcAttribute(W){let q=W.querySelector(this.fbConfig.FEED_WATCH_PAGE.COVER_IMAGE_QUERY);if(q&&q.hasAttribute("src")){let k=q.getAttribute("src");W.setAttribute("data-cover-image-src",k)}}}},3162:(W,q,k)=>{const u=k(2880),O=k(9358);class p{static GetHyperlinkEmbeddedTargetUrlDataList(W,q,k){let O,p,b,s=u.QuerySelectorAll(q,"A[href]"),y=[];for(var E=0;E<s.length;E++)if(O=s[E],!u.IsInFilterList(k,O.href)){p=u.GetElementSize(O),b=p.w*p.h;let W=O.querySelectorAll("img, canvas");if(W.length){let q,k;for(var R=0;R<W.length;R++)q=u.GetElementSize(W[R]),k=q.w*q.h,k>b&&(b=k,p.w=q.w,p.h=q.h)}b>=100&&u.isValidUrl(O.href)&&y.push({href:O.href,square:b})}return y&&y.length,y}static GetDocumentEmbeddedTargetUrlDataList(W,q,k){let u=[this.strategyStrictFinalUrl,this.strategyScriptClickTag,this.strategyAppnexus,this.strategyNoscriptAnchors,this.strategyScriptAndMetaContentJsonKeyWords,this.strategyLookingForPropertyInsideWindow],O=this.processStrategyList(q,u,k);return O&&O.length,O}static processStrategyList(W,q,k){let u=[];for(let O of q)try{let q=O(W,k);q&&q.href&&u.push(q)}catch(W){}return u}static strategyStrictFinalUrl(W,q){for(var k=u.QuerySelectorAll(W,'script[type="application/json"]'),O=0;O<k.length;O++){var p=k[O].outerText;if(p.length>1&&"{"===p[0]&&"}"===p[p.length-1]&&-1!=p.indexOf("targets")&&-1!=p.indexOf("redirectUrl")&&-1!=p.indexOf("finalUrl")){var b=JSON.parse(p);if(void 0!==b.targets&&void 0!==b.targets.redirectUrl&&void 0!==b.targets.redirectUrl.finalUrl){let W=b.targets.redirectUrl.finalUrl;if(u.isValidUrl(W))return{href:W,square:1e6}}}}}static strategyScriptClickTag(W,q){let k=u.QuerySelectorAll(W,"script");for(let W=0;W<k.length;W++){let q=k[W].outerText;if(q.length>1&&-1!==q.indexOf("clickTag")&&(q=q.replace(/\s/g,""),q.startsWith('varclickTag="')&&q.endsWith('";'))){let W=q.indexOf('"'),k=q.lastIndexOf('"'),O=q.substring(W+1,k);if(u.isValidUrl(O))return{href:O,square:1e6}}}}static strategyAppnexus(W,q){let k=u.QuerySelectorAll(W,".GoogleActiveViewElement script"),O=Array.from(k).map((W=>W.innerHTML)).filter((W=>W.indexOf("APPNEXUS.placement")>=0));for(let W=0;W<O.length;W++){let q=p(O[W]);if(u.isValidUrl(q))return{href:q,square:1e6}}function p(W){let q=(W=W.replace(/(\r\n|\n|\r|\s)/gm,"")).match(/APPNEXUS.placement\(".+","(.+)",.+/);return q&&q.length>1?q[1]:null}}static strategyNoscriptAnchors(W,q){let k=u.QuerySelectorAll(W,"noscript");for(let q=0;q<k.length;q++){let O=W.createElement("div");O.innerHTML=k[q].innerText;let p=O.querySelector("a[href]");if(p){let W=p.getAttribute("href");if(u.isValidUrl(W))return{href:W,square:1}}}}static strategyScriptAndMetaContentJsonKeyWords(W,q,k=null){if(k){let W=p(k,q);return u.isValidUrl(W)?{href:W,square:999999}:void 0}let O=u.QuerySelectorAll(W,"script, meta[content]");for(let W of O){let k="script"===W.nodeName.toLowerCase()?W.outerText:W.getAttribute("content");if(k.length>1&&"{"===k[0]&&"}"===k[k.length-1]){let W=p(JSON.parse(k),q);if(u.isValidUrl(W))return{href:W,square:999999}}}function p(W,q,k=[]){let O=q.WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL;if(k.length>O)return null;let s=Object.getOwnPropertyNames(W);for(let O of s)try{let s=W[O];if(!s)return null;let y=k.concat(O);if("string"==typeof s&&s.length>1&&"{"===s[0]&&"}"===s[s.length-1]){let W=p(JSON.parse(s),q,y);if(W)return W}if("object"==typeof s){let W=p(s,q,y);if(W)return W}else if("string"==typeof s&&b(O,q)&&u.isValidUrl(s))return s}catch(W){}return null}function b(W,q){let k=function(W){let q=W.toLowerCase();return q.replace(/[^a-zA-Z]+/g,"")}(W),u=q.WINDOW_TARGET_URL_PROPERTY_KEY_WORDS;for(let W of u){if(k===W)return!0}return!1}}static strategyLookingForPropertyInsideWindow(W,q){const k=W.defaultView,u=q.WINDOW_PROPERTY_NAMES;for(let O of u){let u=k[O];if(u){if("string"==typeof u)return!u.search(/^http/)>-1&&(u=b(u)),{href:u,square:1e6};if("object"==typeof u)return p.strategyScriptAndMetaContentJsonKeyWords(W,q,u)}}function b(k){try{const u=O.decode(k);if(u){if("string"==typeof u&&"{"===u[0]){let k=JSON.parse(u);return p.strategyScriptAndMetaContentJsonKeyWords(W,q,k).href}return""}}catch(W){}}}}W.exports=p},9877:(W,q,k)=>{const u=k(2880),O=k(7817),p=k(3162);class b{constructor(W,q,k,O,p){this.id=k,this.fullIdStr=u.GetFullIdStr(W,q,k),this.init=!1,this.targetUrlDataList=[],this.targetUrlDetected=!1,this.IframesIO=null,this.activationTargetUrlCandidates=O,this.html5TargetUrlDetectionConfig=p.GetHtml5TargetUrlDetectionConfig(),this.blacklistedTargetUrls=p.BlacklistTargetUrl,this.detectionTimerId=null,this.onDetectTargetUrlCallBack=null}get FrameTargetUrl(){return this.targetUrlDataList}Init(W){return W&&(this.IframesIO=W,this.init=!0),this.init}DetectTargetUrl(W,q){if(this.init&&!this.targetUrlDetected&&this.html5TargetUrlDetectionConfig)if(this.onDetectTargetUrlCallBack=q,this.detectionTimerId=setTimeout(this.onTargetUrlDetectionTimout.bind(this),W),this.activationTargetUrlCandidates&&this.activationTargetUrlCandidates.length)this.targetUrlDataList=this.activationTargetUrlCandidates,this.TargetUrlDetected();else{let W=p.GetHyperlinkEmbeddedTargetUrlDataList(this.id,document,this.blacklistedTargetUrls);this.targetUrlDataList=this.targetUrlDataList.concat(W);let q=p.GetDocumentEmbeddedTargetUrlDataList(this.id,document,this.html5TargetUrlDetectionConfig);q=b.filterTargetUrlDataList(q,this.blacklistedTargetUrls),this.targetUrlDataList=this.targetUrlDataList.concat(q),this.targetUrlDataList&&this.targetUrlDataList.length?this.TargetUrlDetected():this.IframesIO.ActivateWindowEmbeddedTargetUrlDetection(this.onGetWindowEmbeddedTargetUrlData.bind(this))}}static filterTargetUrlDataList(W,q){if(!W||0===W.length)return[];return W.filter((W=>{if(W.href&&0===W.href.search(/^http/)&&!u.IsInFilterList(q,W.href))return!0}))}onGetWindowEmbeddedTargetUrlData(W){let q=b.filterTargetUrlDataList(W,this.blacklistedTargetUrls);this.targetUrlDataList.push(q),this.concatTargetUrlsDataIfNeed(),!q||q.length,this.TargetUrlDetected()}concatTargetUrlsDataIfNeed(){this.targetUrlDataList[0].length&&(this.targetUrlDataList=this.targetUrlDataList.flat(1))}onTargetUrlDetectionTimout(){this.targetUrlDetected||this.TargetUrlDetected()}TargetUrlDetected(){this.targetUrlDetected=!0,this.detectionTimerId&&(clearTimeout(this.detectionTimerId),this.detectionTimerId=null),this.onDetectTargetUrlCallBack&&this.onDetectTargetUrlCallBack()}static DetectTargetUrlFromWindowObj(W,q,k){var u=[];let b=k.GetHtml5TargetUrlDetectionConfig(),s=k.BlacklistTargetUrl;try{let k=p.GetHyperlinkEmbeddedTargetUrlDataList(W,q.document,b);u=u.concat(k)}catch(W){}try{let k=p.GetDocumentEmbeddedTargetUrlDataList(W,q.document,b);k=this.filterTargetUrlDataList(k,s),u=u.concat(k)}catch(W){}try{let k=O.GetWindowEmbeddedTargetUrlDataList(W,q,b,this.defaultWindowProps);k=this.filterTargetUrlDataList(k,s),u=u.concat(k)}catch(W){}return u&&u.length,u}}W.exports=b},7817:W=>{W.exports=class{static GetWindowEmbeddedTargetUrlDataList(W,q,k){let u=[function(W){if(void 0!==W.clickTag&&p(W.clickTag))return{href:W.clickTag,square:1000001}},function(W){if(void 0!==W.adData){if(void 0!==W.adData.destination_url&&p(W.adData.destination_url))return{href:W.adData.destination_url,square:1000001};if(void 0!==W.adData.redirect_url&&p(W.adData.redirect_url))return{href:W.adData.redirect_url,square:1000001}}},function(W){if(void 0!==W.BF&&void 0!==W.BF.Parameters&&void 0!==W.BF.Parameters.targeturl&&p(W.BF.Parameters.targeturl))return{href:W.BF.Parameters.targeturl,square:1000001}},function(W){if(void 0!==W.ADAPT&&void 0!==W.ADAPT.symbols&&void 0!==W.ADAPT.symbols.stage&&void 0!==W.ADAPT.symbols.stage.clickUrl&&p(W.ADAPT.symbols.stage.clickUrl))return{href:W.ADAPT.symbols.stage.clickUrl,square:1000001}},function(W){if(void 0!==W.admixAPI&&void 0!==W.admixAPI.ownerBanner&&void 0!==W.admixAPI.ownerBanner.clickUrl&&p(W.admixAPI.ownerBanner.clickUrl))return{href:W.admixAPI.ownerBanner.clickUrl,square:1000001}},function(W,q){let k=function(W,q,k){let u=function(W,q){let k=Object.getOwnPropertyNames(W);return k.filter((W=>q.WINDOW_PROPERTY_NAMES.indexOf(W)<0))}(q,k);if(!u||0===u.length)return null;return b(q,u,k)}(0,W,q);if(p(k))return{href:k,square:999999}}],O=function(W,q,k){let u=[];for(let O of q)try{let q=O(W,k);q&&q.href&&u.push(q)}catch(W){}return u}(q,u,k);return O&&O.length,O;function p(W){return"string"==typeof W&&W.length>0&&(-1!==W.indexOf("http")||-1!==W.indexOf("//"))}function b(W,q,k,u=[]){let O=k.WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL;if(u.length>O)return null;for(let O of q)try{let q=W[O];if(!q)return null;let y=u.concat(O);if("object"==typeof q){let W=b(q,Object.getOwnPropertyNames(q),k,y);if(W)return W}else if("string"==typeof q&&s(O,k)&&p(q))return q}catch(W){}return null}function s(W,q){let k=function(W){let q=W.toLowerCase();return q.replace(/[^a-zA-Z]+/g,"")}(W),u=q.WINDOW_TARGET_URL_PROPERTY_KEY_WORDS;for(let W of u){if(k===W)return!0}return!1}}}},3375:(W,q,k)=>{const u=k(8384),O=k(1568),p=k(5364),b=k(5337),s=k(5972),y=k(9944),E=k(9346);W.exports=class extends E{constructor(W,q,k){super(W),this.id=W,this.available=!1,this.onPageRefreshed=this.onPageUrlChanged,this.instaConfig=q.GetInstagramConfig,this.AdBlockerAgent=k,this.DetectorFeed=null,this.DetectorStories=null,this.headersEntries=[],this.ActivateVideoTrafficDetector()}onPageUrlChanged(W,q){this.available&&setTimeout((()=>{this.DeactivateDetectors(O.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),0)}ActivateDetector(W){W===O.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.DetectorFeed=new b(this.id,this.instaConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.instaConfig),this.DetectorStories=new y(this.id,this.instaConfig.STORIES.DETECTOR_OPTIONS,this.AdBlockerAgent,this.instaConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.DetectorFeed.isVideo=this.isVideo.bind(this),this.DetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.DetectorFeed.getAdInstagramObject=this.getAdInstagramObject.bind(this),this.DetectorFeed.ExtractAd=this.processAndSendInstagramAd.bind(this),this.DetectorFeed.HideElement=this.HideElementForInstagramFeedOnly.bind(this),this.DetectorFeed.isCarousel=this.isCarousel.bind(this),this.DetectorFeed.removeCloneElement=this.removeCloneElement.bind(this),this.DetectorStories.HideElement=this.HideElement.bind(this),this.DetectorStories.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.DetectorStories.ExtractAd=this.processAndSendInstagramAd.bind(this),this.DetectorStories.getAdInstagramObject=this.getAdInstagramObject.bind(this),this.DetectorFeed.removeCloneElement=this.removeCloneElement.bind(this)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector=new s(this.id,this.AdBlockerAgent),this.VideoTrafficDetector.InjectDetector(this.id+"_w",JSON.stringify(this.instaConfig.TRAFFIC_LISTENER_CONFIG))}ActivateDetectors(){this.GetHeadersDataForLoader(),this.DetectorFeed.ActivateDetector(),this.DetectorStories.ActivateDetector()}DeactivateDetectors(W){this.DetectorFeed.DeactivateDetector(W),this.DetectorStories.DeactivateDetector(W)}processAndSendInstagramAd(W,q,k){let b=document.querySelector(`[${O.ATTRIBUTE_BIS_ID}=${W}]`);b&&(this.addFieldsToCandidateAboutHeaders(q),p.SendCandidatePlacementsCount(this.id,1,O.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM,null),p.SendAdCandidates(this.id,[q],O.MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM,null),u.GW&&u.vW&&(b.style.cssText+=k?O.STYLES_OUTLINE_VIDEO_AD:O.STYLES_OUTLINE_SUCCESS_DETECT))}GetHeadersDataForLoader(){let W=this.instaConfig.LOAD_USER_DATA.HEADERS_VALUES_QUERIES;for(let q of W){let W=new RegExp(q[1]),k=q[0],u=new RegExp(k,"i"),O=Array.from(document.querySelectorAll("script")).filter((W=>W.innerHTML.search(u)>-1));if(!O.length)return;let p=O[0].innerHTML.match(W)[1];this.headersEntries.push([k,p])}}addFieldsToCandidateAboutHeaders(W){this.headersEntries.length&&W.aboutPageUrl&&(W.headers=Object.fromEntries(this.headersEntries))}}},5337:(W,q,k)=>{const u=k(2880),O=k(1568),p=k(655);W.exports=class extends p{constructor(W,q,k,u){super(W,q,k),this.instaConfig=u,this.timeOptions=this.instaConfig.FEED.TIMEOUT_OPTIONS,this.id=W,this.adBlockerAgent=k,this.feedContainer=null,this.feedObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.processInstagramAdsInterval=null}HideElement(W){}setSizesAndIdForAllElements(W){}getAdInstagramObject(W,q,k,u,O,p){}isCarousel(W){}isVideo(W,q){}removeCloneElement(W){}ActualizeDetector(){return this.feedContainer=this.FeedContainer,!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,O.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.processFeedAds()}get FeedContainer(){const W=this.instaConfig.FEED.CONTAINER_QUERIES,q=this.instaConfig.FEED.CONTAINER_MIN_HEIGHT;for(let k of W){let W=document.querySelector(k);if(W){if(W.offsetHeight>=q)return W}}}checkAdBlockerAndHide(W){this.adBlockerAgent.IsEnabledForInstagram()&&!this.adBlockerAgent.IsElementHidden(W)&&(this.HideElement(W),this.adBlockerAgent.SetHiddenAmount(1))}processFeedAds(){let W=this.detectPromotedPosts();if(W&&W.length)for(let q of W){u.GetElementSize(q);if(!q.hasAttribute(O.ATTRIBUTE_BIS_ID)){this.setSizesAndIdForAllElements(q);let W=u.GenerateAndSetBisIdToInstagramAds(q),k=this.createHTML(q);const p=this.getAdvertiserName(q),b=this.getTargetUrl(q),s=this.getAboutPageUrl(q);this.AddHiddenTextTags(k);const y=this.isCarousel(q),E=this.isVideo(q,this.instaConfig.TAGS_FOR_VIDEO_CHECK),R=this.getAdInstagramObject(q,k,p,b,s,O.INSTAGRAM_AD_PLACEMENT_TYPE_FEED);E&&!y&&(R.videoData={}),y&&(R.carouselSlidesSources=[]),this.removeCloneElement(k),this.checkAdBlockerAndHide(q);let i=setTimeout((()=>{this.ExtractAd.call(this,W,R,E),clearTimeout(i)}),100)}}}AddHiddenTextTags(W){const q=W.querySelectorAll("svg>use");if(q)for(let W=0;W<q.length;W++){const k=q[W],u=k.parentElement;let O=k.getAttribute("xlink:href");let p=document.querySelector(O).cloneNode(!0);p.style.display="none",p.id=p.id+"_bis",u&&u.appendChild(p)}}RemoveHideStylesFromClone(W){let q=W.querySelector("div"),k=q?q.firstElementChild:null,u=k?k.firstElementChild:null;return u?(k.style.cssText=k.style.cssText.replace(O.STYLES_HIDE_INSTAGRAM_FEED_AD[1],""),u.style.cssText=u.style.cssText.replace(O.STYLES_HIDE_INSTAGRAM_FEED_AD[0],""),W):W}detectPromotedPosts(){if(!this.feedContainer)return[];const W=this.instaConfig.FEED.IMG_SPACE_PERCENTAGE,q=this.instaConfig.PROMOTED_ALIASES;let k=Array.from(this.feedContainer.children),u=[];for(let O of k)if(this.IsPostContentRendered(O,W)){const W=O.querySelectorAll(this.instaConfig.FEED.PROMOTED_QUERY);for(let k of W){if(!k)continue;let W=k.hasAttribute("xlink:href")?this.GetTextFromXlink(k):k.innerText;if(W.includes("#"))continue;if(q.some((q=>W.search(q)>=0))){u.push(O);break}}}return u}GetTextFromXlink(W){let q=W.getAttribute("xlink:href");if(q){return document.querySelector(q).textContent}return""}IsPostContentRendered(W,q){let k=!1;if(W){let O=u.GetFullElementSize(W);if(O.w>0){u.GetImagesSpacePercentage(this.instaConfig.TAGS_FOR_LOADING_CHECK,W,O).some((W=>W>=q))&&(k=!0)}}return k}createHTML(W){const q=document.createElement("html"),k=this.cloneBodyWithStyles,u=this.cloneHeadWithStyles,O=W.cloneNode(!0),p=this.feedContainer,b=p.cloneNode();return this.styleFixes(b),this.setWrapperStyles(p,b),b.appendChild(O),k.appendChild(b),q.appendChild(u),q.appendChild(k),q}setWrapperStyles(W,q){q.style.cssText=q.style.cssText+` max-width: ${this.maxWidthContainer(W)}`}maxWidthContainer(W){return W?W.offsetWidth+"px":"auto"}styleFixes(W){W.style.paddingBottom=0}get cloneBodyWithStyles(){const W=document.createElement("body"),q=document.querySelectorAll('body style, body link[rel="stylesheet"]');return q&&q.forEach((q=>{const k=q.cloneNode(!0);W.appendChild(k)})),W}get cloneHeadWithStyles(){const W=document.createElement("head"),q=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style');return q&&q.forEach((q=>{let k=q.cloneNode(!0);W.appendChild(k)})),W}getAboutPageUrl(W){const q=this.instaConfig.FEED.ABOUT_PAGE_URL_QUERY;let k=W.querySelector(q);return k&&k.href?k.href:""}getAdvertiserName(W){const q=this.instaConfig.FEED.ADVERTISER_NAME_QUERY;let k=W.querySelector(q),u="";if(k){if(u=k.innerText,u)return u;if(u=k.innerHTML,-1===u.search(/\<\//))return u}return""}getTargetUrl(W){const q=this.instaConfig.FEED.TARGET_URL_QUERY;let k=W.querySelector(q),u="";return k&&k.href&&(u=k.href),u}}},9944:(W,q,k)=>{const u=k(2880),O=k(1568),p=k(655);W.exports=class extends p{constructor(W,q,k,u){super(W,q,k),this.instaConfig=u,this.id=W,this.adBlockerAgent=k,this.storyContainer=null,this.storiesObserver=null,this.processInstagramAdsInterval=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}HideElement(W){}setSizesAndIdForAllElements(W){}getAdInstagramObject(W,q,k,u,O,p){}removeCloneElement(W){}ActualizeDetector(){return this.storyContainer=this.StoryContainer,!!this.storyContainer}ActivateMutationObserver(){this.storyContainer?(this.storiesObserver||(this.storiesObserver=new MutationObserver(this.DetectCandidates.bind(this,O.AD_DETECTOR_INITIATOR_MUTATION)),this.storiesObserver.observe(this.storyContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.storiesObserver&&(this.storiesObserver.disconnect(),this.storiesObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.storiesObserver&&(this.storiesObserver.disconnect(),this.storiesObserver=null,this.storyContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.processStoriesAds()}processStoriesAds(){let W=this.detectPromotedMarkedStory();if(W&&(u.GetElementSize(W),!W.hasAttribute(O.ATTRIBUTE_BIS_ID))){let q=u.GenerateAndSetBisIdToInstagramAds(W);this.setSizesAndIdForAllElements(W);const k=this.createHTML(W),p=this.getAdvertiserName(W),b=this.getTargetUrl(W),s=this.getAboutPageUrl(W);this.AddHiddenTextTags(k);const y=this.getAdInstagramObject(W,k,p,b,s,O.INSTAGRAM_AD_PLACEMENT_TYPE_STORY);this.adBlockerAgent.IsEnabledForInstagram(),this.removeCloneElement(k);let E=setTimeout((()=>{this.ExtractAd.call(this,q,y),clearTimeout(E)}),100)}}AddHiddenTextTags(W){const q=W.querySelectorAll("svg>use");if(q)for(let W=0;W<q.length;W++){const k=q[W],u=k.parentElement;let O=k.getAttribute("xlink:href");let p=document.querySelector(O).cloneNode(!0);p.style.display="none",p.id=p.id+"_bis",u&&u.appendChild(p)}}createHTML(W){const q=document.createElement("html"),k=this.cloneBodyWithStyles,u=this.cloneHeadWithStyles,O=W.cloneNode(!0),p=document.createElement("div");return this.styleFixes(O),this.setWrapperStyles(W,p),p.appendChild(O),k.appendChild(p),q.appendChild(u),q.appendChild(k),q}get cloneBodyWithStyles(){const W=document.createElement("body"),q=document.querySelectorAll('body style, body link[rel="stylesheet"]');return q&&q.forEach((q=>{const k=q.cloneNode(!0);W.appendChild(k)})),W}get cloneHeadWithStyles(){const W=document.createElement("head"),q=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style');return q&&q.forEach((q=>{let k=q.cloneNode(!0);W.appendChild(k)})),W}detectPromotedMarkedStory(){if(!this.storyContainer)return null;const W=this.instaConfig.STORIES.IMG_SPACE_PERCENTAGE,q=this.instaConfig.PROMOTED_ALIASES;let k=this.storyContainer;if(this.IsStoryContentRendered(k,W)){const W=k.querySelectorAll(this.instaConfig.STORIES.PROMOTED_QUERY);for(let u of W){if(!u)continue;let W=u.hasAttribute("xlink:href")?this.GetTextFromXlink(u):u.innerText;if(W.includes("#"))continue;if(q.some((q=>W.search(q)>=0)))return k}}return null}GetTextFromXlink(W){let q=W.getAttribute("xlink:href");if(q){return document.querySelector(q).textContent}return""}getAdvertiserName(W){const q=this.instaConfig.STORIES.ADVERTISER_NAME_QUERY;let k=W.querySelector(q);return k?k.innerText:""}getTargetUrl(W){const q=this.instaConfig.STORIES.TARGET_URL_QUERY;let k=W.querySelector(q),u="";return k&&k.href&&(u=k.href),u}getAboutPageUrl(W){const q=this.instaConfig.STORIES.ABOUT_PAGE_URL_QUERY;let k=W.querySelector(q);return k&&k.href?k.href:""}IsStoryContentRendered(W,q){let k=!1;if(W){let O=u.GetFullElementSize(W);if(O.w>0){u.GetImagesSpacePercentage(this.instaConfig.TAGS_FOR_LOADING_CHECK,W,O).some((W=>W>=q))&&(k=!0)}}return k}setWrapperStyles(W,q){q.style.cssText=q.style.cssText+` max-width: ${this.maxWidthContainer(W)}`}maxWidthContainer(W){return W?W.offsetWidth+"px":"auto"}styleFixes(W){W.style.transform=""}get StoryContainer(){return document.querySelector(this.instaConfig.STORIES.STORY_QUERY)}}},5972:(W,q,k)=>{const u=k(2880);W.exports=class{constructor(W,q){this.id=W,this.AdBlockerAgent=q}InjectDetector(W,q){if(document.head){var k=document.createElement("script");this.setAttributes(k),document.head.appendChild(k)}}setAttributes(W){const q=u.getURL("../executors/insta.js");W.setAttribute("bis_use","true"),W.type="text/javascript",W.setAttribute("charset","utf-8"),W.setAttribute("nonce",""),this.AdBlockerAgent.IsEnabledForInstagram()&&W.setAttribute("ad-opt-on",""),W.src=q}}},9181:(W,q,k)=>{const u=k(9346),O=k(9170),p=k(1568),b=k(8384),s=k(5364),y=k(2880),E=k(1291),R=k(8247);W.exports=class extends u{constructor(W,q,k){super(W),this.id=W,this.VideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=k,this.linkedinConfig=q.LinkedinConfig,this.LinkedinDetectorFeed=null,this.LinkedinDetectorRightColumn=null,this.ActivateTrafficDetector()}onPageUrlChanged(W,q){this.available&&setTimeout((()=>{this.DeactivateDetectors(p.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.LinkedinDetectorFeed.ActivateDetector(),this.LinkedinDetectorRightColumn.ActivateDetector()}DeactivateDetectors(W){this.LinkedinDetectorFeed.DeactivateDetector(W),this.LinkedinDetectorRightColumn.DeactivateDetector(W)}ActivateDetector(W){W===p.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.LinkedinDetectorFeed=new E(this.id,this.linkedinConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.linkedinConfig),this.LinkedinDetectorRightColumn=new R(this.id,this.linkedinConfig.RIGHT_COLUMN.DETECTOR_OPTIONS,this.AdBlockerAgent,this.linkedinConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.LinkedinDetectorFeed.isVideo=this.isVideo.bind(this),this.LinkedinDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.LinkedinDetectorFeed.getAdLinkedinObject=this.getAdLinkedinObject.bind(this),this.LinkedinDetectorFeed.ExtractAd=this.processAndSendLinkedinAd.bind(this),this.LinkedinDetectorFeed.HideElement=this.HideElement.bind(this),this.LinkedinDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.LinkedinDetectorFeed.isCarousel=this.isCarousel.bind(this),this.LinkedinDetectorFeed.IsAdContentRendered=this.IsAdContentRendered.bind(this),this.LinkedinDetectorRightColumn.HideElement=this.HideElement.bind(this),this.LinkedinDetectorRightColumn.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.LinkedinDetectorRightColumn.doesElementExists=this.doesElementExists.bind(this),this.LinkedinDetectorRightColumn.ExtractAd=this.processAndSendLinkedinAd.bind(this),this.LinkedinDetectorRightColumn.getAdLinkedinObject=this.getAdLinkedinObject.bind(this)}ActivateTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new O(this.id),this.VideoTrafficDetector.InjectDetector(this.id+"_l",JSON.stringify(this.linkedinConfig)))}IsAdContentRendered(W,q){let k=y.GetFullElementSize(W);return y.GetImagesSpacePercentage(this.linkedinConfig.TAGS_FOR_LOADING_CHECK,W,k).some((W=>W>=q))}processAndSendLinkedinAd(W,q,k=!1,u=document){let O=u.querySelector(`[${p.ATTRIBUTE_BIS_ID}=${W}]`);O&&(s.SendCandidatePlacementsCount(this.id,1,p.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_LINKEDIN,null),s.SendAdCandidates(this.id,[q],p.MESSAGE_TYPE_CANDIDATES_DATA_LINKEDIN,null),b.GW&&b.vW&&(O.style.cssText+=k?p.STYLES_OUTLINE_VIDEO_AD:p.STYLES_OUTLINE_SUCCESS_DETECT))}}},1291:(W,q,k)=>{const u=k(655),O=k(1568),p=k(2880);W.exports=class extends u{constructor(W,q,k,u){super(W,q,k),this.id=W,this.feedObserver=null,this.linkedinConfig=u,this.feedContainer=null,this.AdBlockerAgent=k,this.adPlacementType=O.LINKEDIN_AD_PLACEMENT_TYPE_FEED}HideElement(){}setSizesAndIdForAllElements(W){}getAdLinkedinObject(W,q,k,u,O,p){}doesElementExists(W){}isCarousel(W){}isVideo(W,q){}IsAdContentRendered(W,q){}ActualizeDetector(){return this.feedContainer=this.getFeedContainer,!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,O.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processFeedAds()}processFeedAds(){this.extractOccurrences()}get getFeedContainer(){const W=this.linkedinConfig.FEED.QUERY_CONTAINER;let q=document.querySelector(W);return!q||q.children.length<3?null:q}extractOccurrences(){let{allCells:W,minImgSquarePercentage:q}=this.allCellsAndMinImgSpace();if(W.length)for(let k of W){if(p.GetElementSize(k),k.hasAttribute(O.ATTRIBUTE_BIS_ID))continue;if(!this.IsAdContentRendered(k,q))continue;let W=p.GenerateAndSetBisIdToLinkedinAds(k);this.setSizesAndIdForAllElements(k);const u=this.createHTML(k),b=this.getTargetUrl(k),s=this.getSocialAdvertiserUrl(k),y=this.getAdvertiserName(k),E=this.isCarousel(k),R=this.isVideo(k,this.linkedinConfig.TAGS_FOR_VIDEO_CHECK),i=this.getUniqueDataId(k);this.removeBisAttribute(u);let h=this.getAdLinkedinObject(k,u,this.adPlacementType,b,s,y,i);if(this.AdBlockerAgent.IsEnabledForLinkedin()&&!this.AdBlockerAgent.IsElementHidden(k)&&(this.HideElement(k),this.AdBlockerAgent.SetHiddenAmount(1)),E&&(h.carouselSlidesData=this.getCarouselSlidesFromDOM(s,k)),k.querySelector("iframe")&&(h.doesHaveIframe=!0),R&&!E){const W=this.getVideoIdAndThumbnail(k);h.videoData=W||{}}setTimeout(this.ExtractAd.bind(this,W,h,R),100)}}allCellsAndMinImgSpace(){let W=[],q=0;return this.feedContainer&&(W=Array.from(this.feedContainer.children),q=this.linkedinConfig.FEED.IMG_SPACE_PERCENTAGE),W=W.filter((W=>this.linkedinConfig.FEED.COLLECT_AD_TYPE_EVENT?this.isPromoted(W):this.isPromoted(W)&&!W.querySelector(this.linkedinConfig.FEED.QUERY_CHECK_AD_TYPE_EVENT))),{allCells:W,minImgSquarePercentage:q}}isPromoted(W){const q=this.linkedinConfig.FEED.QUERIES_IS_PROMOTED,k=this.linkedinConfig.PROMOTED_ALIASES;let u=!1;for(let O of q){let q=Array.from(W.querySelectorAll(O));q.length&&(u=q.some((W=>{let q=W.textContent.trim().toLowerCase();if(q)return k.some((W=>q.indexOf(W)>=0))})))}return u}createHTML(W){const q=document.createElement("html"),k=this.cloneBodyWithStyles,u=this.cloneHeadWithStyles,O=W.cloneNode(!0),p=this.feedContainer,b=p.cloneNode();return this.styleFixes(b),this.setWrapperStyles(p,b,W),b.appendChild(O),k.appendChild(b),q.appendChild(u),q.appendChild(k),q}setWrapperStyles(W,q,k){q.style.cssText=q.style.cssText+` max-width: ${this.maxWidthContainer(W)}`,q.style.cssText=q.style.cssText+` max-height: ${this.maxHeightContainer(k)}`}maxWidthContainer(W){return W?W.offsetWidth+"px":"auto"}maxHeightContainer(W){return W?W.offsetHeight+"px":"auto"}styleFixes(W){W.style.overflow="hidden"}get cloneBodyWithStyles(){const W=document.createElement("body"),q=document.querySelectorAll('body style, body link[rel="stylesheet"]');return q&&q.forEach((q=>{const k=q.cloneNode(!0);W.appendChild(k)})),W}get cloneHeadWithStyles(){const W=document.createElement("head"),q=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style'),k=document.createElement("meta");return k.setAttribute("charset","UTF-8"),W.append(k),q&&q.forEach((q=>{let k=q.cloneNode(!0);W.appendChild(k)})),W}getTargetUrl(W){const q=this.linkedinConfig.FEED.QUERY_TARGET_URL;let k=W.querySelector(q);return k&&k.href?k.href:""}getSocialAdvertiserUrl(W){const q=this.linkedinConfig.FEED.QUERY_ADVERTISER_URL;let k=W.querySelector(q),u="";return k&&k.href?(u=k.href,u):u}getAdvertiserName(W){let q=W.querySelector(this.linkedinConfig.FEED.QUERY_ADVERTISER_NAME);return q?q.innerText.trim():""}getVideoIdAndThumbnail(W){const q=this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.QUERY_VIDEO_TAG_GET_VIDEO_ID,k=new RegExp(this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.REGEXP_VIDEO_ID),u=W.querySelector(q);if(!u)return null;const O=this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.ATTRIBUTE_NAME_WITH_VIDEO_ID;let p=u.getAttribute(O);if(!p)return null;let b=p.match(k);return{videoId:b?.groups?.videoId?b.groups.videoId:null,previewImageUrl:p}}getCarouselSlidesFromDOM(W,q){let k=this.searchFirstImage(q);if(!k)return[];let u=this.searchMatchedImgId(k);if(!u)return[];let O=this.getAllCodeElements();if(!O.length)return[];let p=this.filterCodeElements(O,u);if(!p.length)return[];let b=this.getSlidesDatas(p,W);return b.length?this.getSlidesImagesSources(b):[]}searchFirstImage(W){return W.querySelector(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.QUERY_FIRST_IMG)}searchMatchedImgId(W){let q=new RegExp(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.REGEXP_IMG_ID),k=W.src.match(q);return k.length&&1!==k.length?k[1]:null}getAllCodeElements(){return Array.from(document.querySelectorAll(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.QUERY_CODE_ELEMENTS))}filterCodeElements(W,q){return W.filter((W=>W.innerHTML.includes(q))).map((W=>"{"===W.innerHTML.trim()[0]?JSON.parse(W.innerHTML):{}))}getSlidesDatas(W,q){const k=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_SOCIAL_ADV_URL,u=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_DATA;let O=W.map((W=>{if(!W.included)return{};let O=W.included.filter((W=>{let u=W;for(let W of k)if(u[W]&&(u=u[W]),q===u)return!0}));if(!O.length)return!1;let p=O[0];for(let W of u)p[W]&&(p=p[W]);return p}));return O.length?O[0]:[]}getSlidesImagesSources(W){const q=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_ROOT_URL,k=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_PATH_URL,u=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_SLIDE_TEXT;let O=[];for(let p of W){let W=p,b=p,s=p;for(let k of q)W[k]&&(W=W[k]);if(!W||"string"!=typeof W)break;for(let W of k)b[W]&&(b=b[W]);if(!b||"string"!=typeof b)break;for(let W of u)s[W]&&(s=s[W]);if(!s||"string"!=typeof s)break;let y=W+b,E={source:this.transformToValidUrl(y),text:s};O.push(E)}return O}transformToValidUrl(W){return W.replace(/amp\;/g,"")}removeBisAttribute(W){let q=W.querySelectorAll(`*[${O.ATTRIBUTE_BIS_ID}]`);q.length&&q.forEach((W=>{W.removeAttribute(O.ATTRIBUTE_BIS_ID)}))}getUniqueDataId(W){return W.querySelector(this.linkedinConfig.FEED.QUERY_GET_UNIQUE_ID)?.getAttribute("data-id")}}},8247:(W,q,k)=>{const u=k(655),O=k(2880),p=k(1568);k(9358);W.exports=class extends u{constructor(W,q,k,u){super(W,q,k),this.rightColumnContainer=null,this.rightColumnObserver=null,this.linkedinConfig=u,this.adPlacementType=p.LINKEDIN_AD_PLACEMENT_TYPE_RIGHT_COLUMN,this.promotedHeaderHeaderHeight=0}HideElement(){}setSizesAndIdForAllElements(W){}getAdLinkedinObject(W,q,k,u,O,p){}doesElementExists(W){}ActualizeDetector(){return this.rightColumnContainer=this.getRightColumnContainer(),!!this.rightColumnContainer}ActivateMutationObserver(){this.getRightColumnContainer()?(this.rightColumnObserver||(this.rightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,p.AD_DETECTOR_INITIATOR_MUTATION)),this.rightColumnObserver.observe(this.rightColumnContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.rightColumnContainer=null,this.isObserverAlreadySet=!1)}getRightColumnContainer(){const W=document.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_CONTAINER);return W&&W.children.length?W:null}isPromoted(W){const q=W?.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_PROMOTED),k=this.linkedinConfig.PROMOTED_ALIASES;let u=!1;if(q){this.promotedHeaderHeaderHeight=q.parentElement.offsetHeight;let W=q.textContent.trim().toLowerCase();u=k.includes(W)}return u}Detector(){this.rightColumnContainer=this.doesElementExists(this.rightColumnContainer)?this.rightColumnContainer:this.getRightColumnContainer(),this.rightColumnContainer&&this.processRightColumnAds()}processRightColumnAds(){this.rightColumnContainer.querySelectorAll(this.linkedinConfig.RIGHT_COLUMN.QUERY_AD_CONTAINER).forEach((W=>{this.isIframe(W)&&this.processIFrame(W)}))}isIframe(W){return!!W?.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_IFRAME)}processIFrame(W){const q=W.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_IFRAME),k=q?.contentDocument;if(this.isPromoted(k)){const q=[];this.linkedinConfig.RIGHT_COLUMN.QUERIES_IFRAME_AD.forEach((W=>q.push(...k.querySelectorAll(W)))),this.AdBlockerAgent.IsEnabledForLinkedin()&&!this.AdBlockerAgent.IsElementHidden(W)&&(this.HideElement(W),this.AdBlockerAgent.SetHiddenAmount(q.length)),this.extractOccurrences(q,k)}}extractOccurrences(W,q){W.length&&W.forEach((W=>{if(O.GetElementSize(W),W.hasAttribute(p.ATTRIBUTE_BIS_ID))return;const k=O.GenerateAndSetBisIdToLinkedinAds(W);this.setSizesAndIdForAllElements(W);const u=this.cloneIframeWithAd(q,W),b=this.getTargetUrl(W);this.removeBisAttribute(u);const s=this.getAdLinkedinObject(W,u,this.adPlacementType,b,"","");setTimeout(this.ExtractAd.bind(this,k,s,!1,q),100)}))}cloneIframeWithAd(W,q){const k=document.createElement("html"),u=this.cloneHeadWithStyles(W),O=W.querySelector("body").cloneNode(!0),p=this.linkedinConfig.RIGHT_COLUMN.QUERIES_IFRAME_AD_WRAPPER.find((W=>!!O.querySelector(W))),b=O.querySelector(p),s=O.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IFRAME_STYLES_CONTAINER),y=O.querySelector("script");return y&&y.remove(),s.style.height="auto",s.style.width=`${q.offsetWidth}px`,b.parentNode.style.height="auto",b.replaceChildren(),b.appendChild(q.cloneNode(!0)),k.appendChild(u),k.appendChild(O),k}cloneHeadWithStyles(W){const q=W||document,k=document.createElement("head"),u=q.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style'),O=document.createElement("meta");return O.setAttribute("charset","UTF-8"),k.append(O),u&&u.forEach((W=>{let q=W.cloneNode(!0);k.appendChild(q)})),k}getTargetUrl(W){return(W.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_TARGET_URL)||W).href||""}removeBisAttribute(W){let q=W.querySelectorAll(`*[${p.ATTRIBUTE_BIS_ID}]`);q.length&&q.forEach((W=>{W.removeAttribute(p.ATTRIBUTE_BIS_ID)}))}}},9170:(W,q,k)=>{const u=k(2880);W.exports=class{constructor(W){this.id=W}InjectDetector(W,q){if(document.head){let W=document.createElement("script");this.setAttributes(W),document.head.appendChild(W)}}setAttributes(W){const q=u.getURL("../executors/linkedin.js");W.setAttribute("bis_use","true"),W.type="text/javascript",W.setAttribute("charset","utf-8"),W.setAttribute("nonce",""),W.src=q}}},2075:(W,q,k)=>{const u=k(2629),O=k(1050),p=k(2765),b=k(1568),s=k(5364),y=k(8384),E=k(8792),R=k(9346),i=k(2880);W.exports=class extends R{constructor(W,q,k){super(W),this.id=W,this.AdBlockerAgent=k,this.pinterestConfig=q.PinterestConfig,this.onPageRefreshed=this.onPageUrlChanged,this.available=!1,this.pinterestFeedDetector=null,this.pinterestPinDetector=null,this.pinterestSearchDetector=null,this.VideoTrafficDetector=null,this.ActivateVideoTrafficDetector()}onPageUrlChanged(W,q){this.available&&setTimeout((()=>{this.DeactivateDetectors(b.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),100)}PageRefreshed(W,q){this.pageUrl=W,this.ticketId=q,this.onPageUrlChanged&&this.onPageUrlChanged(W,q)}ActivateDetector(W){W===b.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.pinterestFeedDetector=new u(this.id,this.pinterestConfig.FEED_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.pinterestSearchDetector=new p(this.id,this.pinterestConfig.SEARCH_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.pinterestPinDetector=new O(this.id,this.pinterestConfig.PIN_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.pinterestFeedDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestFeedDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestFeedDetector.isCarousel=this.isCarousel.bind(this),this.pinterestFeedDetector.HideElement=this.HideElement.bind(this),this.pinterestFeedDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestFeedDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestFeedDetector.isVideo=this.isVideo.bind(this),this.pinterestFeedDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestFeedDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this),this.pinterestPinDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestPinDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestPinDetector.isCarousel=this.isCarousel.bind(this),this.pinterestPinDetector.HideElement=this.HideElement.bind(this),this.pinterestPinDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestPinDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestPinDetector.isVideo=this.isVideo.bind(this),this.pinterestPinDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestPinDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this),this.pinterestSearchDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestSearchDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestSearchDetector.isCarousel=this.isCarousel.bind(this),this.pinterestSearchDetector.HideElement=this.HideElement.bind(this),this.pinterestSearchDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestSearchDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestSearchDetector.isVideo=this.isVideo.bind(this),this.pinterestSearchDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestSearchDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this)}ActivateDetectors(){this.pinterestFeedDetector.ActivateDetector(),this.pinterestSearchDetector.ActivateDetector(),this.pinterestPinDetector.ActivateDetector()}DeactivateDetectors(W){this.pinterestFeedDetector.DeactivateDetector(W),this.pinterestSearchDetector.DeactivateDetector(W),this.pinterestPinDetector.DeactivateDetector(W)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new E(this.id),this.VideoTrafficDetector.InjectDetector(this.id+"_p",JSON.stringify(this.pinterestConfig)))}GetGlobalContainer(){return document.querySelector(this.pinterestConfig.MAIN_CONTAINER_QUERY)}getUniqueContentId(W){const q=W.querySelector(`div[${this.pinterestConfig.UNIQUE_ATTRIBUTE}]`);return q?q.getAttribute(this.pinterestConfig.UNIQUE_ATTRIBUTE):""}IsPostContentRendered(W,q,k){let u=!1;if(W){let O=i.GetFullElementSize(W);if(O.w>0&&O.h>0){i.GetImagesSpacePercentage(k,W,O).some((W=>W>=q))&&(u=!0)}}return u}sendPinterestAd(W,q){let k=document.querySelector(`[${b.ATTRIBUTE_BIS_ID}=${W}]`);k&&(s.SendCandidatePlacementsCount(this.id,1,b.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST,null),s.SendAdCandidates(this.id,[q],b.MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST,null),y.GW&&y.vW&&(q.videoData?k.style.cssText+=b.STYLES_OUTLINE_VIDEO_AD:k.style.cssText+=b.STYLES_OUTLINE_SUCCESS_DETECT))}}},2629:(W,q,k)=>{k(9346);const u=k(1568),O=k(2880),p=k(655);W.exports=class extends p{constructor(W,q,k,O){super(W,q,O),this.id=W,this.pinterestConfig=k,this.adBlockerAgent=O,this.adPlacementType=u.PINTEREST_AD_PLACEMENT_TYPE_FEED,this.feedContainer=null,this.lastFeedAdsCheckTime=0,this.feedObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(W,q){}setSizesAndIdForAllElements(W){}getAdPinterestObject(W,q,k,u,O,p,b){}isVideo(W,q){}removeCloneElement(W){}IsPostContentRendered(W,q,k){}ActualizeDetector(){return!!this.isFeedPageURL()&&(this.feedContainer=this.getFeedContainer(),!!this.feedContainer)}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,u.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!0)}Detector(){let W=this.detectPromotedPins();if(W&&W.length)for(let q of W){O.GetElementSize(q);if(!q.hasAttribute(u.ATTRIBUTE_BIS_ID)){let W=O.GenerateAndSetBisIdToPinterestAds(q);this.setSizesAndIdForAllElements(q);const k=this.createHTML(q),p=this.getAdvertiserName(q),b=this.getTargetUrl(q),s=this.getTitleText(q),y=this.getAdvertiserUrl(q),E=this.getAdPinterestObject(q,k,p,b,s,y,u.PINTEREST_AD_PLACEMENT_TYPE_FEED);this.isVideo(q,this.pinterestConfig.FEED_PAGE.TAGS_FOR_VIDEO_CHECK)&&(E.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.adBlockerAgent.IsElementHidden(q)&&(this.HideElement(q),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(k);let R=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,W,E),clearTimeout(R)}),100)}}}detectPromotedPins(){if(!this.feedContainer)return[];let W=[],q=this.pinterestConfig.FEED_PAGE.IMG_SPACE_PERCENTAGE,k=this.pinterestConfig.FEED_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,u=Array.from(this.feedContainer.childNodes),O=this.pinterestConfig.PROMOTED_ALIASES;for(let p of u)if(this.IsPostContentRendered(p,q,this.pinterestConfig.FEED_PAGE.TAGS_FOR_LOADING_CHECK)){const q=p.querySelector(this.pinterestConfig.FEED_PAGE.PROMOTED_PINS_QUERY);if(!q)continue;let u=q.innerText;if(!u||"style"===q.nodeName.toLowerCase()){let W=window.getComputedStyle(q,":before");u=q.textContent,W&&W.content&&!u&&(u=W.content);for(let W of k){if(!u){u="";break}let q=W[0],k=W[1],O="join"!==q?new RegExp(k,"g"):"";"join"!==q||1!==u.length?u="replace"===q?u[q](O,""):u[q](O):u=u[0]}}O.some((W=>u.search(W)>=0))&&W.push(p)}return W}getFeedContainer(){let W=this.getGlobalContainer(),q=null;return W?(q=W.querySelector(this.pinterestConfig.FEED_PAGE.CONTAINER_QUERY),q):q}get cloneBodyWithStyles(){const W=document.createElement("body"),q=document.querySelectorAll("body style");return q&&q.forEach((q=>{const k=q.cloneNode(!0);W.appendChild(k)})),W}get cloneHeadWithStyles(){const W=document.createElement("head"),q=document.querySelectorAll('head link[rel="stylesheet"], head script');return q&&q.forEach((q=>{let k=q.cloneNode();W.appendChild(k)})),W}createHTML(W){const q=document.createElement("html"),k=this.cloneBodyWithStyles,u=this.cloneHeadWithStyles,O=W.cloneNode(!0);return this.styleFixes(O),k.appendChild(O),q.appendChild(u),q.appendChild(k),q}getAdvertiserName(W){const q=this.pinterestConfig.FEED_PAGE.ADVERTISER_NAME_QUERY;let k=Array.from(W.querySelectorAll(q));for(let W of k)if(W&&W.innerText)return W.innerText;return""}getAdvertiserUrl(W){const q=this.pinterestConfig.FEED_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let k=W.querySelector(q);return k?k.href:""}styleFixes(W){W.style.cssText=W.style.cssText.replace(/transform.[^;]*;/,"");for(let q of this.pinterestConfig.FEED_PAGE.STYLE_FIXES){const k=W.querySelector(q.ELEMENT_QUERY);let O=q.NEW_RULES;if(k){if(q.NEW_RULES.includes("${")){let W=JSON.parse(k.getAttribute(u.ATTRIBUTE_BIS_SIZE)).h;O=q.NEW_RULES.replace(/\$\{.[^}]*\}/,W)}k.style.cssText+=O}}}getTargetUrl(W){const q=this.pinterestConfig.FEED_PAGE.TARGET_URL_QUERY;let k=W.querySelector(q),u="";return k&&k.href&&(u=k.href),u}getTitleText(W){const q=this.pinterestConfig.FEED_PAGE.TITLE_TEXT_QUERY;let k=W.querySelector(q),u="";return k&&k.textContent.length&&(u=k.textContent),u}isFeedPageURL(){return-1===document.location.href.search(/\.pinterest\..{1,6}\/(pin|search)\//)}}},1050:(W,q,k)=>{const u=k(1568),O=k(2880),p=k(655);W.exports=class extends p{constructor(W,q,k,O){super(W,q,O),this.id=W,this.pinterestConfig=k,this.adBlockerAgent=O,this.pinContainer=null,this.adPlacementType=u.PINTEREST_AD_PLACEMENT_TYPE_PIN,this.lastPinAdsCheckTime=0,this.pinObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(W,q){}setSizesAndIdForAllElements(W){}getAdPinterestObject(W,q,k,u,O,p,b){}isVideo(W,q){}removeCloneElement(W){}IsPostContentRendered(W,q,k){}ActualizeDetector(){return this.pinContainer=this.getPinContainer(),!!this.pinContainer}ActivateMutationObserver(){this.pinContainer?(this.pinObserver||(this.pinObserver=new MutationObserver(this.DetectCandidates.bind(this,u.AD_DETECTOR_INITIATOR_MUTATION)),this.pinObserver.observe(this.pinContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.pinObserver&&(this.pinObserver.disconnect(),this.pinObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.pinObserver&&(this.pinObserver.disconnect(),this.pinObserver=null,this.pinContainer=null,this.isObserverAlreadySet=!1)}Detector(){let W=this.detectPromotedPins();if(W&&W.length)for(let q of W){O.GetElementSize(q);if(!q.hasAttribute(u.ATTRIBUTE_BIS_ID)){let W=O.GenerateAndSetBisIdToPinterestAds(q);this.setSizesAndIdForAllElements(q);const k=this.createHTML(q),u=this.getAdvertiserName(q),p=this.getTargetUrl(q),b=this.getTitleText(q),s=this.getAdvertiserUrl(q),y=this.getAdPinterestObject(q,k,u,p,b,s,this.adPlacementType);this.isVideo(q,this.pinterestConfig.PIN_PAGE.TAGS_FOR_VIDEO_CHECK)&&(y.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.adBlockerAgent.IsElementHidden(q)&&(this.HideElement(q),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(k);let E=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,W,y),clearTimeout(E)}),100)}}}detectPromotedPins(){if(!this.pinContainer)return[];let W=[],q=this.pinterestConfig.PIN_PAGE.IMG_SPACE_PERCENTAGE,k=this.pinterestConfig.PIN_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,u=Array.from(this.pinContainer.childNodes),O=this.pinterestConfig.PROMOTED_ALIASES;for(let p of u)if(this.IsPostContentRendered(p,q,this.pinterestConfig.PIN_PAGE.TAGS_FOR_LOADING_CHECK)){const q=p.querySelector(this.pinterestConfig.PIN_PAGE.PROMOTED_PINS_QUERY);if(!q)continue;let u=q.innerText;if(!u||"style"===q.nodeName.toLowerCase()){let W=window.getComputedStyle(q,":before");u=q.textContent,W&&W.content&&!u&&(u=W.content);for(let W of k){if(!u){u="";break}let q=W[0],k=W[1],O="join"!==q?new RegExp(k,"g"):"";"join"!==q||1!==u.length?u="replace"===q?u[q](O,""):u[q](O):u=u[0]}}O.some((W=>u.search(W)>=0))&&W.push(p)}return W}getPinContainer(){let W=this.getGlobalContainer(),q=null;return W?(q=W.querySelector(this.pinterestConfig.PIN_PAGE.CONTAINER_QUERY),q):q}get cloneBodyWithStyles(){const W=document.createElement("body"),q=document.querySelectorAll("body style");return q&&q.forEach((q=>{const k=q.cloneNode(!0);W.appendChild(k)})),W}get cloneHeadWithStyles(){const W=document.createElement("head"),q=document.querySelectorAll('head link[rel="stylesheet"], head script');return q&&q.forEach((q=>{let k=q.cloneNode();W.appendChild(k)})),W}createHTML(W){const q=document.createElement("html"),k=this.cloneBodyWithStyles,u=this.cloneHeadWithStyles,O=W.cloneNode(!0);return this.styleFixes(O),k.appendChild(O),q.appendChild(u),q.appendChild(k),q}getAdvertiserName(W){const q=this.pinterestConfig.PIN_PAGE.ADVERTISER_NAME_QUERY;let k=Array.from(W.querySelectorAll(q));for(let W of k)if(W&&W.innerText)return W.innerText;return""}getAdvertiserUrl(W){const q=this.pinterestConfig.PIN_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let k=W.querySelector(q);return k?k.href:""}getTitleText(W){const q=this.pinterestConfig.PIN_PAGE.TITLE_TEXT_QUERY;let k=W.querySelector(q),u="";return k&&k.textContent.length&&(u=k.textContent),u}styleFixes(W){W.style.cssText=W.style.cssText.replace(/transform.[^;]*;/,"");for(let q of this.pinterestConfig.PIN_PAGE.STYLE_FIXES){const k=W.querySelector(q.ELEMENT_QUERY);let O=q.NEW_RULES;if(k){if(q.NEW_RULES.includes("${")){let W=JSON.parse(k.getAttribute(u.ATTRIBUTE_BIS_SIZE)).h;O=q.NEW_RULES.replace(/\$\{.[^}]*\}/,W)}k.style.cssText+=O}}}getTargetUrl(W){const q=this.pinterestConfig.PIN_PAGE.TARGET_URL_QUERY;let k=W.querySelector(q),u="";return k&&k.href&&(u=k.href),u}isPinPageURL(){return!(-1===document.location.href.search(/\.pinterest\..{1,6}\/(pin)\//))}}},2765:(W,q,k)=>{const u=k(1568),O=k(2880),p=k(655);W.exports=class extends p{constructor(W,q,k,u){super(W,q,u),this.id=W,this.pinterestConfig=k,this.adBlockerAgent=u,this.searchContainer=null,this.lastSearchPageAdsCheckTime=0,this.searchPageObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(W,q){}setSizesAndIdForAllElements(W){}getAdPinterestObject(W,q,k,u,O,p,b){}isVideo(W,q){}removeCloneElement(W){}IsPostContentRendered(W,q,k){}ActualizeDetector(){return this.searchContainer=this.getSearchContainer(),!!this.searchContainer}ActivateMutationObserver(){this.searchContainer?(this.searchPageObserver||(this.searchPageObserver=new MutationObserver(this.DetectCandidates.bind(this,u.AD_DETECTOR_INITIATOR_MUTATION)),this.searchPageObserver.observe(this.searchContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.searchPageObserver&&(this.searchPageObserver.disconnect(),this.searchPageObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.searchPageObserver&&(this.searchPageObserver.disconnect(),this.searchPageObserver=null,this.searchContainer=null,this.isObserverAlreadySet=!1)}Detector(){let W=this.detectPromotedPins();if(W&&W.length)for(let q of W){O.GetElementSize(q);if(!q.hasAttribute(u.ATTRIBUTE_BIS_ID)){let W=O.GenerateAndSetBisIdToPinterestAds(q);this.setSizesAndIdForAllElements(q);const k=this.createHTML(q),p=this.getAdvertiserName(q),b=this.getTargetUrl(q),s=this.getTitleText(q),y=this.getAdvertiserUrl(q),E=this.getAdPinterestObject(q,k,p,b,s,y,u.PINTEREST_AD_PLACEMENT_TYPE_SEARCH);this.isVideo(q,this.pinterestConfig.SEARCH_PAGE.TAGS_FOR_VIDEO_CHECK)&&(E.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.AdBlockerAgent.IsElementHidden(q)&&(this.HideElement(q),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(k);let R=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,W,E),clearTimeout(R)}),100)}}}detectPromotedPins(){if(!this.searchContainer)return[];let W=[],q=this.pinterestConfig.SEARCH_PAGE.IMG_SPACE_PERCENTAGE,k=this.pinterestConfig.SEARCH_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,u=Array.from(this.searchContainer.childNodes),O=this.pinterestConfig.PROMOTED_ALIASES;for(let p of u)if(this.IsPostContentRendered(p,q,this.pinterestConfig.SEARCH_PAGE.TAGS_FOR_LOADING_CHECK)){const q=p.querySelector(this.pinterestConfig.SEARCH_PAGE.PROMOTED_PINS_QUERY);if(!q)continue;let u=q.innerText;if(!u||"style"===q.nodeName.toLowerCase()){let W=window.getComputedStyle(q,":before");u=q.textContent,W&&W.content&&!u&&(u=W.content);for(let W of k){if(!u){u="";break}let q=W[0],k=W[1],O="join"!==q?new RegExp(k,"g"):"";"join"!==q||1!==u.length?u="replace"===q?u[q](O,""):u[q](O):u=u[0]}}O.some((W=>u.search(W)>=0))&&W.push(p)}return W}getSearchContainer(){let W=this.getGlobalContainer(),q=null;return W?(q=W.querySelector(this.pinterestConfig.SEARCH_PAGE.CONTAINER_QUERY),q):q}get cloneBodyWithStyles(){const W=document.createElement("body"),q=document.querySelectorAll("body style");return q&&q.forEach((q=>{const k=q.cloneNode(!0);W.appendChild(k)})),W}get cloneHeadWithStyles(){const W=document.createElement("head"),q=document.querySelectorAll('head link[rel="stylesheet"], head script');return q&&q.forEach((q=>{let k=q.cloneNode();W.appendChild(k)})),W}createHTML(W){const q=document.createElement("html"),k=this.cloneBodyWithStyles,u=this.cloneHeadWithStyles,O=W.cloneNode(!0);return this.styleFixes(O),k.appendChild(O),q.appendChild(u),q.appendChild(k),q}getAdvertiserName(W){const q=this.pinterestConfig.SEARCH_PAGE.ADVERTISER_NAME_QUERY;let k=Array.from(W.querySelectorAll(q));for(let W of k)if(W&&W.innerText)return W.innerText;return""}getAdvertiserUrl(W){const q=this.pinterestConfig.SEARCH_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let k=W.querySelector(q);return k?k.href:""}styleFixes(W){W.style.cssText=W.style.cssText.replace(/transform.[^;]*;/,"");for(let q of this.pinterestConfig.SEARCH_PAGE.STYLE_FIXES){const k=W.querySelector(q.ELEMENT_QUERY);let O=q.NEW_RULES;if(k){if(q.NEW_RULES.includes("${")){let W=JSON.parse(k.getAttribute(u.ATTRIBUTE_BIS_SIZE)).h;O=q.NEW_RULES.replace(/\$\{.[^}]*\}/,W)}k.style.cssText+=O}}}getTargetUrl(W){const q=this.pinterestConfig.SEARCH_PAGE.TARGET_URL_QUERY;let k=W.querySelector(q),u="";return k&&k.href&&(u=k.href),u}getTitleText(W){const q=this.pinterestConfig.SEARCH_PAGE.TITLE_TEXT_QUERY;let k=W.querySelector(q),u="";return k&&k.textContent.length&&(u=k.textContent),u}isSearchPageURL(){return!(-1===document.location.href.search(/\.pinterest\..{1,6}\/(search)\//))}}},8792:(W,q,k)=>{const u=k(2880);k(1568);W.exports=class{constructor(W){this.id=W}InjectDetector(W,q){if(document.head){var k=document.createElement("script");this.setAttributes(k),document.head.appendChild(k)}}setAttributes(W){const q=u.getURL("../executors/pinterest.js");W.setAttribute("bis_use","true"),W.type="text/javascript",W.setAttribute("charset","utf-8"),W.setAttribute("nonce",""),W.src=q}}},5465:(W,q,k)=>{const u=k(9346),O=k(9105),p=k(1568),b=k(8384),s=k(5364),y=k(9431),E=k(1145),R=k(9955);W.exports=class extends u{constructor(W,q,k){super(W),this.id=W,this.RedditVideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=k,this.redditConfig=q.RedditConfig,this.RedditDetectorFeed=null,this.RedditDetectorComments=null,this.RedditDetectorRightColumn=null,this.ActivateTrafficDetector()}onPageUrlChanged(W,q){this.available&&setTimeout((()=>{this.DeactivateDetectors(p.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.RedditDetectorFeed.ActivateDetector(),this.RedditDetectorComments.ActivateDetector(),this.RedditDetectorRightColumn.ActivateDetector()}DeactivateDetectors(W){this.RedditDetectorFeed.DeactivateDetector(W),this.RedditDetectorComments.DeactivateDetector(W),this.RedditDetectorRightColumn.DeactivateDetector(W)}ActivateDetector(W){W===p.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.RedditDetectorFeed=new y(this.id,this.redditConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.RedditDetectorComments=new E(this.id,this.redditConfig.COMMENT_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.RedditDetectorRightColumn=new R(this.id,this.redditConfig.RIGHT_COLUMN.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.RedditDetectorFeed.isCarousel=this.isCarousel.bind(this),this.RedditDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorFeed.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorFeed.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorFeed.HideElement=this.HideElement.bind(this),this.RedditDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.RedditDetectorComments.HideElement=this.HideElement.bind(this),this.RedditDetectorComments.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorComments.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorComments.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorComments.doesElementExists=this.doesElementExists.bind(this),this.RedditDetectorRightColumn.HideElement=this.HideElement.bind(this),this.RedditDetectorRightColumn.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorRightColumn.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorRightColumn.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorRightColumn.doesElementExists=this.doesElementExists.bind(this)}ActivateTrafficDetector(){this.RedditVideoTrafficDetector||(this.RedditVideoTrafficDetector=new O(this.id),this.RedditVideoTrafficDetector.InjectDetector(this.id+"_r",JSON.stringify(this.redditConfig)))}processAndSendRedditAd(W,q,k=!1){let u=document.querySelector(`[${p.ATTRIBUTE_BIS_ID}=${W}]`);if(u){let W=!!u.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK);s.SendCandidatePlacementsCount(this.id,1,p.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT,null),s.SendAdCandidates(this.id,[q],p.MESSAGE_TYPE_CANDIDATES_DATA_REDDIT,null),b.GW&&b.vW&&(u.style.cssText+=k?p.STYLES_OUTLINE_VIDEO_AD:W?p.STYLES_OUTLINE_TEXT_AD:p.STYLES_OUTLINE_SUCCESS_DETECT)}}}},1145:(W,q,k)=>{const u=k(655),O=k(1568),p=k(2880);W.exports=class extends u{constructor(W,q,k,u){super(W,q,k),this.id=W,this.redditConfig=u,this.commentPageContainer=null,this.AdBlockerAgent=k,this.commentPageObserver=null,this.adPlacementType=O.REDDIT_AD_PLACEMENT_TYPE_COMMENT_PAGE}HideElement(){}setSizesAndIdForAllElements(W){}getAdRedditObject(W,q,k,u){}doesElementExists(W){}ActualizeDetector(){return this.commentPageContainer=this.getCommentPageContainer,!!this.commentPageContainer}ActivateMutationObserver(){this.commentPageContainer?(this.commentPageObserver||(this.commentPageObserver=new MutationObserver(this.DetectCandidates.bind(this,O.AD_DETECTOR_INITIATOR_MUTATION)),this.commentPageObserver.observe(this.commentPageContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.commentPageObserver&&(this.commentPageObserver.disconnect(),this.commentPageObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.commentPageObserver&&(this.commentPageObserver.disconnect(),this.commentPageObserver=null,this.isObserverAlreadySet=!1)}get getCommentPageContainer(){let W=this.redditConfig.COMMENT_PAGE.QUERIES,q=this.redditConfig.COMMENT_PAGE.MIN_HEIGHT,k=window.innerWidth,u=this.redditConfig.COMMENT_PAGE.QUERY_TO_EXCLUDE,O=this.redditConfig.COMMENT_PAGE.TOP_DISTANCE;for(let p of W){const W=Array.from(document.querySelectorAll(p));for(let p of W){const W=p.getBoundingClientRect(),b=(k-parseInt(p.offsetWidth))/k*100,s=Array.from(p.children);if(parseInt(p.offsetHeight)>q&&b>2&&(parseInt(W.top)>O||parseInt(W.top)<0)&&s.length>=3&&!p.querySelector(u))return p}}return null}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processCommentPageAds(!0),this.isCommentPage&&this.commentPageContainer&&this.processCommentPageAds()}processCommentPageAds(){this.extractOccurrences()}allCellsAndMinImgSpace(){let W=[],q=[],k=this.redditConfig.COMMENT_PAGE.IMG_SPACE_PERCENTAGE;return this.commentPageContainer&&(W=Array.from(this.commentPageContainer.children).map((W=>{let k=Array.from(W.querySelectorAll(this.redditConfig.COMMENT_PAGE.QUERY_AD_INSIDE_COMMENT_TREE));if(!k?.length)return W;for(let W of k)q.push(W)})).concat(q)),W=W.filter((W=>!!W&&this.isPromoted(W))),{allCells:W,minImgSquarePercentage:k}}extractOccurrences(){let{allCells:W,minImgSquarePercentage:q}=this.allCellsAndMinImgSpace();if(W.length)for(let k of W)if(!k.hasAttribute(O.ATTRIBUTE_BIS_ID)&&!k.hasAttribute(O.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(k,q)&&this.isAvatarImgReady(k)){let W=p.GenerateAndSetBisIdToRedditAds(k),q=this.isVideoPost(k);if(this.isShadowRootExist(k)){const u=this.deepClone(k);let O=this.buildBannerHtml(u,this.adPlacementType),p=this.lookingTargetUrl(O),b=this.getAdRedditObject(k,O,p,this.adPlacementType);q&&(b.videoData=this.lookingForVideoDataInContent(k)),this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(k)&&(this.HideElement(k),this.AdBlockerAgent.SetHiddenAmount(1)),u.remove(),setTimeout(this.ExtractAd.bind(this,W,b,q),100)}else{this.setSizesAndIdForAllElements(k);const u=k.cloneNode(!0);let O=this.buildBannerHtml(u,this.adPlacementType),p=this.lookingTargetUrl(O),b=this.getAdRedditObject(k,O,p,this.adPlacementType);q&&(b.videoData=this.lookingForVideoDataInContent(k)),this.AdBlockerAgent.IsEnabledForReddit()&&(this.HideElement(k),this.AdBlockerAgent.SetHiddenAmount(1)),u.remove(),setTimeout(this.ExtractAd.bind(this,W,b,q),100)}}}isShadowRootExist(W){if(W.shadowRoot)return!0;return Array.from(W.querySelectorAll("*")).some((W=>W.shadowRoot))}deepClone(W){let q=1;const k=(W,u)=>{const O=(W,q)=>{for(;W;)k(W,q),W=W.nextSibling};if(W){const k=W.cloneNode(!1);"SLOT"===W.nodeName&&(W.setAttribute("data-assigning-slot-id",q),k.setAttribute("data-assigning-slot-id",q)),W.assignedSlot&&W instanceof Element&&W.assignedSlot.hasAttribute("data-assigning-slot-id")&&k.setAttribute("data-assigned-to",W.assignedSlot.getAttribute("data-assigning-slot-id")),q+=1,u.appendChild(k),W.shadowRoot&&(this.setSizesAndIdForAllElements(W.shadowRoot),W.shadowRoot&&W.shadowRoot.firstChild.setAttribute&&p.SetFullSizeToElement(W.shadowRoot.firstChild),O(W.shadowRoot.firstChild,k)),this.setSizesAndIdForAllElements(W),W&&W.setAttribute&&p.SetFullSizeToElement(W),O(W.firstChild,k)}},u=document.createElement("div");return k(W,u),this.replaceElementsToRightSlots(u.firstElementChild),u.firstElementChild}replaceElementsToRightSlots(W){const q=W.querySelectorAll("*[data-assigned-to]"),k=W.querySelectorAll("*[data-assigning-slot-id]");for(let W of q){const q=W.getAttribute("data-assigned-to");for(let u of k){if(q===u.getAttribute("data-assigning-slot-id")){u.appendChild(W);break}}}}buildBannerHtml(W,q){let k=this.commentPageContainer;this.setWrapperClass(k);let u=this.headCopyWithStyles;const O=document.createElement("html"),p=this.bodyCopyWithStyles,b=document.createElement("div"),s=k.cloneNode();return b.appendChild(s),this.setWrapperStyles(k,b),u.appendChild(this.getClassNameForStyles(W)),O.appendChild(u),s.appendChild(W),p.appendChild(b),O.appendChild(p),O}setWrapperClass(W){let q=W.parentElement,k=!1;if(q)for(let O=0;O<50&&!k&&q;O++)if(q.nextSibling&&-1!==q.nextSibling.nodeName.search(/style/i)&&q.previousSibling&&-1!==q.previousSibling.nodeName.search(/style/i)){var u=q.getAttribute("class");W.className+=W.className.length?" "+u:u,k=!0}else q=q.parentElement}get headCopyWithStyles(){const W=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach((q=>{const k=q.KEY,u=q.ALL_STYLES_FROM,O=q.COMMENT_PAGE;for(let q of Array.from(W.children))if(-1!==q.nodeName.search(/^(style|link)$/gi)){if(q.dataset[k]){let W=u.some((W=>q.dataset[k].includes(W)));!W&&this.isCommentPage&&(W=O.some((W=>q.dataset[k].includes(W)))),W||q.remove()}}else q.remove()})),this.neccesaryStyleRules){const q=document.createElement("style");q.innerHTML=this.neccesaryStyleRules,W.appendChild(q)}return this.getStylesByTagName(W),W}get neccesaryStyleRules(){let W=null;const q=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((W=>{const q=new RegExp(W,"gi"),k=document.querySelector("head").outerHTML.match(q);let u;return k&&k.length&&(u=k.join("")),u})).filter((W=>W));return q&&q.length&&(W=q.join("")),W}getClassNameForStyles(W){let q=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((k=>{const u=W.querySelector(k.CLASS_NAME_CHILD);let O=u&&u.parentElement?u.parentElement:null,p="";for(let W=1;W<k.DEEP_LEVEL;W++)O&&(O=O.parentElement);O&&(p=O.classList[0],q.innerHTML+="."+p+k.STYLES)})),q}getStylesByTagName(W){let q=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map((q=>{const k=new RegExp(q.ATTRIBUTE_REGEX_VALUE);return Array.from(W.querySelectorAll(q.TAG_NAME)).filter((W=>{if(W&&W[q.ATTRIBUTE_NAME]&&-1!==W[q.ATTRIBUTE_NAME].search(k))return W;W.remove()}))})).filter((W=>W)).forEach((W=>{q=q.concat(W)})),q.forEach((q=>{W.appendChild(q)}))}get bodyCopyWithStyles(){const W=document.createElement("body"),q=document.querySelector("body style")?.cloneNode(!0);return q&&W.appendChild(q),W}isPromoted(W){if(!W)return!1;let q=W,k=null;1===q.childElementCount&&q.firstElementChild.shadowRoot&&q.firstElementChild.shadowRoot.firstElementChild?k=q.firstElementChild.shadowRoot.firstElementChild:q.shadowRoot&&(k=q.shadowRoot.firstElementChild);let u=[];k&&(u=Array.from(k.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)));let O=Array.from(q.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)).concat(u);return O.length?O.some((W=>{let q=W.textContent.trim().toLowerCase();return q?this.redditConfig.PROMOTED_ALIASES.some((W=>q.indexOf(W)>=0)):W.dataset.beforeContent?(q=W.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((W=>q.indexOf(W)>=0))):void 0})):void 0}IsPostContentRendered(W,q){let k=!1;if(W){let u=W.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(u&&0===u.length){let u=p.GetFullElementSize(W);if(u.w>0){p.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,W,u).some((W=>W>=q))&&(k=!0)}}W.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(k=!0)}return k}lookingTargetUrl(W){let q="";let k=Array.from(W.querySelectorAll('a[target="_blank"]')).filter((W=>!(!W||!W.href||W.href.includes("reddit.com/user/"))));return k.length&&(q=k[0].href),q}isAvatarImgReady(W){if(!W)return!1;let q=[W],k=null;1===W.childElementCount&&W.firstElementChild.shadowRoot&&(k=W.firstElementChild.shadowRoot.firstElementChild),W.shadowRoot&&(k=W.shadowRoot.firstElementChild),k&&q.push(k);let u=!1;for(let W of q){let q=W.querySelector(this.redditConfig.QUERY_CHECK_READY_AD_CELLS);if(q){if(!q.shadowRoot)return!0;if(u=!!q.shadowRoot&&!!q.shadowRoot.querySelector("img"),u)break}}return u}isVideoPost(W){let q=!1;if(W){q=Array.from(W.querySelectorAll("*")).some((W=>{let q=!!W.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length;return!q&&W.shadowRoot&&(q=!!W.shadowRoot.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length),q}))}return q}lookingForVideoDataInContent(W){const q=this.redditConfig.VIDEO_TRAFFIC_DETECTOR.QUERY_VIDEO_DATA_FROM_CONTENT;let k=W.querySelector(q);if(k){let W=k.getAttribute("src");k.getAttribute("poster");if(W&&!W.includes("blob:")){const q=new RegExp(this.redditConfig.VIDEO_TRAFFIC_DETECTOR.VIDEO_ID_REGEX);let k=W.match(q),u=null;if(k?.groups?.videoId)return u=k.groups.videoId,{videoId:u,url:W}}}return{}}maxWidthContainer(W){return W?W.offsetWidth+"px":"auto"}setWrapperStyles(W,q){q.style.cssText=q.style.cssText+`max-width: ${this.maxWidthContainer(W)}`}get isCommentPage(){return-1!==window.location.href.indexOf(this.redditConfig.COMMENT_PAGE.TEXT_FROM_HREF)}get isCommentPopup(){return!!document.querySelector(this.redditConfig.COMMENT_PAGE.QUERY_IS_POPUP)}}},9431:(W,q,k)=>{const u=k(655),O=k(1568),p=k(2880);W.exports=class extends u{constructor(W,q,k,u){super(W,q,k),this.id=W,this.feedObserver=null,this.redditConfig=u,this.feedContainer=null,this.AdBlockerAgent=k,this.lastTopPosition=null,this.adPlacementType=O.REDDIT_AD_PLACEMENT_TYPE_FEED}isCarousel(){}HideElement(){}setSizesAndIdForAllElements(W){}getAdRedditObject(W,q,k,u){}doesElementExists(W){}ActualizeDetector(){return!!this.isValidUrl&&(this.feedContainer=this.getFeedContainer,!!this.feedContainer)}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,O.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.lastTopPosition=parseInt(this.feedContainer.getBoundingClientRect().top),this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processFeedAds(),this.isCommentPage||this.isCommentPopup||(this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processFeedAds())}processFeedAds(){this.extractOccurrences()}allCellsAndMinImgSpace(){let W=[],q=0;if(this.feedContainer){let k=Array.from(this.feedContainer.children),u=Array.from(document.querySelectorAll(this.redditConfig.FEED.QUERY_POSTS));W=k,u&&u.length&&(W=k.concat(u)),q=this.redditConfig.FEED.IMG_SPACE_PERCENTAGE}return W=W.filter((W=>this.isPromoted(W)&&W.offsetHeight<this.redditConfig.FEED.MAX_CHILD_HEIGHT)),{allCells:W,minImgSquarePercentage:q}}extractOccurrences(){let{allCells:W,minImgSquarePercentage:q}=this.allCellsAndMinImgSpace();if(W.length)for(let k of W)if(!k.hasAttribute(O.ATTRIBUTE_BIS_ID)&&!k.hasAttribute(O.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(k,q)&&this.isAvatarImgReady(k)){this.isCarousel(k)&&this.redditConfig.IS_ACTIVE_GET_SLIDES_SRC&&this.getSlidesSrc(k);let W=p.GenerateAndSetBisIdToRedditAds(k),q=this.isVideoPost(k);if(this.isShadowRootExist(k)){const u=this.deepClone(k);let O=this.buildBannerHtml(u,this.adPlacementType),p=this.getAdRedditObject(k,O,"",this.adPlacementType);q&&(p.videoData=this.lookingForVideoDataInContent(k)),this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(k)&&(this.HideElement(k),this.AdBlockerAgent.SetHiddenAmount(1)),u.remove(),setTimeout(this.ExtractAd.bind(this,W,p,q),100)}else{this.setSizesAndIdForAllElements(k);const u=k.cloneNode(!0);let O=this.buildBannerHtml(u,this.adPlacementType),b=this.getAdRedditObject(k,O,"",this.adPlacementType);b.size.h<300&&(b.size=p.SetFullSizeToElement(k)),q&&(b.videoData=this.lookingForVideoDataInContent(k)),this.AdBlockerAgent.IsEnabledForReddit()&&(this.HideElement(k),this.AdBlockerAgent.SetHiddenAmount(1)),u.remove(),setTimeout(this.ExtractAd.bind(this,W,b,q),100)}}}isShadowRootExist(W){if(W.shadowRoot)return!0;return Array.from(W.querySelectorAll("*")).some((W=>W.shadowRoot))}deepClone(W){let q=1;const k=(W,u)=>{const O=(W,q)=>{for(;W;)k(W,q),W=W.nextSibling};if(W){const k=W.cloneNode(!1);"SLOT"===W.nodeName&&(W.setAttribute("data-assigning-slot-id",q),k.setAttribute("data-assigning-slot-id",q)),W.assignedSlot&&W instanceof Element&&W.assignedSlot.hasAttribute("data-assigning-slot-id")&&k.setAttribute("data-assigned-to",W.assignedSlot.getAttribute("data-assigning-slot-id")),q+=1,u.appendChild(k),W.shadowRoot&&(this.setSizesAndIdForAllElements(W.shadowRoot),W.shadowRoot&&W.shadowRoot.firstChild.setAttribute&&p.SetFullSizeToElement(W.shadowRoot.firstChild),O(W.shadowRoot.firstChild,k)),this.setSizesAndIdForAllElements(W),W&&W.setAttribute&&p.SetFullSizeToElement(W),O(W.firstChild,k)}},u=document.createElement("div");return k(W,u),this.replaceElementsToRightSlots(u.firstElementChild),u.firstElementChild}replaceElementsToRightSlots(W){const q=W.querySelectorAll("*[data-assigned-to]"),k=W.querySelectorAll("*[data-assigning-slot-id]");for(let W of q){const q=W.getAttribute("data-assigned-to");for(let u of k){if(q===u.getAttribute("data-assigning-slot-id")){u.appendChild(W);break}}}}getSlidesSrc(W){var q=W.querySelector("ul").parentElement,k=q.querySelector(this.redditConfig.CAROUSEL_BUTTON_NEXT),u=q.querySelector(this.redditConfig.CAROUSEL_BUTTON_PREVIUOS);k&&u&&(k.click(),u.click())}buildBannerHtml(W,q){let k=this.feedContainer;this.setWrapperClass(k);let u=this.headCopyWithStyles;const O=document.createElement("html"),p=this.bodyCopyWithStyles,b=document.createElement("div"),s=k.cloneNode();return b.appendChild(s),this.setWrapperStyles(k,b),u.appendChild(this.getClassNameForStyles(W)),O.appendChild(u),s.appendChild(W),p.appendChild(b),O.appendChild(p),O}setWrapperClass(W){let q=W.parentElement,k=!1;if(q)for(let O=0;O<50&&!k&&q;O++)if(q.nextSibling&&-1!==q.nextSibling.nodeName.search(/style/i)&&q.previousSibling&&-1!==q.previousSibling.nodeName.search(/style/i)){var u=q.getAttribute("class");W.className+=W.className.length?" "+u:u,k=!0}else q=q.parentElement}setWrapperStyles(W,q){q.style.cssText=q.style.cssText+`max-width: ${this.maxWidthContainer(W)}`}get getFeedContainer(){let W=this.redditConfig.FEED.QUERIES,q=window.innerWidth,k=this.redditConfig.FEED.SECONDARY_CHECK_QUERY,u=this.redditConfig.FEED.QUERY_TO_EXCLUDE;for(let O of W){const W=Array.from(document.querySelectorAll(O));for(let O of W){const W=getComputedStyle(O),p=(q-parseInt(W.width))/q*100;if(parseInt(W.height)>1e3&&p>2&&!O.querySelector(u))return O.querySelector(k)?O.querySelector(k):O}}return null}get headCopyWithStyles(){const W=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach((q=>{const k=q.KEY,u=q.ALL_STYLES_FROM,O=q.FEED_PAGE;for(let q of Array.from(W.children))if(-1!==q.nodeName.search(/^(style|link)$/gi)){if(q.dataset[k]){let W=u.some((W=>q.dataset[k].includes(W)));W||this.isCommentPage||(W=O.some((W=>q.dataset[k].includes(W)))),W||q.remove()}}else q.remove()})),this.neccesaryStyleRules){const q=document.createElement("style");q.innerHTML=this.neccesaryStyleRules,W.appendChild(q)}return this.getStylesByTagName(W),W}get neccesaryStyleRules(){let W=null;const q=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((W=>{const q=new RegExp(W,"gi"),k=document.querySelector("head").outerHTML.match(q);let u;return k&&k.length&&(u=k.join("")),u})).filter((W=>W));return q&&q.length&&(W=q.join("")),W}getClassNameForStyles(W){let q=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((k=>{const u=W.querySelector(k.CLASS_NAME_CHILD);let O=u&&u.parentElement?u.parentElement:null,p="";for(let W=1;W<k.DEEP_LEVEL;W++)O&&(O=O.parentElement);O&&(p=O.classList[0],q.innerHTML+="."+p+k.STYLES)})),q}getStylesByTagName(W){let q=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map((q=>{const k=new RegExp(q.ATTRIBUTE_REGEX_VALUE);return Array.from(W.querySelectorAll(q.TAG_NAME)).filter((W=>{if(W&&W[q.ATTRIBUTE_NAME]&&-1!==W[q.ATTRIBUTE_NAME].search(k))return W;W.remove()}))})).filter((W=>W)).forEach((W=>{q=q.concat(W)})),q.forEach((q=>{W.appendChild(q)}))}get bodyCopyWithStyles(){const W=document.createElement("body"),q=Array.from(document.querySelectorAll("body style")).map((W=>{if(W)return W.cloneNode(!0)}));return q&&q.forEach((q=>{W.appendChild(q)})),W}maxWidthContainer(W){return W?W.offsetWidth+"px":"auto"}isVideoPost(W){let q=!1;if(W){q=Array.from(W.querySelectorAll("*")).some((W=>{let q=!!W.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length;return!q&&W.shadowRoot&&(q=!!W.shadowRoot.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length),q}))}return q}lookingForVideoDataInContent(W){const q=this.redditConfig.VIDEO_TRAFFIC_DETECTOR.QUERY_VIDEO_DATA_FROM_CONTENT;let k=W.querySelector(q);if(k){let W=k.getAttribute("src");k.getAttribute("poster");if(W&&!W.includes("blob:")){const q=new RegExp(this.redditConfig.VIDEO_TRAFFIC_DETECTOR.VIDEO_ID_REGEX);let k=W.match(q),u=null;if(k?.groups?.videoId)return u=k.groups.videoId,{videoId:u,url:W}}}return{}}isPromoted(W){if(W){let q=W;1===q.childElementCount&&q.firstElementChild.shadowRoot&&q.firstElementChild.shadowRoot.firstElementChild&&(q=q.firstElementChild.shadowRoot.firstElementChild);let k=Array.from(q.querySelectorAll(this.redditConfig.FEED.PROMOTED_SELECTOR)),u=Array.from(q.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)),O=Array.from(W.querySelectorAll(this.redditConfig.RIGHT_COLUMN.PROMOTED_SELECTOR)),p=k.concat(O).concat(u);if(p.length)return p.some((W=>{let q=W.textContent.trim().toLowerCase();return q?this.redditConfig.PROMOTED_ALIASES.some((W=>q.indexOf(W)>=0)):W.dataset.beforeContent?(q=W.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((W=>q.indexOf(W)>=0))):void 0}))}return!1}IsPostContentRendered(W,q){let k=!1;if(W){let u=W.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(u&&0===u.length){let u=p.GetFullElementSize(W);if(u.w>0){p.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,W,u).some((W=>W>=q))&&(k=!0)}}W.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(k=!0)}return k}isAvatarImgReady(W){if(!W)return!1;let q=[W],k=null;1===W.childElementCount&&W.firstElementChild.shadowRoot&&(k=W.firstElementChild.shadowRoot.firstElementChild),W.shadowRoot&&(k=W.shadowRoot.firstElementChild),k&&q.push(k);let u=!1;for(let W of q){let q=W.querySelector(this.redditConfig.QUERY_CHECK_READY_AD_CELLS);if(q){if(!q.shadowRoot)return!0;if(u=!!q.shadowRoot&&!!q.shadowRoot.querySelector("img"),u)break}}return u}get isValidUrl(){return!this.redditConfig.FEED.INVALID_URL_PATHS.some((W=>window.location.href.includes(W)))}}},9955:(W,q,k)=>{const u=k(655),O=k(1568),p=k(2880);W.exports=class extends u{constructor(W,q,k,u){super(W,q,k),this.id=W,this.rightColumnObserver=null,this.redditConfig=u,this.rightColumnContainer=null,this.AdBlockerAgent=k,this.lastTopPosition=null,this.adPlacementType=O.REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN}HideElement(){}setSizesAndIdForAllElements(W){}getAdRedditObject(W,q,k,u){}doesElementExists(W){}ActualizeDetector(){return this.rightColumnContainer=this.getRightColumnContainer,!!this.rightColumnContainer}ActivateMutationObserver(){this.rightColumnContainer?(this.rightColumnObserver||(this.rightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,O.AD_DETECTOR_INITIATOR_MUTATION)),this.rightColumnObserver.observe(this.rightColumnContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processRightColumnAds(),this.rightColumnContainer=this.doesElementExists(this.rightColumnContainer)?this.rightColumnContainer:this.getRightColumnContainer,this.rightColumnContainer&&this.processRightColumnAds()}processRightColumnAds(){this.extractOccurrences(O.REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN)}allCellsAndMinImgSpace(){let W=[],q=0;return this.rightColumnContainer&&this.rightColumnContainer.children&&(W=Array.from(this.rightColumnContainer.children).map((W=>W.querySelector("div ~ div > button")?W.querySelector("div:nth-child(1)"):"HR"===W.nodeName||0===W.getBoundingClientRect().height?null:W)).filter((W=>W)),q=this.redditConfig.RIGHT_COLUMN.IMG_SPACE_PERCENTAGE),W=W.filter((W=>this.isPromoted(W))),{allCells:W,minImgSquarePercentage:q}}extractOccurrences(){let{allCells:W,minImgSquarePercentage:q}=this.allCellsAndMinImgSpace();if(W.length)for(let k of W)if(!k.hasAttribute(O.ATTRIBUTE_BIS_ID)&&!k.hasAttribute(O.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(k,q)){let W=p.GenerateAndSetBisIdToRedditAds(k);if(this.isShadowRootExist(k)){const q=this.deepClone(k);let u=this.buildBannerHtml(q),O=this.lookingTargetUrl(u),p=this.getAdRedditObject(k,u,O,this.adPlacementType);this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(k)&&(this.HideElement(k),this.AdBlockerAgent.SetHiddenAmount(1)),q.remove(),setTimeout(this.ExtractAd.bind(this,W,p),100)}else{this.setSizesAndIdForAllElements(k);const q=k.cloneNode(!0);let u=this.buildBannerHtml(q),O=this.lookingTargetUrl(u),p=this.getAdRedditObject(k,u,O,this.adPlacementType);this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(k)&&(this.HideElement(k),this.AdBlockerAgent.SetHiddenAmount(1)),q.remove(),setTimeout(this.ExtractAd.bind(this,W,p),100)}}}isShadowRootExist(W){if(W.shadowRoot)return!0;return Array.from(W.querySelectorAll("*")).some((W=>W.shadowRoot))}deepClone(W){let q=1;const k=(W,u)=>{const O=(W,q)=>{for(;W;)k(W,q),W=W.nextSibling};if(W){const k=W.cloneNode(!1);"SLOT"===W.nodeName&&(W.setAttribute("data-assigning-slot-id",q),k.setAttribute("data-assigning-slot-id",q)),W.assignedSlot&&W instanceof Element&&W.assignedSlot.hasAttribute("data-assigning-slot-id")&&k.setAttribute("data-assigned-to",W.assignedSlot.getAttribute("data-assigning-slot-id")),q+=1,u.appendChild(k),W.shadowRoot&&(this.setSizesAndIdForAllElements(W.shadowRoot),W.shadowRoot&&W.shadowRoot.firstChild.setAttribute&&p.SetFullSizeToElement(W.shadowRoot.firstChild),O(W.shadowRoot.firstChild,k)),this.setSizesAndIdForAllElements(W),W&&W.setAttribute&&p.SetFullSizeToElement(W),O(W.firstChild,k)}},u=document.createElement("div");return k(W,u),this.replaceElementsToRightSlots(u.firstElementChild),u.firstElementChild}buildBannerHtml(W){let q=this.rightColumnContainer;this.setWrapperClass(q);let k=this.headCopyWithStyles;const u=document.createElement("html"),O=this.bodyCopyWithStyles,p=document.createElement("div"),b=q.cloneNode();return p.appendChild(b),this.setWrapperStyles(q,p),k.appendChild(this.getClassNameForStyles(W)),u.appendChild(k),b.appendChild(W),O.appendChild(p),u.appendChild(O),u}setWrapperClass(W){let q=W.parentElement,k=!1;if(q)for(let O=0;O<50&&!k&&q;O++)if(q.nextSibling&&-1!==q.nextSibling.nodeName.search(/style/i)&&q.previousSibling&&-1!==q.previousSibling.nodeName.search(/style/i)){var u=q.getAttribute("class");W.className+=W.className.length?" "+u:u,k=!0}else q=q.parentElement}setWrapperStyles(W,q){q.style.cssText=q.style.cssText+`max-width: ${this.maxWidthContainer(W)}`}replaceElementsToRightSlots(W){const q=W.querySelectorAll("*[data-assigned-to]"),k=W.querySelectorAll("*[data-assigning-slot-id]");for(let W of q){const q=W.getAttribute("data-assigned-to");for(let u of k){if(q===u.getAttribute("data-assigning-slot-id")){u.appendChild(W);break}}}}isPromoted(W){if(W){let q=W,k=Array.from(q.querySelectorAll(this.redditConfig.RIGHT_COLUMN.PROMOTED_SELECTOR));if(k.length)return k.some((W=>{let q=W.textContent.trim().toLowerCase();return q?this.redditConfig.PROMOTED_ALIASES.some((W=>q.indexOf(W)>=0)):W.dataset.beforeContent?(q=W.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((W=>q.indexOf(W)>=0))):void 0}))}return!1}IsPostContentRendered(W,q){let k=!1;if(W){let u=W.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(0===u?.length){let u=p.GetFullElementSize(W);if(u.w>0&&u.h>0){p.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,W,u).some((W=>W>=q))&&(k=!0)}}W.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(k=!0)}return k}lookingTargetUrl(W){let q="";let k=Array.from(W.querySelectorAll('a[target="_blank"]')).filter((W=>!(!W?.href||this.redditConfig.BAD_URL_PATTERN_FOR_TARGET_URL.some((q=>W.href.includes(q))))));return k.length&&(q=k[0].href),q}get headCopyWithStyles(){const W=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach((q=>{const k=q.KEY,u=q.ALL_STYLES_FROM,O=q.FEED_PAGE;for(let q of Array.from(W.children))if(-1!==q.nodeName.search(/^(style|link)$/gi)){if(q.innerHTML=q.innerHTML.replace(/}.[^}]*{visibility:hidden}/,"}"),q.dataset[k]){let W=u.some((W=>q.dataset[k].includes(W)));W||this.isCommentPage||(W=O.some((W=>q.dataset[k].includes(W)))),W||q.remove()}}else q.remove()})),this.necessaryStyleRules){const q=document.createElement("style");q.innerHTML=this.necessaryStyleRules,W.appendChild(q)}return this.getStylesByTagName(W),W}get necessaryStyleRules(){let W=null;const q=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((W=>{const q=new RegExp(W,"gi"),k=document.querySelector("head").outerHTML.match(q);let u;return k&&k.length&&(u=k.join("")),u})).filter((W=>W));return q&&q.length&&(W=q.join("")),W}getClassNameForStyles(W){let q=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((k=>{const u=W.querySelector(k.CLASS_NAME_CHILD);let O=u&&u.parentElement?u.parentElement:null,p="";for(let W=1;W<k.DEEP_LEVEL;W++)O&&(O=O.parentElement);O&&(p=O.classList[0],q.innerHTML+="."+p+k.STYLES)})),q}getStylesByTagName(W){let q=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map((q=>{const k=new RegExp(q.ATTRIBUTE_REGEX_VALUE);return Array.from(W.querySelectorAll(q.TAG_NAME)).filter((W=>{if(W&&W[q.ATTRIBUTE_NAME]&&-1!==W[q.ATTRIBUTE_NAME].search(k))return W;W.remove()}))})).filter((W=>W)).forEach((W=>{q=q.concat(W)})),q.forEach((q=>{W.appendChild(q)}))}get bodyCopyWithStyles(){const W=document.createElement("body"),q=document.querySelector("body style")?.cloneNode(!0);return q&&W.appendChild(q),W}maxWidthContainer(W){return W?W.offsetWidth+"px":"auto"}get getRightColumnContainer(){const W=this.redditConfig.RIGHT_COLUMN.QUERIES;let q=null;for(let k of W){let W=Array.from(document.querySelectorAll(k));if(!W.length)continue;let u=W.filter((W=>W.children.length>2));if(u&&u.length){q=u[0];break}}return q}}},9105:(W,q,k)=>{const u=k(2880);k(1568);W.exports=class{constructor(W){this.id=W}setAttributes(W){const q=u.getURL("../executors/reddit.js");W.setAttribute("bis_use","true"),W.type="text/javascript",W.setAttribute("charset","utf-8"),W.setAttribute("nonce",""),W.src=q}InjectDetector(){if(document.head){var W=document.createElement("script"),q=function(){document.head.appendChild(W),window.removeEventListener("DOMContentLoaded",q)};this.setAttributes(W),window.addEventListener("DOMContentLoaded",q)}}}},5849:(W,q,k)=>{const u=k(9346),O=k(1568),p=k(8384),b=k(5364),s=k(1687),y=k(8838),E=k(2880),R=k(9358);W.exports=class extends u{constructor(W,q,k){super(W),this.id=W,this.VideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=k,this.tiktokConfig=q.TiktokConfig,this.tiktokDetectorFeed=null,this.ActivateTrafficDetector()}onPageUrlChanged(){this.available&&setTimeout((()=>{this.DeactivateDetectors(O.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.tiktokDetectorFeed.ActivateDetector()}DeactivateDetectors(W){this.tiktokDetectorFeed.DeactivateDetector(W)}ActivateDetector(W){W===O.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.tiktokDetectorFeed=new s(this.id,this.tiktokConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.tiktokConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.tiktokDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.tiktokDetectorFeed.getTiktokAdObject=this.getTiktokAdObject.bind(this),this.tiktokDetectorFeed.ExtractAd=this.processAndSendTiktokAd.bind(this),this.tiktokDetectorFeed.removePostCopy=this.removePostCopy.bind(this),this.tiktokDetectorFeed.HideElement=this.HideElement.bind(this)}ActivateTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new y(this.id,this.AdBlockerAgent),this.VideoTrafficDetector.InjectDetector(this.id+"_t",JSON.stringify(this.tiktokConfig)))}processAndSendTiktokAd(W,q,k=document){let u=k.querySelector(`[${O.ATTRIBUTE_BIS_ID}=${W}]`);u&&(b.SendAdCandidates(this.id,[q],O.MESSAGE_TYPE_TIKTOK_FEED_DATA,null),p.GW&&p.vW&&(u.children[0].children[0].style.cssText+=O.STYLES_OUTLINE_VIDEO_AD))}getTiktokAdObject(W,q,k,u){const O=E.SetFullSizeToElement(W);return{content:R.encode(q.outerHTML),size:O,adPlacementType:u,videoId:k}}removePostCopy(W){W.remove()}}},1687:(W,q,k)=>{const u=k(2880),O=k(1568),p=k(655);W.exports=class extends p{constructor(W,q,k,u){super(W,q,k),this.tiktokConfig=u,this.id=W,this.adBlockerAgent=k,this.feedContainer=null,this.feedObserver=null}HideElement(W){}setSizesAndIdForAllElements(W){}getTiktokAdObject(W,q,k,u){}removePostCopy(W){}ActualizeDetector(){return this.feedContainer=this.#Q(),!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,O.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.#X()}CheckIfAdRendered(W){for(let q of this.tiktokConfig.FEED.PREVIEW_QUERIES){const k=W.querySelector(q);if(k?.src)return new RegExp(/^https:\/\//).test(k.src)}return!1}#Q(){const W=this.tiktokConfig.FEED.CONTAINER_QUERIES,q=this.tiktokConfig.FEED.CONTAINER_MIN_HEIGHT;for(let k of W){let W=document.querySelector(k);if(W){if(W.offsetHeight>=q)return W}}}#X(){let W=this.#n();if(W?.length)for(let q of W)if(this.CheckIfAdRendered(q)&&!q.hasAttribute(O.ATTRIBUTE_BIS_ID)){this.setSizesAndIdForAllElements(q);const W=u.GenerateAndSetBisIdToInstagramAds(q),k=this.#D(q),p=this.#_(q),b=this.getTiktokAdObject(q,k,p,O.TIKTOK_AD_PLACEMENT_TYPE_FEED);this.removePostCopy(k);let s=setTimeout((()=>{this.ExtractAd.call(this,W,b),clearTimeout(s)}),100)}}#n(){if(!this.feedContainer)return[];let W=Array.from(this.feedContainer.children),q=[];for(let k of W){if(this.tiktokConfig.FEED.PROMOTED_QUERIES.find((W=>k.querySelector(W)))){q.push(k);break}}return q}#D(W){const q=this.feedContainer.cloneNode(),k=document.createElement("html"),u=this.#Z(),O=this.#x(),p=W.cloneNode(!0);return q.appendChild(p),u.appendChild(q),k.appendChild(O),k.appendChild(u),k}#Z(){const W=document.createElement("body"),q=document.querySelectorAll('body style, body link[rel="stylesheet"]');return q&&q.forEach((q=>{const k=q.cloneNode(!0);W.appendChild(k)})),W}#x(){const W=document.createElement("head"),q=document.querySelectorAll("style"),k=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head');return q&&q.forEach((q=>{let k="";for(let W of q.sheet.cssRules)k+=W.cssText;const u=q.cloneNode(!0);u.innerHTML=k,W.appendChild(u)})),k&&k.forEach((q=>{let k=q.cloneNode(!0);W.appendChild(k)})),W}#_(W){const q=this.tiktokConfig.FEED.VIDEO_CONTAINER_QUERIES.find((q=>W.querySelector(q))),k=W.querySelector(q);if(k){const W=new RegExp(/\d{5,}/).exec(k.id);return W?W[0]:null}return null}}},8838:(W,q,k)=>{const u=k(2880);W.exports=class{constructor(W,q){this.id=W,this.AdBlockerAgent=q}InjectDetector(W){if(document.head){let W=document.createElement("script");this.setAttributes(W),document.head.appendChild(W)}}setAttributes(W){const q=u.getURL("../executors/tiktok.js");W.setAttribute("bis_use","true"),W.type="text/javascript",W.setAttribute("charset","utf-8"),W.setAttribute("nonce",""),W.src=q,this.AdBlockerAgent.IsEnabledForTiktok()&&W.setAttribute("adblock_use","")}}},9203:(W,q,k)=>{const u=k(1568),O=k(4736);W.exports=class{constructor(W,q,k,u){this.id=W,this.videoTrafficDetector=null,this.ioManager=k,this.adBlockerAgent=u,this.config=q.twitchConfig,this.videoTrafficDetector=new O(this.id,this.config,this.ioManager),this.videoTrafficDetector.InjectDetector()}ActivateDetector(W){W===u.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0)}}},4736:(W,q,k)=>{const u=k(2880),O=k(9358),p=k(855);W.exports=class extends p{constructor(W,q,k){super(W,q,k,!0),this.id=W,this.IOManager.onGotTwitchVideoInstreamDataCallback=this.processTwitchInstreamData.bind(this),this.signature=null,this.token=null,this.config=q}InjectDetector(){if(document.head){let W=document.createElement("script");this.setAttributes(W),document.head.appendChild(W)}}setAttributes(W){const q=u.getURL("../executors/twitch.js");W.setAttribute("bis_use","true"),W.type="text/javascript",W.setAttribute("charset","utf-8"),W.setAttribute("nonce",""),W.src=q}processTwitchInstreamData(W){this.findAndSaveSignatureAndToken(W.content);const q=this.parsePostBodyData(W);let k=this.buildInstreamAdURL(q);const u=this.prepareObjectToSend(k);this.sendCandidateToBackground(u)}findAndSaveSignatureAndToken(W){W?.includes("streamPlaybackAccessToken")&&(this.signature=W.match(/signature":(| )["'](?<sig>.[^"]*)",/)?.groups?.sig,this.token=encodeURIComponent(W.match(/value":(| )["'](?<token>.*)/).groups.token.replace(/","signature":.*/,"").replace(/\\/g,"")))}parsePostBodyData(W){if(!new RegExp("video-edge.*.ts$").test(W.url)&&"application/x-www-form-urlencoded; charset=utf-8"!==W.type)return;if(!W.encodedPostBody||0!==W.encodedPostBody.search(/^data=/))return;let q=O.decode(W.encodedPostBody.replace(/data=/,""),!1);return JSON.parse(q)}buildInstreamAdURL(W){if(!this.signature)return;const q={};if(q.channel=document.location.pathname.match(/\//g)?.length>1?"":document.location.pathname.replace(/\//g,""),!q.channel)return;q.browserFamily=u.IsChrome()?"chrome":"firefox",q.browserVersion=navigator.userAgent.match(new RegExp("(chrome|firefox)/(?<browserVersion>\\d{3}.\\d)","i")).groups.browserVersion;const{osName:k,osVersion:O}=navigator.userAgent.match(/\((?<osName>.[^ ]*)\s(?<osVersion>.[^;]*);\)?/)?.groups;q.osName=k,q.osVersion=O,q.signature=this.signature,q.token=this.token,q.p=Math.floor(1e7*Math.random())+1;for(let k of W)if(k?.properties.hasOwnProperty("play_session_id")){q.playSessionId=k.properties.play_session_id;break}return q.playSessionId?this.replaceMacrosesInUrl(q):void 0}getMacrosArray(){return this.config.URL_PATTERN_TO_GET_HLS.match(/\$\{(.[^}]*)}/g).map((W=>W.replace(/[${}]/g,"")))}replaceMacrosesInUrl(W){let q=this.config.URL_PATTERN_TO_GET_HLS;for(let[k,u]of Object.entries(W))q=q.replace(`\${${k}}`,u);return q}prepareObjectToSend(W){return{requestMethod:"GET",urlToGetInstreamData:W,url:"",contentType:"",mediaType:"",alias:"TWITCH_HLS"}}sendCandidateToBackground(W){this.IOManager.SendTwitchInstreamData(this.id,W)}}},4919:(W,q,k)=>{const u=k(8384),O=k(2880),p=k(1568),b=k(9346),s=k(5364),y=k(1402),E=k(9473);k(5473);W.exports=class extends b{constructor(W,q,k){super(W),this.id=W,this.onPageRefreshed=this.onPageUrlChanged,this.twConfig=q.TwitterConfig,this.TwitterDetectorFeed=null,this.TwitterDetectorRightColumn=null,this.VideoTrafficDetector=null,this.AdBlockerAgent=k,this.ActivateVideoTrafficDetector()}onPageUrlChanged(W,q){this.available&&setTimeout((()=>{this.DeactivateDetectors(p.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new y(this.id),this.VideoTrafficDetector.InjectDetector())}ActivateDetector(W){W===p.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.TwitterDetectorFeed=new E(this.id,this.twConfig.FEED.DETECTOR_OPTIONS,this.twConfig,this.AdBlockerAgent),this.AddNecessaryMethods(),this.ActivateDetectors()}ActivateDetectors(){this.TwitterDetectorFeed.ActivateDetector()}AddNecessaryMethods(){this.TwitterDetectorFeed.ExtractAd=this.processAndSendTwitterAd.bind(this),this.TwitterDetectorFeed.isVideo=this.isVideo.bind(this),this.TwitterDetectorFeed.HideElement=this.HideElement.bind(this),this.TwitterDetectorFeed.IsAdContentRendered=this.IsAdContentRendered.bind(this),this.TwitterDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.TwitterDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.TwitterDetectorFeed.getAdTwitterObject=this.getAdTwitterObject.bind(this)}DeactivateDetectors(W){this.TwitterDetectorFeed.DeactivateDetector(W)}IsAdContentRendered(W,q){let k=!1;if(W){let u=W.querySelectorAll(this.twConfig.PROGRESS_SELECTOR);if(u&&0===u.length){let u=O.GetFullElementSize(W);if(u.w>0){O.GetImagesSpacePercentage(this.twConfig.TAGS_FOR_LOADING_CHECK,W,u).some((W=>W>=q))&&(k=!0)}}}return k}processAndSendTwitterAd(W,q,k=!1,O=document){let b=O.querySelector(`[${p.ATTRIBUTE_BIS_ID}=${W}]`);b&&(s.SendCandidatePlacementsCount(this.id,1,p.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER,null),s.SendAdCandidates(this.id,[q],p.MESSAGE_TYPE_CANDIDATES_DATA_TWITTER,null),u.GW&&u.vW&&(b.style.cssText+=k?p.STYLES_OUTLINE_VIDEO_AD:p.STYLES_OUTLINE_SUCCESS_DETECT))}}},9473:(W,q,k)=>{const u=k(2880),O=k(1568),p=k(655);W.exports=class extends p{constructor(W,q,k,O){super(W,q,O),this.available=!1,this.twConfig=k,this.AdBlockerAgent=O,this.feedObserver=null,this.activated=!1,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.lastFeedPostAdsCheckTime=u.GetCurrentTimestampMs(),this.lastFeedWhoToFollowAdsCheckTime=u.GetCurrentTimestampMs(),this.feedContainer=null}isVideo(W,q){}HideElement(){}IsAdContentRendered(W,q){}doesElementExists(W){}setSizesAndIdForAllElements(W){}getAdTwitterObject(W,q,k){}ActualizeDetector(){return this.feedContainer=this.getFeedContainer,!!this.feedContainer}get getFeedContainer(){const W=this.twConfig.FEED.CONTAINER;let q=Array.from(document.querySelectorAll(W)).filter((W=>W&&W.children.length>2));return q&&q.length?q[0]:null}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.startIntervalDetectCandidates.bind(this,O.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processAdsFromFeed()}processAdsFromFeed(){this.processFeedAds(),this.processFeedWhoToFollowAds()}processFeedAds(){this.extractOccurrences(O.TWITTER_AD_PLACEMENT_TYPE_FEED)}processFeedWhoToFollowAds(){this.extractOccurrences(O.TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW)}allCellsAndMinImgSpace(W){let q=[],k=0;return W===O.TWITTER_AD_PLACEMENT_TYPE_FEED?(this.feedContainer&&(q=Array.from(this.feedContainer.children)),k=this.twConfig.FEED.MIN_IMGS_SPACE_PERCENTAGE):W===O.TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW&&(q=Array.from(document.querySelectorAll(this.twConfig.FEED.WHO_TO_FOLLOW_SELECTOR)),k=this.twConfig.FEED.WHO_TO_FOLLOW_MIN_IMGS_SPACE_PERCENTAGE),q=q.filter((W=>this.isPromoted(W))),{allCells:q,minImgSquarePercentage:k}}extractOccurrences(W){let{allCells:q,minImgSquarePercentage:k}=this.allCellsAndMinImgSpace(W);if(q.length)for(const p of q)if(!p.hasAttribute(O.ATTRIBUTE_BIS_ID)&&!p.hasAttribute(O.ATTRIBUTE_BIS_SIZE)&&this.IsAdContentRendered(p,k)){let q,k=u.GenerateAndSetBisIdToTwitterAds(p);this.setSizesAndIdForAllElements(p);let b=this.isVideo(p,this.twConfig.FEED.TAGS_FOR_VIDEO_TWEET_CHECK);const s=p.cloneNode(!0);let y=this.buildBannerHtml(s,W),E=this.chooseContent(p,y);q=this.getAdTwitterObject(E,p,W,this.twConfig.COLLECT_ALTERNATIVE_HTML_CONTENT),W===O.TWITTER_AD_PLACEMENT_TYPE_FEED&&(b&&!this.isCarouselCandidate(p)?q.videoData={}:!b&&this.isCarouselCandidate(p)&&this.twConfig.COLLECT_CAROUSEL_DATA&&(q.carouselData={})),this.AdBlockerAgent.IsEnabledForTwitter()&&!this.AdBlockerAgent.IsElementHidden(p)&&(this.HideElement(p),this.AdBlockerAgent.SetHiddenAmount(1)),setTimeout(this.ExtractAd.bind(this,k,q,b),100)}}chooseContent(W,q){return this.twConfig.COLLECT_ALTERNATIVE_HTML_CONTENT?q:W.querySelector(this.twConfig.FEED.TWEETS_SELECTOR)?W.querySelector(this.twConfig.FEED.TWEETS_SELECTOR):W}buildBannerHtml(W,q){let k=this.feedContainer;this.setWrapperClass(k),W.style.transform="none",W.style.position="relative";let u=this.headCopyWithStyles;const O=document.createElement("html"),p=document.createElement("body"),b=document.createElement("div"),s=k.cloneNode();return s.style.minHeight="auto",b.appendChild(s),this.setWrapperStyles(k,b),O.appendChild(u),s.appendChild(W),p.appendChild(b),O.appendChild(p),O}setWrapperClass(W){let q=W.parentElement,k=!1;if(q)for(let u=0;u<50&&!k&&q;u++)if(q.nextSibling&&-1!==q.nextSibling.nodeName.search(/style/i)&&q.previousSibling&&-1!==q.previousSibling.nodeName.search(/style/i)){let u=q.getAttribute("class");W.className+=W.className.length?" "+u:u,k=!0}else q=q.parentElement}setWrapperStyles(W,q){q.style.cssText=q.style.cssText+`max-width: ${this.maxWidthContainer(W)}`}maxWidthContainer(W){return W?W.offsetWidth+"px":"auto"}get headCopyWithStyles(){const W=document.createElement("head"),q=this.#N();if(q){let k=document.createElement("style");k.innerHTML=q,W.appendChild(k)}const k=Array.from(document.querySelectorAll("head meta")).map((W=>{if(W)return W.cloneNode(!0)}));return k&&k.forEach((q=>{W.appendChild(q)})),W}#N(){const W=Array.from(document.styleSheets);let q=[];for(let k of W)try{q.push(k.cssRules)}catch(W){}return q.reduce(((W,q)=>{for(let k of q)k?.cssText&&(W+=k.cssText+"\n");return W}),"")}isPromoted(W){if(W){let q=Array.from(W.querySelectorAll(this.twConfig.PROMOTED_SELECTOR));if(q.length)return q.some((W=>{let q=W.textContent;return!(!q||"string"!=typeof q)&&this.twConfig.PROMOTED_ALIASES.some((W=>{let k=q.toLowerCase().trim().split(" ");return k.length<6&&k.includes(W.toLowerCase().trim())}))}))}return!1}isCarouselCandidate(W){if(W){if(W.querySelector(this.twConfig.FEED.CHECK_IF_CAROUSEL_QUERY))return!0}return!1}}},5473:()=>{},1402:(W,q,k)=>{const u=k(2880);W.exports=class{constructor(W){this.id=W}InjectDetector(){if(document.head){let W=document.createElement("script"),q=function(){document.head.appendChild(W),window.removeEventListener("DOMContentLoaded",q)};this.setAttributes(W),window.addEventListener("DOMContentLoaded",q)}}setAttributes(W){const q=u.getURL("../executors/twitter.js");W.setAttribute("bis_use","true"),W.type="text/javascript",W.setAttribute("charset","utf-8"),W.setAttribute("nonce",""),W.src=q}}},2880:(W,q,k)=>{const u=k(1568);class O{static QuerySelectorAll(W,q){return document.__proto__.querySelectorAll.call(W,q)}static QuerySelector(W,q){return document.__proto__.querySelector.call(W,q)}static Escape(W){return W.replace(/\"/g,"&quot;")}static ToJSON(W){return"function"==typeof W.toJSON?W.toJSON():JSON.stringify(W)}static GetBaseHref(){let W=O.QuerySelector(document,"base");return W&&W.href?W.href:""}static GetTabIdKey(W){return"tb_"+W}static GetMainPageId(W){return"mp_"+W}static IsOnChromeRuntime(){let W=!0;if(chrome){if(chrome.runtime){try{chrome.runtime.getManifest()}catch(q){W=!1}if(W)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(chrome.app)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(self.navigator.userAgent.toLowerCase().includes("firefox"))return!!chrome.runtime;return!1}static GetElementSize(W){let q={x:0,y:0,w:0,h:0};if(W&&W.getBoundingClientRect){let k=W.getBoundingClientRect();q={x:~~(k.left+window.scrollX),y:~~(k.top+window.scrollY),w:~~k.width,h:~~k.height}}return q}static IsCoordinatesValid(W){return!!(W&&W.hasOwnProperty("x")&&"number"==typeof W.x&&W.hasOwnProperty("y")&&"number"==typeof W.y)}static GetFullElementSize(W,q,k){let u=O.GetElementSize(W);return O.IsCoordinatesValid(k)&&(u.x=u.x+k.x,u.y=u.y+k.y),O.IsCoordinatesValid(q)?(u.abs_x=u.x+q.x,u.abs_y=u.y+q.y):(u.abs_x=u.x,u.abs_y=u.y),u}static SetFullSizeToElement(W,q,k){let u={x:0,y:0,w:0,h:0};return O.IsCoordinatesValid(k)&&(u.x=u.x+k.x,u.y=u.y+k.y),W&&W.setAttribute&&(u=O.GetFullElementSize(W,q,k),W.setAttribute("bis_size",O.ToJSON(u))),u}static GenerateAndSetBisId(W,q){let k=q+O.GenerateQuickId();return W&&W.setAttribute&&W.setAttribute(u.ATTRIBUTE_BIS_ID,k),k}static GenerateAndSetBisIdToFrame(W){return O.GenerateAndSetBisId(W,"fr_")}static GenerateAndSetBisIdToBanner(W){return O.GenerateAndSetBisId(W,"bn_")}static GenerateAndSetBisIdToPinterestAds(W){return O.GenerateAndSetBisId(W,"pt_")}static GenerateAndSetBisIdToInstagramAds(W){return O.GenerateAndSetBisId(W,"ig_")}static GenerateAndSetBisIdToLinkedinAds(W){return O.GenerateAndSetBisId(W,"ln_")}static GenerateAndSetBisIdToFBAds(W){return O.GenerateAndSetBisId(W,"fb_")}static GenerateAndSetBisIdToTwitterAds(W){return O.GenerateAndSetBisId(W,"tw_")}static GenerateAndSetBisIdToRedditAds(W){return O.GenerateAndSetBisId(W,"rd_")}static SetBisDepth(W,q){W&&W.setAttribute&&W.setAttribute("bis_depth",q)}static SetBisChainId(W,q){W&&W.setAttribute&&W.setAttribute("bis_chainid",q)}static SetBannerId(W,q){W&&W.setAttribute&&W.setAttribute("bis_bannerid",q)}static UpdateCandidateStatusBorderColor(W,q){if(W&&W.style&&W.style.cssText&&q){let k="";q.filteredOut?k=u.STYLES_BORDER_BANNER_FILTERED:q.sentToBackend?k=u.STYLES_BORDER_BANNER_SENT:q.targetUrlExtracted?k=u.STYLES_BORDER_BANNER_URL_EXTRACTED:q.fullContentExtracted&&(k=u.STYLES_BORDER_BANNER_CONTENT_EXTRACTED);let O=W.style.cssText;O.includes(k)||(O=O.replace(/((border|outline): .{3,20} solid 6px !important;)|((border|outline): 6px solid .{3,20} !important;)/,k),W.style.cssText=O)}}static GetMainDomainFromHost(W){if(W&&W.split){let q=W.split(".");if(q.length>=2){let W=q[q.length-2],k=q[q.length-1];return q.length>=3&&2===k.length&&3===W.length?`${q[q.length-3]}.${W}.${k}`:W+"."+k}}return null}static GetMainDomainFromUrl(W){return O.GetMainDomainFromHost(O.GetHostNameFromUrl(W))}static GetHostNameFromUrl(W){let q=W.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=q&&q.length>2&&"string"==typeof q[2]&&q[2].length>0?q[2]:null}static IsUrlFromHost(W,q){return-1!==W.indexOf(O.GetMainDomainFromUrl(q))}static IsPublisherInBlacklist(W,q){let k=!1,u=O.GetHostNameFromUrl(W);return q&&q.length&&u&&q.includes(u)&&(k=!0),k}static GetUrlFromStyleStr(W){let q=W.replace(/"/g,"'"),k=q.indexOf("http");-1===k&&(k=q.indexOf("//"));let u=q.indexOf("'",k),O="";return k>0&&u>0&&k<u&&(O=q.substr(k,u-k)),O}static GetCurrentDataTimeStr(W=null){function q(W){return W<10?"0"+W:""+W}let k=W?new Date(W):new Date;return`${k.getFullYear()}-${q(k.getMonth()+1)}-${q(k.getDate())} ${q(k.getHours())}:${q(k.getMinutes())}:${q(k.getSeconds())}`}static GetCurrentDataTimeStrWithGMT(W=null){function q(W){return W<10?"0"+W:""+W}let k=W?new Date(W):new Date;return`${k.getFullYear()}-${q(k.getMonth()+1)}-${q(k.getDate())} ${q(k.getHours())}:${q(k.getMinutes())}:${q(k.getSeconds())} ${k.toTimeString().match(/GMT.\S*/)[0]}`}static GetWindowSize(){return{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}}static IsIframeHasContentScript(W){try{if(W&&!O.IsIframeSecure(W)&&"ok"!==W.contentDocument.body.getAttribute("bis_status"))return!1}catch(W){}return!0}static IsIframeSecure(W){return!W||0!==W.src.length&&"about:blank"!==W.src&&"about:srcdoc"!==W.src&&0!==W.src.indexOf("javascript:")}static isValidUrl(W){return"string"==typeof W&&W.length>0&&(-1!==W.indexOf("http")||-1!==W.indexOf("//"))}static IsValidBisId(W){return!!(W.startsWith("mp_")||W.startsWith("bg_")||W.startsWith("fr_"))}static IsYouTubeUrl(W){let q=O.GetHostNameFromUrl(W);return!!q&&-1!==q.indexOf("youtube.com")}static IsFacebookUrl(W){let q=O.GetHostNameFromUrl(W);return!!q&&-1!==q.indexOf("facebook.com")}static IsTwitterUrl(W){let q=O.GetHostNameFromUrl(W);return!!q&&-1!==q.search(/twitter|x\.com/)}static IsRedditUrl(W){let q=O.GetHostNameFromUrl(W);return!!q&&-1!==q.indexOf("reddit.com")}static IsPinterestUrl(W){let q=O.GetHostNameFromUrl(W);return!!q&&-1!==q.search(/pinterest\.(com|ca|at|ch|cl|co\.kr|com\.au|com\.mx|co\.uk|de|dk|es|fr|ie|it|jp|nz|ph|pt|se)/)}static IsInstagramUrl(W){let q=O.GetHostNameFromUrl(W);return!!q&&-1!==q.indexOf("instagram.com")}static IsLinkedinUrl(W){let q=O.GetHostNameFromUrl(W);return!!q&&-1!==q.indexOf("linkedin.com")}static IsTiktokUrl(W){return!!~O.GetHostNameFromUrl(W).indexOf("tiktok.com")}static IsTwitchUrl(W){let q=O.GetHostNameFromUrl(W);return!!q&&-1!==q.indexOf("twitch.tv")}static isClaudeUrl(W,q){const k=q?.BW?.URL_PATTERN,u=O.GetHostNameFromUrl(W);return!!k&&O.getRegExpFromString(k).test(u)}static isChatgptUrl(W,q){const k=q?.tW?.URL_PATTERN,u=O.GetHostNameFromUrl(W);return!!k&&O.getRegExpFromString(k).test(u)}static isDeepseekUrl(W,q){const k=q?.JW?.URL_PATTERN,u=O.GetHostNameFromUrl(W);return!!k&&O.getRegExpFromString(k).test(u)}static isCopilotUrl(W,q){const k=q?.cW?.URL_PATTERN,u=O.GetHostNameFromUrl(W);return!!k&&O.getRegExpFromString(k).test(u)}static isPerplexityUrl(W,q){const k=q?.eW?.URL_PATTERN,u=O.GetHostNameFromUrl(W);return!!k&&O.getRegExpFromString(k).test(u)}static isMetaUrl(W,q){const k=q?.wW?.URL_PATTERN,u=O.GetHostNameFromUrl(W);return!!k&&O.getRegExpFromString(k).test(u)}static isGeminiUrl(W,q){const k=q?.mW?.URL_PATTERN,u=O.GetHostNameFromUrl(W);return!!k&&O.getRegExpFromString(k).test(u)}static isGrokUrl(W,q){const k=q?.oW?.URL_PATTERN,u=O.GetHostNameFromUrl(W);return!!k&&O.getRegExpFromString(k).test(u)}static isAI(W,q){return[O.isClaudeUrl,O.isChatgptUrl,O.isCopilotUrl,O.isDeepseekUrl,O.isPerplexityUrl,O.isMetaUrl,O.isGeminiUrl,O.isGrokUrl].some((k=>k(W,q)))}static GetFullIdStr(W,q,k){return`ext:${chrome.runtime.id}-chainId:${W}-frameId:${q}-bisId:${k}`}static GetRandomIntInRange(W,q){return parseInt((Math.random()*(q-W)+W).toFixed(0))}static GetCurrentTimestamp(){return Date.now()/1e3|0}static GetCurrentTimestampMs(){return Date.now()}static GenerateQuickId(){return(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22)}static GenerateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(W){let q=16*Math.random()|0;return("x"==W?q:3&q|8).toString(16)}))}static IsInFilterList(W,q){let k=!1;if(W)for(let u=0;u<W.length&&!k;u++)-1!==q.indexOf(W[u])&&(k=!0);return k}static IsChrome(){return-1!==navigator.userAgent.indexOf("Chrome")}static IsFirefox(){return-1!==navigator.userAgent.indexOf("Firefox")}static IsFBVideoDataValid(W){let q=!1;if(W)try{"number"==typeof W.detectionTime&&"string"==typeof W.videoId&&"string"==typeof W.videoUrl&&W.videoId.length&&W.videoUrl.length&&(q=!0)}catch(W){}return q}static GetDefaultAdblockerStatus(){return{[u.ADBLOCKER_FOR_DISPLAY]:u.ADBLOCKER_STATUS_DISABLED,[u.ADBLOCKER_FOR_FACEBOOK]:u.ADBLOCKER_STATUS_DISABLED,[u.ADBLOCKER_FOR_TWITTER]:u.ADBLOCKER_STATUS_DISABLED,[u.ADBLOCKER_FOR_REDDIT]:u.ADBLOCKER_STATUS_DISABLED,[u.ADBLOCKER_FOR_PINTEREST]:u.ADBLOCKER_STATUS_DISABLED,[u.ADBLOCKER_FOR_INSTAGRAM]:u.ADBLOCKER_STATUS_DISABLED,[u.ADBLOCKER_FOR_TIKTOK]:u.ADBLOCKER_STATUS_DISABLED,[u.ADBLOCKER_FOR_LINKEDIN]:u.ADBLOCKER_STATUS_DISABLED,[u.USE_LOCAL_CONFIG]:u.ADBLOCKER_STATUS_DISABLED}}static GetImagesSpacePercentage(W,q,k){let u=[];if(!q)return u;const p=k.w*k.h;let b=[],s=Array.from(q.querySelectorAll("*")).map((q=>q.shadowRoot?q.shadowRoot.querySelectorAll(W):"IMG"===q.nodeName||"IFRAME"===q.nodeName?q:q.querySelectorAll(W))).filter((W=>W)).reduce(((W,q)=>(q&&q.length&&q.forEach((q=>{W.includes(q)||W.push(q)})),"IMG"!==q.nodeName&&"IFRAME"!==q.nodeName||W.push(q),W)),[]);if(!s?.length||0===p)return u;for(let q of s){let k=q;k&&k.shadowRoot&&(k=k.shadowRoot.firstElementChild.querySelector(W));let u=O.GetElementSize(k);b.push(u.w*u.h/p*100)}return b}static CheckDocumentReadyState(W){return document.readyState===W}static getURL(W){return chrome.runtime.getURL(W)}static getDataFromStorageLocal(W){return chrome.storage.local.get([W]).then((q=>q[W]?q[W]:q))}static getDataFromStorageSync(W){return new Promise(((q,k)=>{try{chrome.storage.sync.get([W]).then((k=>{k[W]?q(k[W]):q(k)}))}catch(W){k(W)}}))}static GetCookie(W){let q=W+"=",k=decodeURIComponent(document.cookie).split(";");for(let W=0;W<k.length;W++){let u=k[W];for(;" "==u.charAt(0);)u=u.substring(1);if(0==u.indexOf(q))return u.substring(q.length,u.length)}return""}static GetOriginFromHref(W){W&&W.search(/^http/)}static GetLocaleDateString(){try{return(new Date).toJSON().replace("T",", ")}catch(W){return(new Date).toTimeString()}}static GetAllCookies(){return document.cookie}static async waitForElement(W,q=1e4){return new Promise(((k,u)=>{const O=document.querySelector(W);if(O)return k(O);const p=new MutationObserver((()=>{const q=document.querySelector(W);q&&(p.disconnect(),k(q))}));p.observe(document.body,{childList:!0,subtree:!0}),q&&setTimeout((()=>{p.disconnect(),u(new Error(`Element ${W} not found within timeout`))}),q)}))}static getRegExpFromString(W){let q=W.replace(/.*\/([gimy]*)$/,"$1"),k=W.replace(new RegExp("^/(.*?)/"+q+"$"),"$1");return new RegExp(k,q)}}W.exports=O},1568:(W,q,k)=>{const u=k(9358);W.exports=class{static get DOCUMENT_READYSTATE_LOADING(){return"loading"}static get DOCUMENT_READYSTATE_INTERACTIVE(){return"interactive"}static get DOCUMENT_READYSTATE_COMPLETE(){return"complete"}static get ATTRIBUTE_BIS_ID(){return"bis_id"}static get ATTRIBUTE_BIS_SIZE(){return"bis_size"}static get ATTRIBUTE_BIS_STYLE(){return"bis_style"}static get ATTRIBUTE_BIS_STATUS(){return"bis_status"}static get ATTRIBUTE_BIS_LABEL(){return"bis_label"}static get ATTRIBUTE_BIS_ELEMENT_ID(){return"bis_element_id"}static get ATTRIBUTE_BIS_HIDE_HEIGHT(){return"bis_hide_height"}static get ATTRIBUTE_BIS_HIDE_WIDTH(){return"bis_hide_width"}static get ATTRIBUTE_BIS_HIDE_STATUS(){return"bis_hide_status"}static get ATTRIBUTE_BIS_HIDE_LEFT_OFFSET(){return"bis_hide_left_offset"}static get ATTRIBUTE_BIS_PRECISE_AD(){return"bis_precise_ad"}static get ACTIVATION_BY_ADS_MANAGER(){return"ACTIVATION_BY_ADS_MANAGER"}static get ACTIVATION_BY_ADS_SELF(){return"ACTIVATION_BY_ADS_SELF"}static get MESSAGE_ID(){return"PANELOS_MESSAGE"}static get MESSAGE_TYPE_TEST(){return"TEST"}static get MESSAGE_TYPE_IFRAME_CONTENT(){return"IFRAME_CONTENT"}static get MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME"}static get MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE"}static get MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT(){return"IFRAME_INVALID_CHAIN_SEGMENT_CONTENT"}static get MESSAGE_TYPE_TAB_INITIALIZATION(){return"TAB_INITIALIZATION"}static get MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION(){return"TAB_SINGLE_PAGE_REINITIALIZATION"}static get MESSAGE_TYPE_TAB_URL_CHANGED(){return"TAB_URL_CHANGED"}static get MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED(){return"TAB_ADBLOCKER_STATUS_CHANGED"}static get MESSAGE_TYPE_IFRAME_INITIALIZATION(){return"IFRAME_INITIALIZATION"}static get MESSAGE_TYPE_IFRAME_INITIALIZATION_RESPONSE(){return"IFRAME_INITIALIZATION_RESPONSE"}static get MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS(){return"IFRAME_CONTENT_INFO_DETECTED_INPUTS"}static get MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS(){return"IFRAME_CONTENT_INFO_DETECTED_REDIRECTS"}static get MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT(){return"HIDDEN_AD_CANDIDATES_AMOUNT"}static get MESSAGE_TYPE_GET_WINDOW_TARGET_URL(){return"GET_WINDOW_TARGET_URL"}static get MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND(){return"GET_WINDOW_TARGET_URL_RESPOND"}static get MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL(){return"GET_WINDOW_CLICK_TARGET_URL"}static get MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND(){return"GET_WINDOW_CLICK_TARGET_URL_RESPOND"}static get MESSAGE_TYPE_GET_FRAME_CONTENT(){return"GET_FRAME_CONTENT"}static get MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK(){return"TARGET_URL_DETECTION_BY_CLICK"}static get MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET(){return"NEW_PAGE_CREATED_TICKET"}static get MESSAGE_TYPE_PANEL_REGULATOR_RESULT(){return"PANEL_REGULATOR_RESULT"}static get MESSAGE_TYPE_OUT_TICKET(){return"OUT_TICKET"}static get MESSAGE_TYPE_CHAIN_ACTIVATION(){return"CHAIN_ACTIVATION"}static get MESSAGE_TYPE_HEADER_INFO_TO_STORAGE(){return"HEADER_INFO_TO_STORAGE"}static get MESSAGE_TYPE_LINKEDIN_FRAME_CONTENT_TO_STORAGE(){return"LINKEDIN_FRAME_CONTENT_TO_STORAGE"}static get MESSAGE_TYPE_CANDIDATES_DATA_SKINADS(){return"CANDIDATES_DATA_SKINADS"}static get MESSAGE_TYPE_CANDIDATES_DATA_BANNERS(){return"CANDIDATES_DATA_BANNERS"}static get MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK(){return"CANDIDATES_DATA_FACEBOOK"}static get MESSAGE_TYPE_CANDIDATES_VIDEO_DATA_TWITCH(){return"CANDIDATES_VIDEO_DATA_TWITCH"}static get MESSAGE_TYPE_CANDIDATES_DATA_TWITTER(){return"CANDIDATES_DATA_TWITTER"}static get MESSAGE_TYPE_CANDIDATES_DATA_REDDIT(){return"CANDIDATES_DATA_REDDIT"}static get MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST(){return"CANDIDATES_DATA_PINTEREST"}static get MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM(){return"CANDIDATES_DATA_INSTAGRAM"}static get MESSAGE_TYPE_CANDIDATES_DATA_LINKEDIN(){return"CANDIDATES_DATA_LINKEDIN"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK(){return"CANDIDATE_PLACEMENTS_FACEBOOK"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER(){return"CANDIDATE_PLACEMENTS_TWITTER"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT(){return"CANDIDATE_PLACEMENTS_REDDIT"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST(){return"CANDIDATE_PLACEMENTS_PINTEREST"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5(){return"CANDIDATE_PLACEMENTS_HTML5"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM(){return"CANDIDATE_PLACEMENTS_INSTAGRAM"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_LINKEDIN(){return"CANDIDATE_PLACEMENTS_LINKEDIN"}static get MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES(){return"HTML5_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES(){return"BANNER_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES(){return"SKIN_AD_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_VIDEO_XHR_CANDIDATE(){return"VIDEO_XHR_CANDIDATE"}static get MESSAGE_TYPE_VIDEO_HAR(){return"VIDEO_HAR"}static get MESSAGE_TYPE_FACEBOOK_VIDEO_DATA(){return"FACEBOOK_VIDEO_DATA"}static get MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA(){return"FACEBOOK_INSTREAM_DATA"}static get MESSAGE_TYPE_FACEBOOK_MARKETPLACE_VIDEO_DATA(){return"FACEBOOK_MARKETPLACE_VIDEO_DATA"}static get MESSAGE_TYPE_FACEBOOK_CANVAS_TEXT(){return"FACEBOOK_CANVAS_TEXT"}static get MESSAGE_TYPE_PINTEREST_VIDEO_DATA(){return"PINTEREST_VIDEO_DATA"}static get MESSAGE_TYPE_TWITTER_VIDEO_DATA(){return"TWITTER_VIDEO_DATA"}static get MESSAGE_TYPE_TWITTER_CAROUSEL_DATA(){return"TWITTER_CAROUSEL_DATA"}static get MESSAGE_TYPE_REDDIT_VIDEO_DATA(){return"REDDIT_VIDEO_DATA"}static get MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA(){return"REDDIT_RIGHT_COLUMN_DATA"}static get MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA(){return"INSTAGRAM_VIDEO_DATA"}static get MESSAGE_TYPE_INSTAGRAM_STORY_DATA(){return"INSTAGRAM_STORY_DATA"}static get MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA(){return"INSTAGRAM_FULL_TEXT_DATA"}static get MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES(){return"INSTAGRAM_CAROUSEL_SLIDES_SOURCES"}static get MESSAGE_TYPE_LINKEDIN_VIDEO_DATA(){return"LINKEDIN_VIDEO_DATA"}static get MESSAGE_TYPE_LINKEDIN_SLIDES_DATA(){return"LINKEDIN_SLIDES_DATA"}static get MESSAGE_TYPE_VIDEO_TWITCH_INSTREAM_DATA(){return"VIDEO_TWITCH_INSTREAM_DATA"}static get MESSAGE_TYPE_VIDEO_TWITCH_ACCESS_TOKEN_DATA(){return"VIDEO_XHR_ACCESS_TOKEN_DATA"}static get MESSAGE_TYPE_TIKTOK_FEED_DATA(){return"TIKTOK_FEED_DATA"}static get MESSAGE_TYPE_TIKTOK_VIDEO_CANDIDATES(){return"TIKTOK_VIDEO_CANDIDATES"}static get MESSAGE_TYPE_CLAUDE_DATA(){return"CLAUDE_DATA"}static get MESSAGE_TYPE_CHATGPT_DATA(){return"CHATGPT_DATA"}static get MESSAGE_TYPE_CHATGPT_PROTECTION_CHECK_RESPONSE(){return"CHATGPT_PROTECTION_CHECK_RESPONSE"}static get MESSAGE_TYPE_CHATGPT_PROTECTION_NO_WARNINGS(){return"CHATGPT_PROTECTION_NO_WARNINGS"}static get MESSAGE_TYPE_CHATGPT_PROTECTION_CLEAR_TIMEOUT(){return"CHATGPT_PROTECTION_CLEAR_TIMEOUT"}static get MESSAGE_TYPE_CHATGPT_PROTECTION_STATUS(){return"CHATGPT_PROTECTION_STATUS"}static get MESSAGE_TYPE_CHATGPT_PROTECTION_STATUS_RESPONSE(){return"CHATGPT_PROTECTION_STATUS_RESPONSE"}static get MESSAGE_TYPE_GEMINI_DATA(){return"GEMINI_DATA"}static get MESSAGE_TYPE_COPILOT_DATA(){return"COPILOT_DATA"}static get MESSAGE_TYPE_PERPLEXITY_DATA(){return"PERPLEXITY_DATA"}static get MESSAGE_TYPE_META_AI_DATA(){return"META_AI_DATA"}static get MESSAGE_TYPE_DEEPSEEK_DATA(){return"DEEPSEEK_DATA"}static get MESSAGE_TYPE_GROK_DATA(){return"GROK_DATA"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANALYTICS_ID(){return"GET_PANALYTICS_ID"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANELOS_VERSION(){return"GET_PANELOS_VERSION"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_STATUS(){return"GET_ADBLOCKER_STATUS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_COUNTERS(){return"GET_ADBLOCKER_COUNTERS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_ADBLOCKER(){return"ENABLE_ADBLOCKER"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_ADBLOCKER(){return"DISABLE_ADBLOCKER"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_DATA_COLLECTION_STATUS(){return"GET_DATA_COLLECTION_STATUS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_DATA_COLLECTION(){return"ENABLE_DATA_COLLECTION"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_DATA_COLLECTION(){return"DISABLE_DATA_COLLECTION"}static get MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT(){return"ADBLOCK_INSPECTOR_AGENT_REPORT"}static get MESSAGE_TYPE_GET_EXCLUDE_LIST(){return"GET_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_INTO_EXCLUDE_LIST(){return"ADD_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_REMOVE_FROM_EXCLUDE_LIST(){return"REMOVE_FROM_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST(){return"ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST(){return"ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_GET_CURRENT_DOMAIN(){return"GET_CURRENT_DOMAIN"}static get MESSAGE_TYPE_GET_CURRENT_PAGE_URL(){return"GET_CURRENT_PAGE_URL"}static get MESSAGE_TYPE_USE_LOCAL_CONFIG(){return"USE_LOCAL_CONFIG"}static get MESSAGE_TYPE_GET_LOCAL_CONFIG_STATUS(){return"GET_LOCAL_CONFIG_STATUS"}static get ADBLOCKER_STATUS_ENABLED(){return"enabled"}static get ADBLOCKER_STATUS_DISABLED(){return"disabled"}static get VIDEO_TRAFFIC_SOURCE_HTML(){return"HTML"}static get VIDEO_TRAFFIC_SOURCE_JS(){return"JS"}static get VIDEO_TRAFFIC_SOURCE_XHR(){return"XHR"}static get VIDEO_TRAFFIC_MEDIA_TYPE_HTML(){return"HTML"}static get VIDEO_TRAFFIC_FACEBOOK_MEDIA_TYPE_JSON(){return"JSON"}static get VIDEO_TRAFFIC_FACEBOOK_MEDIA_ALIAS_JSON(){return"JSON_FB"}static get VIDEO_TRAFFIC_ALIAS_YT_JSON_NEXTPAGE(){return"YT_JSON_NEXTPAGE"}static get VIDEO_TRAFFIC_ALIAS_YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE(){return"YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE"}static get FACEBOOK_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH(){return"feedWatch"}static get FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE(){return"marketplace"}static get FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN(){return"rightColumn"}static get FACEBOOK_AD_PLACEMENT_TYPE_STORIES(){return"stories"}static get FACEBOOK_AD_PLACEMENT_TYPE_VIDEO_PAGE(){return"videoPage"}static get FACEBOOK_AD_VIDEO_URL_REPLACE_NAME(){return"[ADVERTISER_NAME]"}static get FACEBOOK_AD_VIDEO_URL_REPLACE_VIDEO_ID(){return"[VIDEO_ID]"}static get TWITTER_AD_PLACEMENT_TYPE_FEED(){return"feedPost"}static get TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW(){return"feedWhoToFollow"}static get TWITTER_AD_PLACEMENT_TYPE_RIGHT_COLUMN_WHO_TO_FOLLOW(){return"rightColumnWhoToFollow"}static get REDDIT_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get REDDIT_AD_PLACEMENT_TYPE_COMMENT_PAGE(){return"commentPage"}static get REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN(){return"rightColumn"}static get LINKEDIN_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get LINKEDIN_AD_PLACEMENT_TYPE_RIGHT_COLUMN(){return"rightColumn"}static get PINTEREST_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get PINTEREST_AD_PLACEMENT_TYPE_SEARCH(){return"searchPage"}static get PINTEREST_AD_PLACEMENT_TYPE_PIN(){return"pinPage"}static get PINTEREST_LOADER_TYPE_PIN_PAGE(){return"pinPage"}static get PINTEREST_LOADER_TYPE_USER_INFO(){return"userInfo"}static get INSTAGRAM_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get INSTAGRAM_AD_PLACEMENT_TYPE_STORY(){return"story"}static get TIKTOK_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get KNOWN_CSS_NAMES(){return["align-content","align-items","align-self","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","block-size","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start-color","border-block-start-style","border-block-start-width","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-end-end-radius","border-end-start-radius","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-adjust","color-interpolation","color-interpolation-filters","column-count","column-fill","column-gap","column-rule-color","column-rule-style","column-rule-width","column-width","contain","content","counter-increment","counter-reset","counter-set","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","fill","fill-opacity","fill-rule","filter","flex-basis","flex-direction","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column-end","grid-column-start","grid-row-end","grid-row-start","grid-template-areas","grid-template-columns","grid-template-rows","height","hyphens","image-orientation","image-rendering","ime-mode","inline-size","inset-block-end","inset-block-start","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","lighting-color","line-break","line-height","list-style-image","list-style-position","list-style-type","margin-block-end","margin-block-start","margin-bottom","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marker-end","marker-mid","marker-start","mask","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-position-x","mask-position-y","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","object-fit","object-position","opacity","order","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-inline","overflow-wrap","overflow-x","overflow-y","overscroll-behavior-x","overscroll-behavior-y","padding-block-end","padding-block-start","padding-bottom","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","paint-order","perspective","perspective-origin","pointer-events","position","quotes","r","resize","right","row-gap","ruby-align","ruby-position","rx","ry","scroll-behavior","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","scrollbar-color","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","table-layout","text-align","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-offset","top","touch-action","transform","transform-box","transform-origin","transform-style","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vector-effect","vertical-align","visibility","white-space","width","will-change","word-break","word-spacing","writing-mode","x","y","z-index","-moz-appearance","-moz-box-align","-moz-box-direction","-moz-box-flex","-moz-box-ordinal-group","-moz-box-orient","-moz-box-pack","-moz-float-edge","-moz-force-broken-image-icon","-moz-image-region","-moz-orient","-moz-outline-radius-bottomleft","-moz-outline-radius-bottomright","-moz-outline-radius-topleft","-moz-outline-radius-topright","-moz-stack-sizing","-moz-tab-size","-moz-text-size-adjust","-moz-user-focus","-moz-user-input","-moz-user-modify","-moz-window-dragging","-webkit-line-clamp","-webkit-text-fill-color","-webkit-text-stroke-color","-webkit-text-stroke-width","offset-distance","offset-path","offset-rotate","orphans","speak","tab-size","text-underline-position","text-size-adjust","widows","zoom","-webkit-appearance","-webkit-border-horizontal-spacing","-webkit-border-image","-webkit-border-vertical-spacing","-webkit-box-align","-webkit-box-decoration-break","-webkit-box-direction","-webkit-box-flex","-webkit-box-ordinal-group","-webkit-box-orient","-webkit-box-pack","-webkit-box-reflect","column-span","backdrop-filter","-webkit-font-smoothing","-webkit-highlight","-webkit-hyphenate-character","-webkit-line-break","-webkit-locale","-webkit-margin-before-collapse","-webkit-margin-after-collapse","-webkit-mask-box-image","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat","-webkit-mask-box-image-slice","-webkit-mask-box-image-source","-webkit-mask-box-image-width","-webkit-mask-clip","-webkit-mask-composite","-webkit-mask-image","-webkit-mask-origin","-webkit-mask-position","-webkit-mask-repeat","-webkit-mask-size","-webkit-print-color-adjust","-webkit-rtl-ordering","-webkit-tap-highlight-color","-webkit-text-combine","-webkit-text-decorations-in-effect","-webkit-text-emphasis-color","-webkit-text-emphasis-position","-webkit-text-emphasis-style","-webkit-text-orientation","-webkit-text-security","-webkit-user-drag","-webkit-user-modify","-webkit-writing-mode","-webkit-app-region","buffered-rendering","color-rendering","alignment-baseline","baseline-shift","d"]}static get FACEBOOK_DESIGN_VERSION_OLD(){return 1}static get FACEBOOK_DESIGN_VERSION_NEW(){return 2}static get OUT_TICKET_TYPE_SINGLE(){return"SINGLE"}static get OUT_TICKET_TYPE_MULTI(){return"MULTI"}static get ADBLOCKER_FOR_DISPLAY(){return"DISPLAY"}static get ADBLOCKER_FOR_FACEBOOK(){return"FACEBOOK"}static get ADBLOCKER_FOR_TWITTER(){return"TWITTER"}static get ADBLOCKER_FOR_REDDIT(){return"REDDIT"}static get ADBLOCKER_FOR_PINTEREST(){return"PINTEREST"}static get ADBLOCKER_FOR_INSTAGRAM(){return"INSTAGRAM"}static get ADBLOCKER_FOR_TIKTOK(){return"TIKTOK"}static get ADBLOCKER_FOR_LINKEDIN(){return"LINKEDIN"}static get USE_LOCAL_CONFIG(){return"CONFIG"}static get AD_DETECTOR_INITIATOR_TIMER(){return"timer"}static get AD_DETECTOR_INITIATOR_MUTATION(){return"mutation"}static get AD_DETECTOR_INITIATOR_PAGECHANGE(){return"pagechange"}static get AD_DETECTOR_INITIATOR_ACTIVATION(){return"activation"}static get AD_DETECTOR_INITIATOR_URL(){return"url"}static get AD_DETECTOR_INITIATOR_SCROLL_EVENT(){return"scroll"}static get IFRAMES_CHAIN_BUILDING_STATUS_NONE(){return 0}static get IFRAMES_CHAIN_BUILDING_STATUS_INITED(){return 1}static get IFRAMES_CHAIN_BUILDING_STATUS_STARTED(){return 2}static get IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_STARTED(){return 3}static get IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_FINISHED(){return 4}static get IFRAMES_CHAIN_BUILDING_STATUS_FINISHED(){return 5}static get IFRAMES_TRAFFIC_FILENAME_TO_INJECT(){return"fr-co.js"}static get CANDIDATE_PROCESS_STATUS_DETECTED(){return 1}static get CANDIDATE_PROCESS_STATUS_START_PROCESSING(){return 2}static get CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED(){return 3}static get CANDIDATE_PROCESS_STATUS_PREBUILD_INFO_SENT(){return 4}static get TICKET_BUILDING_STATUS_INIT(){return 0}static get TICKET_BUILDING_STATUS_STARTED(){return 1}static get TICKET_BUILDING_STATUS_GETTING_WEBNAVIGATION_IFRAMES(){return 2}static get TICKET_BUILDING_STATUS_GOT_WEBNAVIGATION_IFRAMES(){return 3}static get TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_ACTIVE(){return 4}static get TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_DONE(){return 5}static get TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_ACTIVE(){return 6}static get TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_DONE(){return 7}static get TICKET_BUILDING_STATUS_DONE(){return 8}static get MESSAGE_TYPE_CONFIG_NOT_FOUND(){return"CONFIG_NOT_FOUND"}static get MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE(){return"CONFIG_UPDATED_IN_STORAGE"}static get TICKET_ALIAS_PANALYTICSID(){return u.decode("cGFuZWxpc3RJZA==")}static get TICKET_ALIAS_PINSTANCEID(){return u.decode("cGFuZWxJZA==")}static get MAX_OUT_TICKETS_QUEUE_LENGTH(){return 20}static EXCLUDE_DOMAINS_LIST(){return"EXCLUDE_DOMAINS_LIST"}static EXCLUDE_PAGES_LIST(){return"EXCLUDE_PAGES_LIST"}static get STYLES_BORDER_BANNER_CONTENT_EXTRACTED(){return"border: 6px solid blue !important;"}static get STYLES_BORDER_BANNER_URL_EXTRACTED(){return"border: 6px solid blueviolet !important;"}static get STYLES_BORDER_BANNER_FILTERED(){return"border: 6px solid orange !important;"}static get STYLES_BORDER_BANNER_SENT(){return"border: 6px solid green !important;"}static get STYLES_OUTLINE_SUCCESS_DETECT(){return"outline: green solid 6px !important;"}static get STYLES_OUTLINE_VIDEO_AD(){return"outline: rgba(42, 213, 255, 1) solid 6px !important;"}static get STYLES_OUTLINE_TEXT_AD(){return"outline: rgba(243, 143, 20, 1) solid 6px !important;"}static get STYLES_CONSOLE_LOGS_INFO(){return"background-color: rgba(108, 101, 224, 0.2); color: rgba(58, 191, 224, 1)"}static get STYLES_CONSOLE_LOGS_ERROR(){return"background-color: rgba(241, 0, 43, 0.4); color: rgba(58, 191, 224, 1)"}static get STYLES_HIDE_INSTAGRAM_FEED_AD(){return["position: absolute !important; height: 0px !important; margin: 0px !important; padding: 0px !important; overflow: hidden !important;","height: 0px !important; visibility: hidden !important;"]}static get STYLES_HIDE_ELEMENT(){return"left: -10000px !important; position: absolute !important; height: 0;"}}},6882:(W,q,k)=>{const u=k(1568),O=k(2880);W.exports=class{static get EmptyMessage(){return{posdMessageId:u.MESSAGE_ID,posdHash:O.GenerateQuickId(),from:"",to:"",multiTo:[],type:"",content:""}}static IsValid(W){try{if(void 0!==W&&void 0!==W.posdMessageId&&void 0!==W.type&&void 0!==W.content)return W.posdMessageId===u.MESSAGE_ID}catch(W){throw W}return!1}static IsStrictValid(W){try{if(void 0!==W&&void 0!==W.posdMessageId&&void 0!==W.from&&void 0!==W.to&&void 0!==W.type&&void 0!==W.content)return W.posdMessageId===u.MESSAGE_ID}catch(W){throw W}return!1}}},533:(W,q,k)=>{const u=k(1568);W.exports=class{constructor(){}getStylesByElementsBisId(W){let q={};return this.addStylesForNode(W,q),W.querySelectorAll("*").forEach((W=>{this.addStylesForNode(W,q)})),q}addStylesForNode(W,q){let k=this.getStyles(W);q[W.getAttribute(u.ATTRIBUTE_BIS_ELEMENT_ID)]=k}getStyles(W){let q=window.getComputedStyle(W,null);return this.minimiseComputedStyles(q)}minimiseComputedStyles(W){let q={};for(let k=0;k<W.length;k++){let O=W.item(k),p=W.getPropertyValue(O);q[p]||(q[p]=[]);let b=u.KNOWN_CSS_NAMES.indexOf(O);b>=0?q[p].push(b):q[p].push(O)}return q}}},9358:W=>{var q={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(W,k=!0){if(TextEncoder&&atob&&btoa&&k)return q.bytesToBase64((new TextEncoder).encode(W));let u,O,p,b,s,y,E,R="",i=0;for(W=q._utf8_encode(W);i<W.length;)u=W.charCodeAt(i++),O=W.charCodeAt(i++),p=W.charCodeAt(i++),b=u>>2,s=(3&u)<<4|O>>4,y=(15&O)<<2|p>>6,E=63&p,isNaN(O)?y=E=64:isNaN(p)&&(E=64),R=R+this._keyStr.charAt(b)+this._keyStr.charAt(s)+this._keyStr.charAt(y)+this._keyStr.charAt(E);return R},decode:function(W,k=!0){if("{"===W[0])return W;if(TextDecoder&&atob&&btoa&&k)return(new TextDecoder).decode(q.base64ToBytes(W));let u,O,p,b,s,y,E,R="",i=0;for(W=W.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<W.length;)b=this._keyStr.indexOf(W.charAt(i++)),s=this._keyStr.indexOf(W.charAt(i++)),y=this._keyStr.indexOf(W.charAt(i++)),E=this._keyStr.indexOf(W.charAt(i++)),u=b<<2|s>>4,O=(15&s)<<4|y>>2,p=(3&y)<<6|E,R+=String.fromCharCode(u),64!=y&&(R+=String.fromCharCode(O)),64!=E&&(R+=String.fromCharCode(p));return R=q._utf8_decode(R),R},_utf8_encode:function(W){W=W.replace(/\r\n/g,"\n");let q="";for(let k=0;k<W.length;k++){let u=W.charCodeAt(k);u<128?q+=String.fromCharCode(u):u>127&&u<2048?(q+=String.fromCharCode(u>>6|192),q+=String.fromCharCode(63&u|128)):(q+=String.fromCharCode(u>>12|224),q+=String.fromCharCode(u>>6&63|128),q+=String.fromCharCode(63&u|128))}return q},_utf8_decode:function(W){let q="",k=0,u=0,O=0,p=0;for(;k<W.length;)u=W.charCodeAt(k),u<128?(q+=String.fromCharCode(u),k++):u>191&&u<224?(O=W.charCodeAt(k+1),q+=String.fromCharCode((31&u)<<6|63&O),k+=2):(O=W.charCodeAt(k+1),p=W.charCodeAt(k+2),q+=String.fromCharCode((15&u)<<12|(63&O)<<6|63&p),k+=3);return q},base64ToBytes:function(W){const q=atob(W);return Uint8Array.from(q,(W=>W.codePointAt(0)))},bytesToBase64:function(W){const q=Array.from(W,(W=>String.fromCodePoint(W))).join("");return btoa(q)}};W.exports=q}},q={};function k(u){var O=q[u];if(void 0!==O)return O.exports;var p=q[u]={exports:{}};return W[u](p,p.exports,k),p.exports}k.n=W=>{var q=W&&W.__esModule?()=>W.default:()=>W;return k.d(q,{a:q}),q},k.d=(W,q)=>{for(var u in q)k.o(q,u)&&!k.o(W,u)&&Object.defineProperty(W,u,{enumerable:!0,get:q[u]})},k.o=(W,q)=>Object.prototype.hasOwnProperty.call(W,q),(()=>{"use strict";k(7452);const W=k(1568),q=k(3129),u=k(3870),O=k(2880);if(self===top){(new q).Init()}else if(O.CheckDocumentReadyState(W.DOCUMENT_READYSTATE_LOADING))document.addEventListener("DOMContentLoaded",(()=>{(new u).Init()}));else if(O.CheckDocumentReadyState(W.DOCUMENT_READYSTATE_INTERACTIVE)||O.CheckDocumentReadyState(W.DOCUMENT_READYSTATE_COMPLETE)){(new u).Init()}})()})();