!function(i){"use strict";function m(n,e,r){return e<=n&&n<=r}"undefined"!=typeof module&&module.exports&&!i["encoding-indexes"]&&(i["encoding-indexes"]=require("./encoding-indexes.js")["encoding-indexes"]);var u=Math.floor;function s(n){if(void 0===n)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function a(n){return 0<=n&&n<=127}var l=a,_=-1;function f(n){this.tokens=[].slice.call(n),this.tokens.reverse()}f.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():_},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.pop());else this.tokens.push(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.shift());else this.tokens.unshift(n)}};var b=-1;function w(n,e){if(n)throw TypeError("Decoder error");return e||65533}function c(n){throw TypeError("The code point "+n+" could not be encoded.")}function t(n){return n=String(n).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(r,n)?r[n]:null}var n=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],r={};n.forEach(function(n){n.encodings.forEach(function(e){e.labels.forEach(function(n){r[n]=e})})});var o,d,h={},p={};function y(n,e){return e&&e[n]||null}function g(n,e){n=e.indexOf(n);return-1===n?null:n}function v(n){if(!("encoding-indexes"in i))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return i["encoding-indexes"][n]}var x="utf-8";function O(n,e){if(!(this instanceof O))throw TypeError("Called as a function. Did you forget 'new'?");n=void 0!==n?String(n):x,e=s(e),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var r=t(n);if(null===r||"replacement"===r.name)throw RangeError("Unknown encoding: "+n);if(!p[r.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");n=this;return n._encoding=r,Boolean(e.fatal)&&(n._error_mode="fatal"),Boolean(e.ignoreBOM)&&(n._ignoreBOM=!0),Object.defineProperty||(this.encoding=n._encoding.name.toLowerCase(),this.fatal="fatal"===n._error_mode,this.ignoreBOM=n._ignoreBOM),n}function k(n,e){if(!(this instanceof k))throw TypeError("Called as a function. Did you forget 'new'?");e=s(e),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(e.fatal)?"fatal":"replacement";if(Boolean(e.NONSTANDARD_allowLegacyEncoding)){e=t(n=void 0!==n?String(n):x);if(null===e||"replacement"===e.name)throw RangeError("Unknown encoding: "+n);if(!h[e.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=e}else this._encoding=t("utf-8"),void 0!==n&&0 in i;return Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase()),this}function e(n){var r=n.fatal,i=0,t=0,o=0,s=128,u=191;this.handler=function(n,e){if(e===_&&0!==o)return o=0,w(r);if(e===_)return b;if(0===o){if(m(e,0,127))return e;if(m(e,194,223))o=1,i=31&e;else if(m(e,224,239))224===e&&(s=160),237===e&&(u=159),o=2,i=15&e;else{if(!m(e,240,244))return w(r);240===e&&(s=144),244===e&&(u=143),o=3,i=7&e}return null}if(!m(e,s,u))return i=o=t=0,s=128,u=191,n.prepend(e),w(r);if(s=128,u=191,i=i<<6|63&e,(t+=1)!==o)return null;e=i;return i=o=t=0,e}}function E(n){n.fatal;this.handler=function(n,e){if(e===_)return b;if(l(e))return e;var r,i;m(e,128,2047)?(r=1,i=192):m(e,2048,65535)?(r=2,i=224):m(e,65536,1114111)&&(r=3,i=240);for(var t=[(e>>6*r)+i];0<r;)t.push(128|63&e>>6*(r-1)),--r;return t}}function j(r,n){var i=n.fatal;this.handler=function(n,e){if(e===_)return b;if(a(e))return e;e=r[e-128];return null===e?w(i):e}}function B(i,n,t){n.fatal;this.handler=function(n,e){if(e===_)return b;if(l(e))return e;var r=g(e,i);return null==(r=null==r&&t&&t.index?g(e,t.index):r)&&t?t.replacement:(null===r&&c(e),r+128)}}function S(n){var o=n.fatal,s=0,u=0,l=0;this.handler=function(n,e){if(e===_&&0===s&&0===u&&0===l)return b;var r;if(e!==_||0===s&&0===u&&0===l||(l=u=s=0,w(o)),0!==l){r=null,m(e,48,57)&&(r=function(n){if(39419<n&&n<189e3||1237575<n)return null;if(7457===n)return 59335;for(var e=0,r=0,i=v("gb18030-ranges"),t=0;t<i.length;++t){var o=i[t];if(!(o[0]<=n))break;e=o[0],r=o[1]}return r+n-e}(10*(126*(10*(s-129)+u-48)+l-129)+e-48));var i=[u,l,e];return l=u=s=0,null===r?(n.prepend(i),w(o)):r}if(0!==u)return m(e,129,254)?(l=e,null):(n.prepend([u,e]),u=s=0,w(o));if(0===s)return a(e)?e:128===e?8364:m(e,129,254)?(s=e,null):w(o);if(m(e,48,57))return u=e,null;var t=s,i=null;return s=0,null===(r=null===(i=m(e,64,126)||m(e,128,254)?190*(t-129)+(e-(e<127?64:65)):i)?null:y(i,v("gb18030")))&&a(e)&&n.prepend(e),null===r?w(o):r}}function T(n,o){n.fatal;this.handler=function(n,e){if(e===_)return b;if(l(e))return e;if(58853===e)return c(e);if(o&&8364===e)return 128;if(null!==(i=g(e,v("gb18030")))){var r=i%190;return[u(i/190)+129,r+(r<63?64:65)]}if(o)return c(e);var i=function(n){if(59335===n)return 7457;for(var e=0,r=0,i=v("gb18030-ranges"),t=0;t<i.length;++t){var o=i[t];if(!(o[1]<=n))break;e=o[1],r=o[0]}return r+n-e}(e),t=u(i/10/126/10),r=u((i-=10*t*126*10)/10/126),e=u((i-=10*r*126)/10);return[t+129,r+48,e+129,48+(i-10*e)]}}function I(n){var t=n.fatal,o=0;this.handler=function(n,e){if(e===_&&0!==o)return o=0,w(t);if(e===_&&0===o)return b;if(0===o)return a(e)?e:m(e,129,254)?(o=e,null):w(t);var r=o,i=null;switch(o=0,i=m(e,64,126)||m(e,161,254)?157*(r-129)+(e-(e<127?64:98)):i){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}i=null===i?null:y(i,v("big5"));return null===i&&a(e)&&n.prepend(e),null===i?w(t):i}}function U(n){n.fatal;this.handler=function(n,e){if(e===_)return b;if(l(e))return e;var r=(r=e,i=d=d||v("big5").map(function(n,e){return e<5024?null:n}),9552===r||9566===r||9569===r||9578===r||21313===r||21317===r?i.lastIndexOf(r):g(r,i));if(null===r)return c(e);var i=u(r/157)+129;if(i<161)return c(e);r%=157;return[i,r+(r<63?64:98)]}}function C(n){var t=n.fatal,o=!1,s=0;this.handler=function(n,e){if(e===_&&0!==s)return s=0,w(t);if(e===_&&0===s)return b;if(142===s&&m(e,161,223))return s=0,65216+e;if(143===s&&m(e,161,254))return o=!0,s=e,null;if(0===s)return a(e)?e:142===e||143===e||m(e,161,254)?(s=e,null):w(t);var r=s;s=0;var i=null;return m(r,161,254)&&m(e,161,254)&&(i=y(94*(r-161)+(e-161),v(o?"jis0212":"jis0208"))),o=!1,m(e,161,254)||n.prepend(e),null===i?w(t):i}}function A(n){n.fatal;this.handler=function(n,e){if(e===_)return b;if(l(e))return e;if(165===e)return 92;if(8254===e)return 126;if(m(e,65377,65439))return[142,e-65377+161];var r=g(e=8722===e?65293:e,v("jis0208"));return null===r?c(e):[u(r/94)+161,r%94+161]}}function L(n){var t=n.fatal,o=0,s=1,u=2,l=3,a=4,f=5,c=6,d=o,h=o,p=0,g=!1;this.handler=function(n,e){switch(d){default:case o:return 27===e?(d=f,null):m(e,0,127)&&14!==e&&15!==e&&27!==e?(g=!1,e):e===_?b:(g=!1,w(t));case s:return 27===e?(d=f,null):92===e?(g=!1,165):126===e?(g=!1,8254):m(e,0,127)&&14!==e&&15!==e&&27!==e&&92!==e&&126!==e?(g=!1,e):e===_?b:(g=!1,w(t));case u:return 27===e?(d=f,null):m(e,33,95)?(g=!1,65344+e):e===_?b:(g=!1,w(t));case l:return 27===e?(d=f,null):m(e,33,126)?(g=!1,p=e,d=a,null):e===_?b:(g=!1,w(t));case a:if(27===e)return d=f,w(t);if(m(e,33,126)){d=l;var r=y(94*(p-33)+e-33,v("jis0208"));return null===r?w(t):r}return e===_?(d=l,n.prepend(e),w(t)):(d=l,w(t));case f:return 36===e||40===e?(p=e,d=c,null):(n.prepend(e),g=!1,d=h,w(t));case c:var i=p;p=0;r=36!==i||64!==e&&66!==e?40===i&&73===e?u:40===i&&74===e?s:40===i&&66===e?o:null:l;if(null===r)return n.prepend([i,e]),g=!1,d=h,w(t);d=r;r=g;return g=!0,r?w(t):null}}}function M(n){n.fatal;var i=0,t=1,o=2,s=i;this.handler=function(n,e){if(e===_&&s!==i)return n.prepend(e),s=i,[27,40,66];if(e===_&&s===i)return b;if(!(s!==i&&s!==t||14!==e&&15!==e&&27!==e))return c(65533);if(s===i&&l(e))return e;if(s===t&&(l(e)&&92!==e&&126!==e||165==e||8254==e)){if(l(e))return e;if(165===e)return 92;if(8254===e)return 126}if(l(e)&&s!==i)return n.prepend(e),s=i,[27,40,66];if((165===e||8254===e)&&s!==t)return n.prepend(e),s=t,[27,40,74];var r=g(e=8722===e?65293:e,v("jis0208"));return null===r?c(e):s!==o?(n.prepend(e),s=o,[27,36,66]):[u(r/94)+33,r%94+33]}}function P(n){var t=n.fatal,o=0;this.handler=function(n,e){if(e===_&&0!==o)return o=0,w(t);if(e===_&&0===o)return b;if(0===o)return a(e)||128===e?e:m(e,161,223)?65216+e:m(e,129,159)||m(e,224,252)?(o=e,null):w(t);var r=o,i=null;if(o=0,(m(e,64,126)||m(e,128,252))&&(i=188*(r-(r<160?129:193))+e-(e<127?64:65)),m(i,8836,10715))return 48508+i;i=null===i?null:y(i,v("jis0208"));return null===i&&a(e)&&n.prepend(e),null===i?w(t):i}}function D(n){n.fatal;this.handler=function(n,e){if(e===_)return b;if(l(e)||128===e)return e;if(165===e)return 92;if(8254===e)return 126;if(m(e,65377,65439))return e-65377+161;var r=(r=e=8722===e?65293:e,(o=o||v("jis0208").map(function(n,e){return m(e,8272,8835)?null:n})).indexOf(r));if(null===r)return c(e);e=u(r/188),r%=188;return[e+(e<31?129:193),r+(r<63?64:65)]}}function F(n){var t=n.fatal,o=0;this.handler=function(n,e){if(e===_&&0!==o)return o=0,w(t);if(e===_&&0===o)return b;if(0===o)return a(e)?e:m(e,129,254)?(o=e,null):w(t);var r=o,i=null;o=0;r=null===(i=m(e,65,254)?190*(r-129)+(e-65):i)?null:y(i,v("euc-kr"));return null===i&&a(e)&&n.prepend(e),null===r?w(t):r}}function J(n){n.fatal;this.handler=function(n,e){if(e===_)return b;if(l(e))return e;var r=g(e,v("euc-kr"));return null===r?c(e):[u(r/190)+129,r%190+65]}}function K(n,e){var r=n>>8,n=255&n;return e?[r,n]:[n,r]}function R(i,n){var t=n.fatal,o=null,s=null;this.handler=function(n,e){if(e===_&&(null!==o||null!==s))return w(t);if(e===_&&null===o&&null===s)return b;if(null===o)return o=e,null;var r=i?(o<<8)+e:(e<<8)+o;if((o=null)===s)return m(r,55296,56319)?(s=r,null):m(r,56320,57343)?w(t):r;e=s;return s=null,m(r,56320,57343)?65536+1024*(e-55296)+(r-56320):(n.prepend(K(r,i)),w(t))}}function G(i,n){n.fatal;this.handler=function(n,e){if(e===_)return b;if(m(e,0,65535))return K(e,i);var r=K(55296+(e-65536>>10),i),e=K(56320+(e-65536&1023),i);return r.concat(e)}}function N(n){n.fatal;this.handler=function(n,e){return e===_?b:a(e)?e:63360+e-128}}function q(n){n.fatal;this.handler=function(n,e){return e===_?b:l(e)?e:m(e,63360,63487)?e-63360+128:c(e)}}Object.defineProperty&&(Object.defineProperty(O.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(O.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(O.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),O.prototype.decode=function(n,e){n="object"==typeof n&&n instanceof ArrayBuffer?new Uint8Array(n):"object"==typeof n&&"buffer"in n&&n.buffer instanceof ArrayBuffer?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(0);e=s(e),this._do_not_flush||(this._decoder=p[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(e.stream);for(var r,i=new f(n),t=[];;){var o=i.read();if(o===_)break;if((r=this._decoder.handler(i,o))===b)break;null!==r&&(Array.isArray(r)?t.push.apply(t,r):t.push(r))}if(!this._do_not_flush){for(;(r=this._decoder.handler(i,i.read()))!==b&&(null!==r&&(Array.isArray(r)?t.push.apply(t,r):t.push(r)),!i.endOfStream()););this._decoder=null}return function(n){var e,r;return e=["UTF-8","UTF-16LE","UTF-16BE"],r=this._encoding.name,-1===e.indexOf(r)||this._ignoreBOM||this._BOMseen||(0<n.length&&65279===n[0]?(this._BOMseen=!0,n.shift()):0<n.length&&(this._BOMseen=!0)),function(n){for(var e="",r=0;r<n.length;++r){var i=n[r];i<=65535?e+=String.fromCharCode(i):(i-=65536,e+=String.fromCharCode(55296+(i>>10),56320+(1023&i)))}return e}(n)}.call(this,t)},Object.defineProperty&&Object.defineProperty(k.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),k.prototype.encode=function(n,e){n=void 0===n?"":String(n),e=s(e),this._do_not_flush||(this._encoder=h[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(e.stream);for(var r,i=new f(function(n){for(var e=String(n),r=e.length,i=0,t=[];i<r;){var o,s=e.charCodeAt(i);s<55296||57343<s?t.push(s):56320<=s&&s<=57343?t.push(65533):55296<=s&&s<=56319&&(i!==r-1&&56320<=(o=e.charCodeAt(i+1))&&o<=57343?(t.push(65536+((1023&s)<<10)+(1023&o)),i+=1):t.push(65533)),i+=1}return t}(n)),t=[];;){var o=i.read();if(o===_)break;if((r=this._encoder.handler(i,o))===b)break;Array.isArray(r)?t.push.apply(t,r):t.push(r)}if(!this._do_not_flush){for(;;){if((r=this._encoder.handler(i,i.read()))===b)break;Array.isArray(r)?t.push.apply(t,r):t.push(r)}this._encoder=null}return new Uint8Array(t)},h["UTF-8"]=function(n){return new E(n)},p["UTF-8"]=function(n){return new e(n)},"encoding-indexes"in i&&n.forEach(function(n){"Legacy single-byte encodings"===n.heading&&n.encodings.forEach(function(n){var n=n.name,e=v(n.toLowerCase()),r=function(n){var e=i["encode-fallback-replacement"];if(e){n=e[n];if(n)return{replacement:n.replacement,index:v(n.index)}}return null}(n.toLowerCase());p[n]=function(n){return new j(e,n)},h[n]=function(n){return new B(e,n,r)}})}),p.GBK=function(n){return new S(n)},h.GBK=function(n){return new T(n,!0)},h.gb18030=function(n){return new T(n)},p.gb18030=function(n){return new S(n)},h.Big5=function(n){return new U(n)},p.Big5=function(n){return new I(n)},h["EUC-JP"]=function(n){return new A(n)},p["EUC-JP"]=function(n){return new C(n)},h["ISO-2022-JP"]=function(n){return new M(n)},p["ISO-2022-JP"]=function(n){return new L(n)},h.Shift_JIS=function(n){return new D(n)},p.Shift_JIS=function(n){return new P(n)},h["EUC-KR"]=function(n){return new J(n)},p["EUC-KR"]=function(n){return new F(n)},h["UTF-16BE"]=function(n){return new G(!0,n)},p["UTF-16BE"]=function(n){return new R(!0,n)},h["UTF-16LE"]=function(n){return new G(!1,n)},p["UTF-16LE"]=function(n){return new R(!1,n)},h["x-user-defined"]=function(n){return new q(n)},p["x-user-defined"]=function(n){return new N(n)},i.TextEncoder||(i.TextEncoder=k),i.TextDecoder||(i.TextDecoder=O),"undefined"!=typeof module&&module.exports&&(module.exports={TextEncoder:i.TextEncoder,TextDecoder:i.TextDecoder,EncodingIndexes:i["encoding-indexes"]})}(this||{});