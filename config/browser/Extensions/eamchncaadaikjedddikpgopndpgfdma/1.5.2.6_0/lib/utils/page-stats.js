adguard.pageStats=function(a){"use strict";a.i18n&&a.i18n.getMessage("popup_statistics_total");const s="page-statistic",r={get stats(){return a.lazyGet(r,"stats",()=>{let t;try{var e=a.localStorage.getItem(s);e&&(t=JSON.parse(e))}catch(t){a.console.error("Error retrieve page statistic from storage, cause {0}",t)}return t||Object.create(null)})},save:a.utils.concurrent.throttle(function(){a.localStorage.setItem(s,JSON.stringify(this.stats))},a.prefs.statsSaveInterval),clear:function(){a.localStorage.removeItem(s),a.lazyGetClear(r,"stats")}};return{PRIVATE_PROTOTYPE_NAME:"private",ADBLOCK_PROTOTYPE_NAME:"adblock",NSFW_PROTOTYPE_NAME:"nsfw",resetStats:function(){r.clear()},updateTotalBlocked:function(t,e){const a=r.stats;e?a.totalPrivacyed=(a.totalPrivacyed||0)+t:a.totalBlocked=(a.totalBlocked||0)+t,r.save()},updateStats:function(t,e,a){a=`${(a=!a instanceof Date?new Date:a).getFullYear()}-${a.getMonth()+1}-`+a.getDate();r.stats[t]||(r.stats[t]=Object.create(null));let s=r.stats[t];s[a]=s[a]?s[a]+e:e,r.save()},getTotalBlocked:function(){return r.stats},getStatisticsData:()=>r.stats,getTotalPrivacyed:function(){var t=r.stats;return t&&t.totalPrivacyed||0}}}(adguard);