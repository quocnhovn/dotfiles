adguard.settings=function(_){"use strict";function E(t){if(t in i)return i[t];if(!_.localStorage.isInitialized())return r.defaults[t];let e=null;if(_.localStorage.hasItem(t))try{e=JSON.parse(_.localStorage.getItem(t))}catch(e){_.console.error("Error get property {0}, cause: {1}",t,e)}else t in r.defaults&&(e=r.defaults[t]);return i[t]=e,e}const n={DISABLE_DETECT_FILTERS:"detect-filters-disabled",DISABLE_SHOW_PAGE_STATS:"disable-show-page-statistic",DISABLE_SHOW_ADGUARD_PROMO_INFO:"show-info-about-adguard-disabled",DISABLE_SAFEBROWSING:"safebrowsing-disabled",DISABLE_ALLOW_ACCEPTABLE_ADS:"allow-appeptable-ads-disable",DISABLE_FILTERING:"adguard-disabled",DISABLE_COLLECT_HITS:"hits-count-disabled",DISABLE_SHOW_CONTEXT_MENU:"context-menu-disabled",USE_OPTIMIZED_FILTERS:"use-optimized-filters",DEFAULT_WHITE_LIST_MODE:"default-whitelist-mode",DISABLE_SHOW_APP_UPDATED_NOTIFICATION:"show-app-updated-disabled",FILTERS_UPDATE_PERIOD:"filters-update-period",DISABLE_STEALTH_MODE:"stealth_disable_stealth_mode",HIDE_REFERRER:"stealth-hide-referrer",HIDE_SEARCH_QUERIES:"stealth-hide-search-queries",SEND_DO_NOT_TRACK:"stealth-send-do-not-track",BLOCK_CHROME_CLIENT_DATA:"stealth-remove-x-client",BLOCK_WEBRTC:"stealth-block-webrtc",SELF_DESTRUCT_THIRD_PARTY_COOKIES:"stealth-block-third-party-cookies",SELF_DESTRUCT_THIRD_PARTY_COOKIES_TIME:"stealth-block-third-party-cookies-time",SELF_DESTRUCT_FIRST_PARTY_COOKIES:"stealth-block-first-party-cookies",SELF_DESTRUCT_FIRST_PARTY_COOKIES_TIME:"stealth-block-first-party-cookies-time",STRIP_TRACKING_PARAMETERS:"strip-tracking-parameters",DISABLE_ALLOW_PROTECT_BAD_CONTENT:"allow-protect-bad-content"},i=Object.create(null),S=_.utils.channels.newChannel(),r={get defaults(){return _.lazyGet(this,"defaults",()=>{const e=Object.create(null);for(const t in n)n.hasOwnProperty(t)&&(e[n[t]]=!1);return e[n.DISABLE_FILTERING]=_.uoschannel.disable,e[n.DISABLE_SHOW_ADGUARD_PROMO_INFO]=!_.utils.browser.isWindowsOs()&&!_.utils.browser.isMacOs()||_.utils.browser.isEdgeBrowser(),e[n.DISABLE_SAFEBROWSING]=!0,e[n.DISABLE_ALLOW_ACCEPTABLE_ADS]=!0,e[n.DISABLE_COLLECT_HITS]=!0,e[n.DEFAULT_WHITE_LIST_MODE]=!0,e[n.USE_OPTIMIZED_FILTERS]=_.prefs.mobile,e[n.DISABLE_DETECT_FILTERS]=!1,e[n.DISABLE_SHOW_APP_UPDATED_NOTIFICATION]=!1,e[n.FILTERS_UPDATE_PERIOD]=-1,e[n.DISABLE_STEALTH_MODE]=!0,e[n.HIDE_REFERRER]=!0,e[n.HIDE_SEARCH_QUERIES]=!0,e[n.SEND_DO_NOT_TRACK]=!0,e[n.BLOCK_CHROME_CLIENT_DATA]=!!_.utils.browser.isChromeBrowser(),e[n.BLOCK_WEBRTC]=!1,e[n.SELF_DESTRUCT_THIRD_PARTY_COOKIES]=!0,e[n.SELF_DESTRUCT_THIRD_PARTY_COOKIES_TIME]=2880,e[n.SELF_DESTRUCT_FIRST_PARTY_COOKIES]=!1,e[n.SELF_DESTRUCT_FIRST_PARTY_COOKIES_TIME]=4320,e[n.STRIP_TRACKING_PARAMETERS]=!0,e[n.DISABLE_ALLOW_PROTECT_BAD_CONTENT]=_.uoschannel.pornSwitch||!1,e})}},T=(e,t)=>{_.localStorage.setItem(e,JSON.stringify(t)),i[e]=t,S.notify(e,t),_.listeners.notifyListeners(_.listeners.SETTING_UPDATED,{propertyName:e,propertyValue:t})};const e={};for(const t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e.getProperty=E,e.setProperty=T,e.getAllSettings=function(){const e={names:Object.create(null),values:Object.create(null),defaultValues:Object.create(null)};for(const _ in n){var t;n.hasOwnProperty(_)&&(t=n[_],e.names[_]=t,e.values[t]=E(t),e.defaultValues[t]=r.defaults[t])}return e},e.onUpdated=S,e.isFilteringDisabled=function(){return E(n.DISABLE_FILTERING)},e.changeFilteringDisabled=function(e){T(n.DISABLE_FILTERING,e)},e.isAutodetectFilters=function(){return!E(n.DISABLE_DETECT_FILTERS)},e.changeAutodetectFilters=function(e,t){T(n.DISABLE_DETECT_FILTERS,!e)},e.showPageStatistic=function(){return!E(n.DISABLE_SHOW_PAGE_STATS)},e.changeShowPageStatistic=function(e,t){T(n.DISABLE_SHOW_PAGE_STATS,!e)},e.isShowInfoAboutAdguardFullVersion=function(){return!E(n.DISABLE_SHOW_ADGUARD_PROMO_INFO)},e.changeShowInfoAboutAdguardFullVersion=function(e,t){T(n.DISABLE_SHOW_ADGUARD_PROMO_INFO,!e)},e.isShowAppUpdatedNotification=function(){return!E(n.DISABLE_SHOW_APP_UPDATED_NOTIFICATION)},e.changeShowAppUpdatedNotification=function(e,t){T(n.DISABLE_SHOW_APP_UPDATED_NOTIFICATION,!e)},e.changeEnableSafebrowsing=function(e,t){T(n.DISABLE_SAFEBROWSING,!e)},e.changeEnableAllowAds=function(e,t){T(n.DISABLE_ALLOW_ACCEPTABLE_ADS,e)},e.safebrowsingInfoEnabled=function(){return!E(n.DISABLE_SAFEBROWSING)},e.collectHitsCount=function(){return!E(n.DISABLE_COLLECT_HITS)},e.changeCollectHitsCount=function(e,t){T(n.DISABLE_COLLECT_HITS,!e)},e.showContextMenu=function(){return!E(n.DISABLE_SHOW_CONTEXT_MENU)},e.changeShowContextMenu=function(e,t){T(n.DISABLE_SHOW_CONTEXT_MENU,!e)},e.isDefaultWhiteListMode=function(){return E(n.DEFAULT_WHITE_LIST_MODE)},e.isUseOptimizedFiltersEnabled=function(){return E(n.USE_OPTIMIZED_FILTERS)},e.changeUseOptimizedFiltersEnabled=function(e,t){T(n.USE_OPTIMIZED_FILTERS,!!e)},e.changeDefaultWhiteListMode=function(e){T(n.DEFAULT_WHITE_LIST_MODE,e)},e.getFiltersUpdatePeriod=function(){var e=E(n.FILTERS_UPDATE_PERIOD);let t=Number.parseInt(e,10);return Number.isNaN(t)&&(t=-1),t},e.setFiltersUpdatePeriod=function(e){let t=Number.parseInt(e,10);Number.isNaN(t)&&(t=-1),T(n.FILTERS_UPDATE_PERIOD,t)},e.isWebRTCDisabled=function(){return E(n.BLOCK_WEBRTC)},e.disableShowAdguardPromoInfo=function(){T(n.DISABLE_SHOW_ADGUARD_PROMO_INFO,!0)},e.isDisableShowAdguardPromoInfo=function(){return E(n.DISABLE_SHOW_ADGUARD_PROMO_INFO)},e.DEFAULT_FILTERS_UPDATE_PERIOD=-1,e.isDisableAllowAcceptableAds=function(){return!E(n.DISABLE_ALLOW_ACCEPTABLE_ADS)},e.isDisablePornSwitch=function(){return!E(n.DISABLE_ALLOW_PROTECT_BAD_CONTENT)},e.changePornSwitch=function(e,t){T(n.DISABLE_ALLOW_PROTECT_BAD_CONTENT,e)},e}(adguard);