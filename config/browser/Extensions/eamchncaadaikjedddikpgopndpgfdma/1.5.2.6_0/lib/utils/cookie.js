!function(o){const t=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;o.utils.cookie={parseCookie:function(e){if(o.utils.strings.isEmpty(e))return null;const i=[];var t=e.split(/; */);for(let e=0;e<t.length;e+=1){const s=t[e];var r,a=s.indexOf("=");a<0||(r=s.substr(0,a).trim(),a=s.substr(a+1,s.length).trim(),i.push({name:r,value:a}))}return i},parseSetCookie:function(e){if(o.utils.strings.isEmpty(e))return null;const i=e.split(";").filter(e=>!o.utils.strings.isEmpty(e)),t=i.shift(),r=t.split("="),a={name:r.shift(),value:r.join("=")};return i.forEach(e=>{const i=e.split("=");var t=i.shift().trimLeft().toLowerCase(),e=i.join("=");"expires"===t?a.expires=new Date(e):"max-age"===t?a.maxAge=parseInt(e,10):"secure"===t?a.secure=!0:"httponly"===t?a.httpOnly=!0:"samesite"===t?a.sameSite=e:a[t]=e}),a},serialize:function(e){if(!e)throw new TypeError("empty cookie data");if(!t.test(e.name))throw new TypeError("Cookie name is invalid: "+e.name);if(e.value&&!t.test(e.value))throw new TypeError("Cookie value is invalid: "+e.value);if(e.domain&&!t.test(e.domain))throw new TypeError("Cookie domain is invalid: "+e.domain);if(e.path&&!t.test(e.path))throw new TypeError("Cookie path is invalid: "+e.path);if(e.expires&&"function"!=typeof e.expires.toUTCString)throw new TypeError("Cookie expires is invalid: "+e.expires);let i=e.name+"="+e.value;if("number"!=typeof e.maxAge||Number.isNaN(e.maxAge)||(i+="; Max-Age="+Math.floor(e.maxAge)),e.domain&&(i+="; Domain="+e.domain),e.path&&(i+="; Path="+e.path),e.expires&&(i+="; Expires="+e.expires.toUTCString()),e.httpOnly&&(i+="; HttpOnly"),e.secure&&(i+="; Secure"),!o.utils.strings.isEmpty(e.sameSite))switch(e.sameSite.toLowerCase()){case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("Cookie sameSite is invalid: "+e.sameSite)}return e.priority&&(i+="; Priority="+e.priority),i}}}(adguard);