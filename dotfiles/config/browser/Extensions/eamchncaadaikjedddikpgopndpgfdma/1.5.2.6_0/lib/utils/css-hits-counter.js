const CssHitsCounter=function(){"use strict";const r=25,n="adguard",i=500;let s;function a(t,n){if(0<n.length)for(let e=0;e<n.length;e+=1){var r=n[e];-1===t.indexOf(r)&&t.push(r)}}function c(e){const t=[];t.push("<"),t.push(e.localName);var n=e["attributes"];for(let e=0;e<n.length;e+=1){const o=n[e];t.push(" "),t.push(o.name),t.push('="');var r=null===o.value?"":o.value.replace(/"/g,'\\"');t.push(r),t.push('"')}return t.push(">"),t.join("")}const d={counter:0,randomKey:function(t){t=void 0!==t?t:10;let n="";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<t;e+=1)n+=r.charAt(Math.floor(Math.random()*r.length));return n}(),isCounted(e,t){var n=e[this.randomKey];if(n){n=this[n];if(n)return n.element===e&&n.rule===t}return!1},setCounted(e,t){var n=this.getCounter();this[e[this.randomKey]=n]={element:e,rule:t}},getCounter(){return this.counter=this.counter+1,this.counter}},f=e=>{if(!e||e.indexOf(n)<0)return null;let t=decodeURIComponent(e);t=e="string"==typeof(e=t)&&1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?e.substring(1,e.length-1):e,t=t.substring(n.length);e=t.indexOf(";");return e<0?null:{filterId:parseInt(t.substring(0,e),10),ruleText:t.substring(e+1)}},u=e=>{var t=e.lastIndexOf("!important");if(-1===t)return f(e);t=e.substring(0,t).trim();return f(t)};function h(t,n,r){r=r||t.length;const o=[];for(let e=n=n||0;e<r;e+=1){var u,l,i=t[e],s=(l=i)instanceof Element&&(l=getComputedStyle(l))?f(l.content):null;s&&(u=s["filterId"],l=s["ruleText"],s=u+";"+l,d.isCounted(i,s)||(d.setCounted(i,s),o.push({filterId:u,ruleText:l,element:c(i)})))}return o}const g=function(){let t=!1;return function(){t||(t=!0,function e(t,n,r,o,u,l){var i=Math.min(r,t.length);u=u.concat(h(t,n,i)),i!==t.length?(n=r,r+=o,setTimeout(()=>{e(t,n,r,o,u,l)},5)):l(u)}(document.querySelectorAll("*"),0,r,r,[],e=>{0<e.length&&s(e),t=!1}))}}();function m(e){e.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0})}function p(e,t){var n=e.querySelectorAll("*");if(n&&0<n.length)for(let e=0;e<n.length;e+=1)t.push(n[e])}const v=e=>{if(!e)return!1;return["script"].includes(e.toLowerCase())};let y;function e(){const e=window.MutationObserver||window.WebKitMutationObserver;if(e){let n;y=new e(e=>{const o=[],u=[],l=[];e.forEach(t=>{if(0!==t.addedNodes.length)for(let e=0;e<t.addedNodes.length;e+=1){var n,r=t.addedNodes[e];r instanceof Element&&!v(r.tagName)&&(n=t["target"],!r.parentNode&&n?(o.push(r),p(r,u),y.disconnect(),t.target.appendChild(r)):r.parentNode&&n&&(l.push(r),p(r,l)))}}),0<l.length&&l.length<=r&&(0<(t=h(l)).length&&s(t));var t=[];a(t,u),a(t,o),0<t.length&&(0<(t=h(t)).length&&s(t),function(t){for(let e=0;e<t.length;e+=1){const n=t[e];n.remove()}}(o),m(y)),n&&clearTimeout(n),n=setTimeout(()=>{g(),clearTimeout(n)},i)}),m(y)}}function t(){g(),e()}return{init:function(e){if("function"!=typeof e)throw new Error('AdGuard Extension: "callback" parameter is not a function');s=e,"complete"===document.readyState||"interactive"===document.readyState?t():document.addEventListener("readystatechange",function e(){"interactive"!==document.readyState&&"complete"!==document.readyState||(t(),document.removeEventListener("readystatechange",e))})},countAffectedByExtendedCss:e=>{if("function"!=typeof s)return e;if(e&&e.rules&&0<e.rules.length){const o=[];for(var t of e.rules){var n,r;t.style&&t.style.content&&(null!==(r=u(t.style.content))&&({filterId:n,ruleText:r}=r,void 0!==n&&void 0!==r&&(o.push({filterId:n,ruleText:r,element:c(e.node)}),t.style.content="")))}s(o)}return e},parseExtendedStyleInfo:u,stop:()=>{s=()=>{},y.disconnect()}}}();