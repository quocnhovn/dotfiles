adguard.categories=function(o){"use strict";var a=function(){for(var e,s,t=o.subscriptions.getGroups(),r=(e=o.subscriptions.getFilters().filter(function(e){return!e.removed}),s=o.tags.getTags(),e.forEach(function(r){r.tagsDetails=[],r.tags.forEach(function(t){var e=s.find(function(e){return e.tagId===t});e&&(e.keyword.startsWith("reference:")||(e.keyword.startsWith("lang:")||(e.keyword=e.keyword.substring(e.keyword.indexOf(":")+1)),r.tagsDetails.push(e)))})}),e),i=[],n=0;n<t.length;n+=1){var a=t[n];a.filters=function(t,e){return e.filter(e=>e.groupId===t)}(a.groupId,r),i.push(a)}return{filters:r,categories:i}};const u=e=>!o.tags.isMobileFilter(e)||!!o.prefs.mobile;return{getFiltersMetadata:a,enableFiltersGroup:function(e){var t=o.subscriptions.getGroup(e);t&&void 0===t.enabled&&(t=function(t){var r=a();const s=[],i=o.subscriptions.getLangSuitableFilters();for(let e=0;e<r.categories.length;e+=1){const n=r.categories[e];if(n.groupId===t)return n.filters.forEach(e=>{!o.tags.isRecommendedFilter(e)||!u(e)||e.languages&&0<e.languages.length&&!i.includes(e.filterId)||s.push(e.filterId)}),s}return s}(e),o.filters.addAndEnableFilters(t)),o.filters.enableGroup(e)},disableFiltersGroup:function(e){o.filters.disableGroup(e)}}}(adguard);