const showSaveFunc=function(){let e;const s="download"in document.createElement("a"),i=window.Blob||window.WebKitBlob||window.MozBlob,d=window.URL||window.webkitURL||window.mozURL;return navigator.saveBlob=navigator.saveBlob||navigator.mozSaveBlob||navigator.webkitSaveBlob||navigator.msSaveBlob,window.saveAs=window.saveAs||window.webkitSaveAs||window.mozSaveAs||window.msSaveAs,i&&navigator.saveBlob?e=function(e,t,n){n=new i([e],{type:n});window.saveAs?window.saveAs(n,t):navigator.saveBlob(n,t)}:i&&d&&(e=function(e,t,n){let o;n=new i([e],{type:n});if(s){o=d.createObjectURL(n);const a=document.createElement("a");a.setAttribute("href",o),a.setAttribute("download",t||"Download.bin"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}else o=d.createObjectURL(n),window.open(o,"_blank","");setTimeout(()=>{d.revokeObjectURL(o)},250)}),e}();document.addEventListener("DOMContentLoaded",()=>{const n={"#uf":{title:"user_filter",messageType:"getUserRules",filename:"rules",ext:"txt"},"#wl":{title:"whitelist",messageType:"getWhiteListDomains",filename:"whitelist",ext:"txt"},"#exs":{title:"settings",messageType:"loadSettingsJson",filename:"settings",ext:"json"}}[document.location.hash],o=e=>e<10?"0"+e:""+e;contentPage.sendMessage({type:n.messageType},function({content:e,appVersion:t}){(e=>{const t=document.createElement("pre");t.textContent=e,document.body.appendChild(t)})(e);t=`${(()=>{const e=new Date;return""+e.getFullYear()+o(e.getMonth()+1)+o(e.getDate())+"_"+o(e.getHours())+o(e.getMinutes())+o(e.getSeconds())})()}_adg_ext_${n.title}_${t}.`+n.ext;showSaveFunc&&showSaveFunc(e,t,"text/plain;charset=utf-8")})});