(()=>{const W=null!==(q=sessionStorage.getItem("bis_data"))?JSON.parse(q):null;var q;const k=document.querySelector("script[bis_id]");window.bisData={id:k?k.getAttribute("bis_id")+"_w":null,html5TargetUrlDetectionConfig:W?W.config.html5TargetUrlDetectionConfig:null};const u=window.bisData.html5TargetUrlDetectionConfig,O=window.bisData.id;function p(){return(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22)}function b(W,q,k,u){if(!window.bisData)return;let O=window.bisData.html5TargetUrlDetectionConfig.TARGET_URL_CLICK_ELEMENTS_SELECTOR;var b=document.querySelectorAll(O);if(b.length){window.bisData.origWindowOpen=window.open,window.bisData.elementSquare=0,window.bisData.clickTargetUrl=[],window.bisData.clickTargetUrlProcessed=!1;var s=function(O){if(window.bisData.clickTargetUrl.some((W=>W.href===O)))return null;if(window.bisData.clickTargetUrl.push({href:O,square:window.bisData.elementSquare}),window.bisData&&window.bisData.clickTargetUrl&&window.bisData.clickTargetUrl.length){let O="GET_WINDOW_TARGET_URL"===u.type?{targetUrlList:window.bisData.clickTargetUrl}:{chainId:u.content.chainId,clickTargetUrl:window.bisData.clickTargetUrl},b={posdMessageId:"PANELOS_MESSAGE",posdHash:p(),type:`${u.type}_RESPOND`,from:W,to:W.substring(0,W.length-2),content:O};document.body&&document.body.setAttribute&&document.body.setAttribute("bis_mes_to_fr",JSON.stringify(b)),q.postMessage&&q.postMessage(b,k)}return null};window.open=s;for(var y=0;y<b.length&&0===window.bisData.clickTargetUrl.length;y++)try{if(b[y]&&b[y].click&&b[y].getBoundingClientRect){let W=b[y].getBoundingClientRect();W.width>40&&W.height>40&&(window.bisData.elementSquare=W.width*W.height,window.open==s&&b[y].click())}}catch(W){}setTimeout((()=>{window.open=window.bisData.origWindowOpen}),1e3),window.bisData.clickTargetUrlProcessed=!0}}window.addEventListener("message",(function(W){try{var q=O,k=W.data;let y=W.source,E=W.origin;if(void 0!==(s=k)&&void 0!==s.posdMessageId&&void 0!==s.from&&void 0!==s.to&&void 0!==s.type&&void 0!==s.content&&"PANELOS_MESSAGE"===s.posdMessageId&&k.to===q)if("GET_WINDOW_TARGET_URL"===k.type){let O=function(W,q,k){let u=i(q,[O,p,b,s,y,E],k);u&&u.length;return u;function O(W){if(void 0!==W.clickTag&&R(W.clickTag))return{href:W.clickTag,square:1000001}}function p(W){if(void 0!==W.adData){if(void 0!==W.adData.destination_url&&R(W.adData.destination_url))return{href:W.adData.destination_url,square:1000001};if(void 0!==W.adData.redirect_url&&R(W.adData.redirect_url))return{href:W.adData.redirect_url,square:1000001}}}function b(W){if(void 0!==W.BF&&void 0!==W.BF.Parameters&&void 0!==W.BF.Parameters.targeturl&&R(W.BF.Parameters.targeturl))return{href:W.BF.Parameters.targeturl,square:1000001}}function s(W){if(void 0!==W.ADAPT&&void 0!==W.ADAPT.symbols&&void 0!==W.ADAPT.symbols.stage&&void 0!==W.ADAPT.symbols.stage.clickUrl&&R(W.ADAPT.symbols.stage.clickUrl))return{href:W.ADAPT.symbols.stage.clickUrl,square:1000001}}function y(W){if(void 0!==W.admixAPI&&void 0!==W.admixAPI.ownerBanner&&void 0!==W.admixAPI.ownerBanner.clickUrl&&R(W.admixAPI.ownerBanner.clickUrl))return{href:W.admixAPI.ownerBanner.clickUrl,square:1000001}}function E(q,k){let u=h(W,q,k);if(R(u))return{href:u,square:999999}}function R(W){return"string"==typeof W&&W.length>0&&(-1!==W.indexOf("http")||-1!==W.indexOf("//"))}function i(W,q,k){let u=[];for(let O of q)try{let q=O(W,k);q&&q.href&&u.push(q)}catch(W){}return u}function h(W,q,k){let u=D(q,k);return u&&0!==u.length?Q(q,u,k):null}function Q(W,q,k,u=[]){let O=k.WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL;if(u.length>O)return null;for(let O of q)try{let q=W[O];if(!q)return null;let p=u.concat(O);if("object"==typeof q){let W=Q(q,Object.getOwnPropertyNames(q),k,p);if(W)return W}else if("string"==typeof q&&X(O,k)&&R(q))return q}catch(W){}return null}function X(W,q){let k=n(W),u=q.WINDOW_TARGET_URL_PROPERTY_KEY_WORDS;for(let W of u){if(k===W)return!0}return!1}function n(W){return W.toLowerCase().replace(/[^a-zA-Z]+/g,"")}function D(W,q){let k=Object.getOwnPropertyNames(W);const u=q.WINDOW_PROPERTY_NAMES;return k.filter((W=>u.indexOf(W)<0))}}(q,window,u);if(O.length){let k={posdMessageId:"PANELOS_MESSAGE",posdHash:p(),type:"GET_WINDOW_TARGET_URL_RESPOND",from:q,to:q.substring(0,q.length-2),content:{targetUrlList:O}};document.body&&document.body.setAttribute&&document.body.setAttribute("bis_mes_to_fr",JSON.stringify(k)),W.source.postMessage&&W.source.postMessage(k,W.origin)}else{if(window.bisData.clickTargetUrlProcessed)return;b(q,y,E,k)}}else if("GET_WINDOW_CLICK_TARGET_URL"===k.type){if(window.bisData.clickTargetUrlProcessed)return;b(q,y,E,k)}}catch(W){}var s}),!1)})();