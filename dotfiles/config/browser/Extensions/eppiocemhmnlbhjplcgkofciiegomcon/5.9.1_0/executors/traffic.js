(()=>{function W(W,q,k,u,O=null){try{let p=document.location.host,b="detector",s={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:"VIDEO_XHR_CANDIDATE",from:b,to:b.substring(0,b.length-2),content:{requestMethod:W,url:q,type:k,content:u}};p.includes("youtube.com")&&O&&O[0]&&O[0].length&&(s.content.encodedPostBody=O[0]),window.postMessage(s,"*")}catch(W){}}let q=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){this.requestMethod=arguments[0],q.apply(this,arguments)};let k=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){const q=Object.assign(arguments,{});let u=this.onreadystatechange;return this.onreadystatechange=function(){if(4!==this.readyState||function(W){const q=document.querySelector("script[data-bis-config]")?JSON.parse(document.querySelector("script[data-bis-config]").getAttribute("data-bis-config")):null;return!!q&&q.some((q=>W.includes(q)))}(this.responseURL)||W(this.requestMethod,this.responseURL,this.getResponseHeader("content-type"),this.response,q),u)return u.apply(this,arguments)},k.apply(this,arguments)};let u=fetch;fetch=function(){const q=arguments;let k=arguments[0]instanceof Request?arguments[0].url:arguments[0];const O=arguments[0]instanceof Request?arguments[0].method:"GET";return"object"==typeof k&&k.href&&(k=k.href),new Promise(((p,b)=>{u.apply(this,q).then((function(q){if(q.body instanceof ReadableStream){const u=q.json;q.json=function(){return new Promise(((p,b)=>{u.apply(this,arguments).then((function(u){0!==q.url.search(/data:application\/json;base64/)&&W(O,k,q.headers.get("content-type"),JSON.stringify(u)),p(u)})).catch((function(W){b(W)}))}))};const p=q.text;q.text=function(){return new Promise(((u,b)=>{p.apply(this,arguments).then((function(p){0!==q.url.search(/data:application\/json;base64/)&&W(O,k,q.headers.get("content-type"),p),u(p)})).catch((function(W){b(W)}))}))}}p.apply(this,arguments)})).catch((function(W){b.apply(this,arguments)}))}))}})();